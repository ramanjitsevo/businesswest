function armGetOtherTypeDate(e,r){var a="",e=e.split(r);return"d"==e[0]||"D"==e[0]?a="DD"+r:"m"==e[0]||"M"==e[0]?a="MM"+r:"y"==e[0]||"Y"==e[0]?a="YYYY"+r:"f"==e[0]||"F"==e[0]?a="MMMM"+r:"j"!=e[0]&&"J"!=e[0]||(a="D"+r),"d"==e[1]||"D"==e[1]?a=a+"DD"+r:"m"==e[1]||"M"==e[1]?a=a+"MM"+r:"y"==e[1]||"Y"==e[1]?a=a+"YYYY"+r:"f"==e[1]||"F"==e[1]?a=a+"MMMM"+r:"j"!=e[1]&&"J"!=e[1]||(a=a+"D"+r),"d"==e[2]||"D"==e[2]?a+="DD":"m"==e[2]||"M"==e[2]?a+="MM":"y"==e[2]||"Y"==e[2]?a+="YYYY":"f"==e[2]||"F"==e[2]?a+="MMMM":"j"!=e[2]&&"J"!=e[2]||(a+="D"),a}function armChangeDateFormat(e){return null==e||"d/m/Y"==e||"d-m-Y"==e||"d m Y"==e?"MM/DD/YYYY":"F j, Y"==e?"MMMM D, YYYY":"j F Y"==e?"D MMMM YYYY":"j F, Y"==e?"D MMMM, YYYY":"Y-m-d"==e?"YYYY-MM-DD":"m/d/Y"==e||"d/m/Y"==e?"MM/DD/YYYY":-1!=e.indexOf("-")?armGetOtherTypeDate(e,"-"):-1!=e.indexOf("/")?armGetOtherTypeDate(e,"/"):-1!=e.indexOf(" ")?armGetOtherTypeDate(e," "):"MM/DD/YYYY"}function arm_js_init(){var e,r,a,_,t;jQuery.isFunction(jQuery().tabs)&&jQuery("#arm_tabs").tabs(),jQuery.isFunction(jQuery().datetimepicker)&&(e=(t=new Date).getDate(),r=t.getMonth()+1,a=t.getFullYear(),t.setDate(t.getDate()+1),t.getDate(),t.getMonth(),t.getFullYear(),_=(r=r<10?"0"+r:r)+"/"+(e=e<10?"0"+e:e)+"/"+a,jQuery(".arm_datepicker_coupon").each(function(){var e=moment(_,"MM-DD-YYYY"),r=("1"!=jQuery(this).attr("data-editmode")||""!=(r=jQuery(this).val())&&null!=r&&(e=r),jQuery(this).data("date_format"));jQuery(".arm_datepicker_coupon").datetimepicker({useCurrent:!1,format:armChangeDateFormat(r),locale:"",minDate:e})}),t=jQuery("#arm_admin_import_export_start_date").data("date_format"),jQuery("#arm_admin_import_export_start_date, #arm_admin_import_export_end_date").datetimepicker({useCurrent:!1,format:armChangeDateFormat(t),locale:"",maxDate:new Date}))}function plan_skin_change(e){jQuery("#plan_skin_change_message").find(".popup_close_btn").trigger("click");var r=jQuery("#arm_setup_clicked_plan_skin"),a=r.parents(".arm_selectbox"),_=r.attr("data-label"),t=r.attr("data-value"),r=r.attr("data-type"),i=a.find("dd ul"),n=i.attr("data-id"),o=jQuery("input#"+n).val(),s=(a.find("dt span").html(_).show(),a.find("dt input").val(_).hide(),jQuery("input#"+n).val(t),setTimeout(function(){jQuery("input#"+n).attr("value",t)},500),document.getElementById(n).setAttribute("value",t),jQuery("input#"+n).attr("data-type",r),o!=t&&(jQuery("input#"+n).attr("data-old_value",o),jQuery("input#"+n).trigger("change")),i.find("li:not(.field_inactive)").show(),arm_setup_skin_default_color_array()),s=jQuery.parseJSON(s),d=jQuery("#arm_setup_clicked_plan_skin").val();for(e in s[d=""===d?"skin4":d]){var m=s[d][e];jQuery("#"+e).val(m),jQuery.isFunction(jQuery().colpick)&&jQuery("#"+e).colpickSetColor(m)}"skin6"==d?(jQuery('label[data-field="arm_setup_price_font_bold"]').addClass("arm_style_active"),jQuery("#arm_setup_price_font_bold").val(1),jQuery('label[data-field="arm_setup_title_font_bold"]').addClass("arm_style_active"),jQuery("#arm_setup_title_font_bold").val(1),jQuery('ul[data-id="arm_setup_font_family"] li[data-value="Poppins"]').trigger("click"),jQuery('ul[data-id="arm_setup_title_font_size"] li[data-value="20"]').trigger("click"),jQuery('ul[data-id="arm_setup_description_font_size"] li[data-value="15"]').trigger("click"),jQuery('ul[data-id="arm_setup_price_font_size"] li[data-value="28"]').trigger("click"),jQuery('ul[data-id="arm_setup_summary_font_size"] li[data-value="16"]').trigger("click"),jQuery('.arm_column_layout_type_radio[name="setup_data[setup_modules][plans_columns]"]').first().change(),jQuery('.arm_column_layout_type_radio[name="setup_data[setup_modules][cycle_columns]"]').first().change(),jQuery('.arm_column_layout_type_radio[name="setup_data[setup_modules][gateways_columns]"]').first().change(),jQuery(".arm_column_layout_type_radio").attr("disabled","disabled"),jQuery(".arm_column_layout_types_container").hide(),jQuery(".arm_setup_payment_cycle_grid_layout").hide(),jQuery("#arm_setup_type_paid_post_setup").is(":checked")&&jQuery(".arm_setup_plan_grid_layout").hide()):(jQuery('ul[data-id="arm_setup_font_family"] li[data-value="Poppins"]').trigger("click"),jQuery('ul[data-id="arm_setup_title_font_size"] li[data-value="20"]').trigger("click"),jQuery('ul[data-id="arm_setup_description_font_size"] li[data-value="15"]').trigger("click"),jQuery('ul[data-id="arm_setup_price_font_size"] li[data-value="28"]').trigger("click"),jQuery('ul[data-id="arm_setup_summary_font_size"] li[data-value="16"]').trigger("click"),jQuery(".arm_column_layout_type_radio").removeAttr("disabled"),jQuery(".arm_column_layout_types_container").show(),jQuery(".arm_setup_plan_grid_layout").show(),jQuery(".arm_setup_payment_cycle_grid_layout").show())}function arm_smtp_option_server_selection_func(e){"google_gmail"==e?(jQuery(".arm_smtp_slide_form").fadeOut("fast"),jQuery(".arm_smtp_slide_form.arm_email_server_google").fadeIn(),jQuery(".arm_test_email_container").fadeIn()):jQuery(".arm_smtp_slide_form.arm_email_server_google").fadeOut("fast")}function arm_pro_email_temp_additional_data_func(e,r){if(e.find(".arm_email_code_tax_percentage, .arm_email_code_plan_desc,.arm_email_code_tax_amount,.arm_email_code_payable_amount, .arm_email_code_trial_amount").addClass("hidden_section"),"grace-eot"!=r.arm_template_slug&&"failed-payment-admin"!=r.arm_template_slug||(e.find(".arm_email_code_plan_name").removeClass("hidden_section"),e.find(".arm_email_code_plan_amount").removeClass("hidden_section"),e.find(".arm_email_code_plan_discount").removeClass("hidden_section"),e.find(".arm_email_code_payment_type").removeClass("hidden_section"),e.find(".arm_email_code_payment_gateway").removeClass("hidden_section"),e.find(".arm_email_code_transaction_id").removeClass("hidden_section"),e.find(".arm_email_code_tax_percentage").removeClass("hidden_section"),e.find(".arm_email_code_tax_amount").removeClass("hidden_section"),e.find(".arm_email_code_trial_amount").removeClass("hidden_section"),e.find(".arm_email_code_payable_amount").removeClass("hidden_section"),e.find(".arm_email_code_plan_desc").removeClass("hidden_section")),void 0!==r.arm_multi_languages_data)for(var[a,_]of Object.entries(r.arm_multi_languages_data))void 0!==_.arm_template_subject&&""!=_.arm_template_subject&&(_.arm_template_subject=""),e.find("#arm_template_subject_translated_"+a).val(_.arm_template_subject),void 0!==_.arm_template_content&&""!=_.arm_template_content&&(_.arm_template_content=""),e.find("#arm_template_content_translated_"+a).val(_.arm_template_content);void 0!==r.arm_pdfcreator_email_switch&&"1"==r.arm_pdfcreator_email_switch?(0<e.find("#arm_email_cardpdf_attachment").length||0<e.find("#arm_email_invoicepdf_attachment").length)&&(e.find(".arm_pdfcreator_email_switch").show(),void 0!==r.arm_email_card_attachment_status&&("on"==r.arm_email_card_attachment_status?e.find("#arm_email_cardpdf_attachment").prop("checked",!0):e.find("#arm_email_cardpdf_attachment").prop("checked",!1)),void 0!==r.arm_email_invoice_attachment_status&&("on"==r.arm_email_invoice_attachment_status?e.find("#arm_email_invoicepdf_attachment").prop("checked",!0):e.find("#arm_email_invoicepdf_attachment").prop("checked",!1))):(0<e.find("#arm_email_cardpdf_attachment").length||0<e.find("#arm_email_invoicepdf_attachment").length)&&(e.find(".arm_pdfcreator_email_switch").hide(),e.find("#arm_email_cardpdf_attachment").prop("checked",!1),e.find("#arm_email_invoicepdf_attachment").prop("checked",!1))}function arm_pro_ml_email_temp_general_settings_tabs_func(e){0<jQuery(".arm_general_settings_multi_languages_standard_tab").length&&(e.find(".arm_general_settings_multi_languages_standard_tab input:not(.button)").val(""),e.find(".arm_general_settings_multi_languages_standard_tab textarea.wp-editor-area").val("")),0<jQuery(".edit_email_template_wrapper .arm_general_settings_tab.arm_general_settings_languages_tab_standard").length&&jQuery(".edit_email_template_wrapper .arm_general_settings_tab.arm_general_settings_languages_tab_standard:first").click()}function arm_pro_template_reset_action_func(e){var e=e.custom_css,r=jQuery('textarea[name="template_options[custom_css]"]').getCodeMirror()[0].CodeMirror;e!=r.getValue()&&r.setValue(e)}function arm_pro_plan_date_picker_func(e,r){return void 0===r&&(r="arm_user_add_plan_date_picker"),armChangeDateFormat(jQuery(r).data("date_format"))}function arm_pro_cancel_edit_user_expiry_date_func(e,r){return e=arm_change_date_value_format(e,armChangeDateFormat(jQuery('input[name="arm_subscription_expiry_date_'+r+'"]').attr("data-date_format")))}function arm_pro_open_edit_fields_popup_func(){0<jQuery(".arm_preset_fields_general_settings_languages_tab_standard .arm_general_settings_languages_tab").length&&jQuery(".arm_preset_fields_general_settings_languages_tab_standard .arm_general_settings_languages_tab:first").click()}function arm_pro_switch_payment_input_action_func(e){jQuery("#arm_"+e+"_debug_mode_switch_status").is(":checked")&&jQuery("#arm_"+e+"_debug_mode_switch_status").prop("checked",!1),jQuery("#arm_"+e+"_do_not_allow_pending_transaction_switch_status").is(":checked")&&jQuery("#arm_"+e+"_do_not_allow_pending_transaction_switch_status").prop("checked",!1)}function arm_pro_member_login_report_analytics_display_func(e){e?jQuery(".arm-submenu-item.arm_member_login_report_analytics").show():jQuery(".arm-submenu-item.arm_member_login_report_analytics").hide()}function arm_pro_common_message_settings_data_func(e){var _={action:"arm_update_common_message_settings"};return _._wpnonce=_wpnonce,_.arm_common_message_settings={},jQuery(".arm-form-table-content>input").each(function(){var e=jQuery(this).val(),r=jQuery(this).attr("id");_.arm_common_message_settings[r]=encodeURIComponent(e)}),0<jQuery(".arm_general_settings_multi_languages_tab").length&&(_.arm_common_message_settings.arm_multi_language_conversations={},jQuery(".arm_common_setting_multi_language_wrapper input").each(function(){var e=jQuery(this).val(),r=jQuery(this).attr("data-id"),a=jQuery(this).attr("data-language");void 0===_.arm_common_message_settings.arm_multi_language_conversations[a]&&(_.arm_common_message_settings.arm_multi_language_conversations[a]={}),_.arm_common_message_settings.arm_multi_language_conversations[a][r]=encodeURIComponent(e)})),"&common_message_post_data="+JSON.stringify(_)}function arm_pro_block_settings_ajax_data_func(e){return languages_settings="",0<jQuery(".arm_general_settings_multi_languages_tab").length&&(e+="&"+(languages_settings=jQuery(".arm_common_setting_multi_language_wrapper input").serialize())),e}function arm_pro_general_settings_additional_fields_action_func(r){var e,a=0;"country_tax"==jQuery("#arm_selected_tax_type").val()&&(jQuery(".arm_country_tax_field_list_dt").removeClass("arm_element_border_on_error"),jQuery(".arm_country_field_err").addClass("hidden_section"),""==jQuery("#arm_country_tax_field").val()&&(jQuery(".arm_country_tax_field_list_dt").addClass("arm_element_border_on_error"),jQuery(".arm_country_field_err").removeClass("hidden_section"),a=1,r++,e=jQuery("dl.arm_country_tax_field_list").offset().top-80,jQuery("html, body").animate({scrollTop:e},0)),jQuery("#enable_tax").prop("checked")&&0==a&&(jQuery(".arm_tax_country_list_wrapper").find("span.error.arm_invalid").remove(),jQuery(this).parent(".arm_tax_country_list_wrapper").find("dt").removeClass("arm_element_border_on_error"),jQuery(".arm_country_tax_field_inpt").each(function(){var e;""==jQuery(this).val()&&(jQuery(this).parent(".arm_tax_country_list_wrapper").find("dt").addClass("arm_element_border_on_error"),jQuery(this).parent(".arm_tax_country_list_wrapper").append("<span class='error arm_invalid'>"+ARM_COUNTRY_NAME_ERROR+"</span>"),r++),""==jQuery(this).parent(".arm_tax_country_list_wrapper").find(".arm_country_tax_val_inpt").val()&&(jQuery(this).parent(".arm_tax_country_list_wrapper").find(".arm_country_tax_val_inpt").addClass("arm_element_border_on_error"),r++),0<r&&(e=jQuery(".arm_tax_country_list_wrapper .arm_element_border_on_error:first").offset().top-80,jQuery("html, body").animate({scrollTop:e},0))})))}function arm_pro_message_select_box_change_action_func(e){"automatic_subscription_reminder"==e||"manual_subscription_reminder"==e?jQuery(".arm_message_period_section_form_manual_subscription").show():jQuery(".arm_message_period_section_form_manual_subscription").hide(),"before_dripped_content_available"==e?jQuery(".arm_message_period_section_for_dripped_content, .arm_before_dripped_content_available_url").show():jQuery(".arm_message_period_section_for_dripped_content, .arm_before_dripped_content_available_url").hide(),"before_expire_post"==e||"before_expire"==e?jQuery(".arm_message_period_section").show():jQuery(".arm_message_period_section").hide(),"on_new_subscription_gift"==e||"on_invite_gift"==e||"on_redeem_gift"==e?jQuery(".arm_send_gift_code_invite_member").show():jQuery(".arm_send_gift_code_invite_member").hide()}function arm_pro_transaction_delete_action_func(){arm_reload_pp_log_list(0,0,0,""),"function"==typeof arm_load_gift_transaction_list_grid&&arm_load_gift_transaction_list_grid()}function arm_pro_change_bank_transfer_status_func(e){var r=jQuery("#change_pp_transaction_status_message").is(":visible"),a=jQuery("#change_gp_transaction_status_message").is(":visible");return r?e=document.getElementById("pp_log_status").value:a&&(e=document.getElementById("gp_log_status").value),e}function arm_pro_change_bank_transfer_id_func(e){var r=jQuery("#change_pp_transaction_status_message").is(":visible"),a=jQuery("#change_gp_transaction_status_message").is(":visible");return r?e=document.getElementById("pp_log_id").value:a&&(e=document.getElementById("gp_log_id").value),e}function arm_update_plan_form_gateway_selection_action_func(e,r){return""!=r.gifts&&null!=r.gifts&&(jQuery(".arm_setup_gift_plans_main_container .arm_setup_plan_options_list").html(r.gifts),jQuery(".arm_setup_plan_layout_list").html(r.gift_layout_list),e=!0),e}function arm_pro_membershipsetup_init_func(){jQuery(document).on("change",".arm_setup_coupon_chk",function(){"1"==jQuery(this).val()?jQuery(".arm_setup_coupon_labels").removeClass("hidden_section"):jQuery(".arm_setup_coupon_labels").addClass("hidden_section")})}function arm_pro_form_date_picker_for_export_func(){var e=jQuery("#arm_admin_import_export_start_date").data("date_format");jQuery("#arm_admin_import_export_start_date, #arm_admin_import_export_end_date").datetimepicker({useCurrent:!1,format:armChangeDateFormat(e),locale:"",maxDate:new Date})}function arm_pro_get_updated_fields_response_func(e,r,a,_){"password"!=e&&"html"!=e&&"file"!=e&&"section"!=e&&"avatar"!=e&&""!=r&&(e=jQuery("input[name='arm_forms["+a+"]["+_+"][label]']").val(),a=jQuery("input[name='arm_forms["+a+"]["+_+"][meta_key]']").val(),jQuery("li[data-value = '"+r+"']").text(e),jQuery("#arm_opt_ins_cl_form_field").val()==r&&(jQuery(".arm_opt_ins_cl_form_field_span").text(e),jQuery(".arm_opt_ins_cl_form_field_auto").val(e),jQuery("#arm_opt_ins_cl_form_field").val(a)))}function arm_pro_js_init_func(e,a){jQuery(".arm_datepicker_coupon").each(function(){var e=moment(a,"MM-DD-YYYY"),r=("1"!=jQuery(this).attr("data-editmode")||""!=(r=jQuery(this).val())&&null!=r&&(e=r),jQuery(this).data("date_format"));jQuery(".arm_datepicker_coupon").datetimepicker({useCurrent:!1,format:armChangeDateFormat(r),locale:"",minDate:e})})}function arm_pro_form_datepicker_format_func(e,r){return armChangeDateFormat(jQuery(r).data("date_format"))}function arm_pro_colorpicker_init_func(e,r){var a="";a=(a=".arm_form_"+e+'.arm-default-form .arm-df__checkbox input[type="checkbox"]:checked + label:before {')+"border-right: 2px solid "+r+"; border-bottom: 2px solid "+r+"; }.arm_form_"+e+".arm-default-form .arm-df__dropdown-control .arm__dc--items-wrap .arm__dc--items { background:"+r+" }","writer_border"==jQuery("#arm_manage_form_layout").val()&&(a+=".arm_form_"+e+".arm--material-outline-style .arm-df__form-field-wrap .arm-df__label-text.active:before { background-color:"+r+" !important; }"),jQuery("#arm_material_outline_label_bg_color_style").text(a)}function arm_display_members_fields_sortable_popup_action_func(){jQuery(".arm_display_members_fields_sortable_popup").sortable({scroll:!0,containment:".arm_display_members_fields_selection_wrapper",tolerance:"pointer",axis:"y",cursor:"move",revert:!1,placeholder:"arm_profile_fields_li_place_holder",items:"li.arm_profile_fields_li",start:function(e,r){r=r.item[0].firstElementChild.offsetParent;jQuery(r).css("left","36.8%")}}),jQuery(".arm_accordion_inner_container#arm_card_fields_inner_container_edit").sortable({scroll:!0,containment:".arm_accordion_inner_container#arm_card_fields_inner_container_edit",tolerance:"pointer",axis:"y",cursor:"move",revert:!1,placeholder:"arm_profile_fields_li_place_holder",items:".arm_user_custom_meta_edit",start:function(e,r){r=r.item[0].id;jQuery("#"+r).css("right","9.1%")},stop:function(e,r){r.item.css({right:"",top:"",left:"",position:""})}}),jQuery(".arm_accordion_inner_container#arm_card_fields_inner_container_add").sortable({scroll:!0,containment:".arm_accordion_inner_container#arm_card_fields_inner_container_add",tolerance:"pointer",axis:"y",cursor:"move",revert:!1,placeholder:"arm_profile_fields_li_place_holder",items:".arm_user_custom_meta_add",start:function(e,r){r=r.item[0].id;jQuery("#"+r).css("right","7%")},stop:function(e,r){r.item.css({right:"",top:"",left:"",position:""})}})}function arm_init_coupon_paid_post_autocomplete(){jQuery.isFunction(jQuery().autocomplete)&&(jQuery("#arm_coupon_paid_post_items_input").autocomplete({minLength:0,delay:500,appendTo:"#arm_paid_post_items_list_container",source:function(e,r){var a=jQuery('input[name="arm_wp_nonce"]').val();jQuery.ajax({type:"post",url:ajaxurl,data:"action=arm_get_paid_post_item_coupon_options&search_key="+e.term+"&_wpnonce="+a,beforeSend:function(){},success:function(e){e=arm_convert_json_from_pattern(e),e=jQuery.parseJSON(e),r(e.data)}})},focus:function(){return!1},select:function(e,r){var a,r=r.item;return jQuery("#arm_coupon_paid_post_items_input").val(""),0<jQuery("#arm_paid_post_items .arm_paid_post_itembox_"+r.id).length||(a='<div class="arm_paid_post_itembox arm_paid_post_itembox_'+r.id+'">',a=(a+='<input type="hidden" name="arm_paid_post_item_id['+r.id+']" value="'+r.id+'"/>')+'<label style="color:#FFF">'+r.label+'<span class="arm_remove_selected_itembox">x</span></label></div>',jQuery("#arm_paid_post_items").append(a)),jQuery("#arm_paid_post_items").show(),!1}}).data("uiAutocomplete")._renderItem=function(e,r){var a="ui-menu-item",a=(0<jQuery("#arm_paid_post_items .arm_paid_post_itembox_"+r.id).length&&(a+=" ui-menu-item-selected"),'<li class="'+a+'" data-value="'+r.value+'" data-id="'+r.id+'" ><a>'+r.label+"</a></li>");return jQuery(a).appendTo(e)})}function arm_init_blk_coupon_paid_post_autocomplete(){jQuery.isFunction(jQuery().autocomplete)&&(jQuery("#arm_blk_coupon_paid_post_items_input").autocomplete({minLength:0,delay:500,appendTo:"#arm_blk_paid_post_items_list_container",source:function(e,r){var a=jQuery('input[name="arm_wp_nonce"]').val();jQuery.ajax({type:"post",url:ajaxurl,data:"action=arm_get_paid_post_item_coupon_options&search_key="+e.term+"&_wpnonce="+a,beforeSend:function(){},success:function(e){e=arm_convert_json_from_pattern(e),e=jQuery.parseJSON(e),r(e.data)}})},focus:function(){return!1},select:function(e,r){var a,r=r.item;return jQuery("#arm_blk_coupon_paid_post_items_input").val(""),0<jQuery("#arm_blk_paid_post_items .arm_paid_post_itembox_"+r.id).length||(a='<div class="arm_paid_post_itembox arm_paid_post_itembox_'+r.id+'">',a=(a+='<input type="hidden" name="arm_paid_post_item_id['+r.id+']" value="'+r.id+'"/>')+'<label style="color:#FFF">'+r.label+'<span class="arm_remove_selected_itembox">x</span></label></div>',jQuery("#arm_blk_paid_post_items").append(a)),jQuery("#arm_blk_paid_post_items").show(),!1}}).data("uiAutocomplete")._renderItem=function(e,r){var a="ui-menu-item",a=(0<jQuery("#arm_blk_paid_post_items .arm_paid_post_itembox_"+r.id).length&&(a+=" ui-menu-item-selected"),'<li class="'+a+'" data-value="'+r.value+'" data-id="'+r.id+'" ><a>'+r.label+"</a></li>");return jQuery(a).appendTo(e)})}function hideAddUserAchievementsBox(){jQuery(".arm_confirm_box_add_user_achievements.armopen").removeClass("armopen").toggle("slide",function(){jQuery(".armGridActionTD").removeClass("armopen"),jQuery("tr").removeClass("armopen"),jQuery(".arm_confirm_back_wrapper").remove()}),jQuery(".arm_add_admin_badge").removeClass("active"),jQuery("#arm_badges_id").val("")}function apply_bulk_action_subscription_plans_list(){var e=jQuery('[name="action1"]').val(),r=jQuery('[name="action2"]').val(),a=jQuery("#bulk_delete_flag").val(),_=jQuery('input[name="item-action[]"]:checked').length;if(("delete_plan"==e||"delete_plan"==r)&&0<_&&"false"==a)return jQuery("#delete_bulk_plan_message").bPopup({closeClass:"popup_close_btn"}),!1;jQuery("#bulk_delete_flag").val("false");e=jQuery("form").serialize();return jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_delete_bulk_plans&"+e,dataType:"json",success:function(e){var r;"success"==e.type?(r=""!=e.msg?e.msg:delPlansSuccess,armToast(r,"success"),jQuery('input[name="item-action[]"]:checked').each(function(){var e=jQuery(this).val();jQuery(".row_"+e).fadeOut("slow")})):(r=""!=e.msg?e.msg:delPlansError,armToast(r,"error")),arm_tooltip_init()}}),!1}function arm_close_button_hover_url(e){var r=jQuery("#arm_add_hidden_field_link").attr("data-hover_img_url");jQuery('a[data-index="'+e+'"]').children("img").attr("src",r)}function arm_close_button_mouseout_url(e){var r=jQuery("#arm_add_hidden_field_link").attr("data-img_url");jQuery('a[data-index="'+e+'"]').children("img").attr("src",r)}function arm_reload_drip_rule_list(r,e,a,_){var r=""==r||null==r||void 0===r?"":r,e=""==e||null==e||void 0===e?"0":e,a=""==a||null==a||void 0===a?"0":a,_=void 0===_||null==_||""==_?"0":_,t=jQuery('input[name="arm_wp_nonce"]').val();jQuery("#arm_drip_rule_grid_filter_btn").attr("disabled","disabled"),jQuery(".arm_loading_grid").fadeIn("slow"),jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_filter_drip_rules_list&search="+r+"&plan_id="+e+"&drip_type="+_+"&dctype="+a+"&_wpnonce="+t,success:function(e){jQuery("#armmanagesearch_new_drip:last-child").val(r),arm_load_drip_rules_list_grid(),arm_js_init()}}),jQuery("#arm_drip_rule_grid_filter_btn").removeAttr("disabled")}function arm_delete_bulk_drip_rules(e){jQuery("#bulk_delete_flag").val("true");jQuery("#delete_bulk_drip_rules_message").bPopup().close(),jQuery("#drip_rule_list_form").submit()}function apply_bulk_action_drip_list(){var e=jQuery('[name="action1"]').val(),r=jQuery('[name="action2"]').val(),a=jQuery("#bulk_delete_flag").val(),_=jQuery("form#drip_rule_list_form").serialize(),t=jQuery('input[name="item-action[]"]:checked').length;if(("delete_drip_rule"==e||"delete_drip_rule"==r)&&0<t&&"false"==a)return jQuery("#delete_bulk_drip_rules_message").bPopup({position:["40%","40%"],positionStyle:"fixed",follow:[!1,!1],closeClass:"popup_close_btn"}),!1;jQuery("#bulk_delete_flag").val("false");e=jQuery('input[name="arm_wp_nonce"]').val();return jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_delete_bulk_drip_rules&"+_+"&_wpnonce="+e,success:function(e){var r;e=arm_convert_json_from_pattern(e),"success"==(e=jQuery.parseJSON(e)).type?(r=""!=e.msg?e.msg:delRulesSuccess,armToast(r,"success"),jQuery(".arm_reset_bulk_action").trigger("click"),arm_load_drip_rules_list_grid()):(r=""!=e.msg?e.msg:delRulesError,armToast(r,"error"))}}),!1}function reset_to_default_invoice(){var e=jQuery('input[name="arm_wp_nonce"]').val();return jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_reset_invoice_to_default&_wpnonce="+e,success:function(e){e=arm_convert_json_from_pattern(e),(e=jQuery.parseJSON(e)).type="success",hideConfirmBoxCallback(),armToast(e.msg,"success");e=e.arm_default_invoice;return"undefined"!=typeof tinyMCE&&tinyMCE.activeEditor&&!tinyMCE.activeEditor.isHidden()&&(tinymce.activeEditor.getContent(),jQuery(".popup_close_btn").trigger("click"),tinyMCE.get("arm_invoice_content").setContent(e),"undefined"!=typeof tinyMCE&&jQuery.isFunction(tinyMCE.triggerSave)&&tinyMCE.triggerSave()),!1}}),!1}function arm_reload_gp_log_list(e,r,a,_){e=""==e||null==e||void 0===e?"0":e,r=""==r||null==r||void 0===r?"0":r,a=""==a||null==a||void 0===a?"0":a,_=""==_||null==_||void 0===_?"":_;jQuery(".arm_loading_grid").fadeIn("slow"),jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_filter_gp_transactions_list&gateway="+e+"&ptype="+r+"&pstatus="+a+"&search="+_,success:function(e){jQuery("#arm_gift_transactions_grid_container").html(e),jQuery(".arm_loading_grid").fadeOut(),arm_js_init()}})}function arm_reload_pp_log_list(e,r,a,_){var e=""==e||null==e||void 0===e?"0":e,r=""==r||null==r||void 0===r?"0":r,a=""==a||null==a||void 0===a?"0":a,_=""==_||null==_||void 0===_?"":_,t=jQuery('input[name="arm_wp_nonce"]').val();jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_filter_pp_transactions_list&gateway="+e+"&ptype="+r+"&pstatus="+a+"&search="+_+"&_wpnonce="+t,success:function(e){jQuery("#armember_datatable_1").dataTable().fnDestroy(),"function"==typeof arm_load_paid_post_transaction_list_grid&&arm_load_paid_post_transaction_list_grid(!0),arm_js_init()}})}function apply_transactions_bulk_action(e){jQuery("#"+e).val("true");jQuery("#delete_bulk_form_message").bPopup().close(),jQuery("#transactions_list_form").submit()}function apply_pp_transactions_bulk_action(e){jQuery("#"+e).val("true");jQuery("#delete_bulk_pp_transactions_message").bPopup().close(),jQuery("#paid_post_transactions_list_form").submit()}function apply_gp_transactions_bulk_action(e){jQuery("#"+e).val("true");jQuery("#delete_bulk_gp_transactions_message").bPopup().close(),jQuery("#gift_transactions_list_form").submit()}function arm_transactions_list_form_bulk_action(){var e=jQuery('[name="action1"]').val(),r=jQuery('[name="action2"]').val(),a=jQuery("#bulk_delete_flag").val(),_=jQuery('input[name="item-action[]"]:checked').length+jQuery('input[name="bt-item-action[]"]:checked').length;jQuery("#transactions_list_form");if(0<_)if("delete_transaction"==e||"delete_transaction"==r){if("false"==a)return jQuery("#delete_bulk_transactions_message").bPopup({position:["40%","40%"],positionStyle:"fixed",follow:[!1,!1],closeClass:"popup_close_btn"}),!1;jQuery("#bulk_delete_flag").val("false");_=jQuery("#transactions_list_form").serialize();jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_bulk_delete_transactions&"+_,success:function(e){e=arm_convert_json_from_pattern(e),"success"==(e=jQuery.parseJSON(e)).type?(jQuery(".dataTables_scroll").hide(),jQuery(".footer").hide(),jQuery("#armember_datatable").dataTable().fnDestroy(),jQuery(".arm_reset_bulk_action").trigger("click"),armToast(e.msg,"success"),arm_load_trasaction_list_filtered_grid()):armToast(e.msg,"error")}})}else armToast(bulkActionError,"error");else armToast(bulkRecordsError,"error");return!1}function arm_paid_post_transactions_list_form_bulk_action(){var e=jQuery('[name="action1"]').val(),r=jQuery('[name="action2"]').val(),a=jQuery("#bulk_pp_delete_flag").val(),_=jQuery('input[name="pp-item-action[]"]:checked').length+jQuery('input[name="pp-bt-item-action[]"]:checked').length;jQuery("#paid_post_transactions_list_form");if(0<_)if("delete_transaction"==e||"delete_transaction"==r){if("false"==a)return jQuery("#delete_bulk_pp_transactions_message").bPopup({position:["40%","40%"],positionStyle:"fixed",follow:[!1,!1],closeClass:"popup_close_btn"}),!1;jQuery("#bulk_pp_delete_flag").val("false");_=jQuery("#paid_post_transactions_list_form").serialize();jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_bulk_delete_transactions&"+_,success:function(e){e=arm_convert_json_from_pattern(e),"success"==(e=jQuery.parseJSON(e)).type?(jQuery(".dataTables_scroll").hide(),jQuery(".footer").hide(),jQuery("#armember_datatable").dataTable().fnDestroy(),jQuery(".arm_reset_bulk_action").trigger("click"),armToast(e.msg,"success"),arm_load_paid_post_trasaction_list_filtered_grid()):armToast(e.msg,"error")}})}else armToast(bulkActionError,"error");else armToast(bulkRecordsError,"error");return!1}function arm_gift_transactions_list_form_bulk_action(){var e=jQuery('[name="action1"]').val(),r=jQuery('[name="action2"]').val(),a=jQuery("#bulk_gp_delete_flag").val(),_=jQuery('input[name="gp-item-action[]"]:checked').length+jQuery('input[name="gp-bt-item-action[]"]:checked').length;jQuery("#gift_transactions_list_form");if(0<_)if("delete_transaction"==e||"delete_transaction"==r){if("false"==a)return jQuery("#delete_bulk_gp_transactions_message").bPopup({closeClass:"popup_close_btn"}),!1;jQuery("#bulk_gp_delete_flag").val("false");_=jQuery("#gift_transactions_list_form").serialize();jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_bulk_delete_transactions&"+_,success:function(e){e=arm_convert_json_from_pattern(e),"success"==(e=jQuery.parseJSON(e)).type?(jQuery(".dataTables_scroll").hide(),jQuery(".footer").hide(),jQuery("#armember_datatable").dataTable().fnDestroy(),jQuery(".arm_reset_bulk_action").trigger("click"),armToast(e.msg,"success"),arm_load_gift_trasaction_list_filtered_grid()):armToast(e.msg,"error")}})}else armToast(bulkActionError,"error");else armToast(bulkRecordsError,"error");return!1}function generate_code(){jQuery("#arm_generate_coupon_img").show();var e=jQuery('input[name="arm_wp_nonce"]').val();jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_generate_code&_wpnonce="+e,success:function(e){e=arm_convert_json_from_pattern(e),""!=(e=jQuery.parseJSON(e)).arm_coupon_code&&(e=e.arm_coupon_code,jQuery("#arm_coupon_code").val(e)),jQuery("#arm_generate_coupon_img").hide()}})}function apply_bulk_action_coupon_list(){var e=jQuery('[name="action1"]').val(),r=jQuery('[name="action2"]').val(),a=jQuery("#bulk_delete_flag").val(),_=jQuery('input[name="item-action[]"]:checked').length;return("delete_coupon"==e||"delete_coupon"==r)&&0<_&&"false"==a?jQuery("#delete_bulk_coupon_message").bPopup({position:["40%","40%"],positionStyle:"fixed",follow:[!1,!1],closeClass:"popup_close_btn"}):0<_&&(jQuery("#armember_datatable").css("visibility","hidden"),jQuery("#bulk_delete_flag").val("false"),jQuery("#doaction1").attr("disabled","disabled"),e=jQuery("#coupon_list_form").serialize(),jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_delete_bulk_coupons&"+e,success:function(e){var r;e=arm_convert_json_from_pattern(e),"success"==(e=jQuery.parseJSON(e)).type?(jQuery(".arm_reset_bulk_action").trigger("click"),r=""!=e.msg?e.msg:delCouponsSuccess,armToast(r,"success"),arm_loadCouponData()):(r=""!=e.msg?e.msg:delCouponsError,armToast(r,"error")),arm_selectbox_init(),arm_tooltip_init(),arm_show_data()}}),jQuery("#doaction1").removeAttr("disabled")),!1}function arm_delete_bulk_coupons(e){jQuery("#delete_bulk_coupon_message").bPopup().close();jQuery("#bulk_delete_flag").val("true");jQuery("#coupon_list_form").submit()}function arm_buddypress_sync_progressbar(a,e,r){var _;r&&(_=new sack(__ARMAJAXURL),r=jQuery('input[name="arm_wp_nonce"]').val(),_.execute=0,_.method="POST",_.async=!0,_.setVar("action","arm_buddypress_sync_progress"),_.setVar("total_users",e),_.setVar("_wpnonce",r),_.onCompletion=function(){var e,r=_.response;(r=jQuery.parseJSON(r)).error?(clearInterval(a),jQuery(".arm_buddypress_sync_progressbar").hide()):(e=r.percentage,jQuery(".arm_buddypress_sync_progressbar_inner").css("width",e+"%"),jQuery(".arm_buddypress_sync_progressbar_inner").html(e+"%"),0==r.continue&&(clearInterval(a),setTimeout(function(){jQuery(".arm_buddypress_sync_progressbar_inner").html("100%"),jQuery(".arm_buddypress_sync_progressbar").hide()},1e3)))},_.runAJAX())}function show_email_tool_verify_btn(e){"mailchimp"==e&&(jQuery("#arm_mailchimp_api_error").hide(),jQuery("#arm_mailchimp_error").hide(),jQuery("#arm_mailchimp_link").show()),"constant"==e&&(""!=jQuery("#arm_constant_api_key").val()&&jQuery("#arm_constant_api_key_error").hide(),""!=jQuery("#arm_constant_access_token").val()&&jQuery("#arm_constant_access_token_error").hide(),jQuery("#arm_constant_error").hide(),jQuery("#arm_constant_link").show()),"getresponse"==e&&(""!=jQuery("#arm_getresponse_api_key").val()&&jQuery("#arm_getresponse_api_key_error").hide(),jQuery("#arm_getresponse_error").hide(),jQuery("#arm_getresponse_link").show()),"mailerlite"==e&&(""!=jQuery("#arm_mailerlite_api_key").val()&&jQuery("#arm_mailerlite_api_key_error").hide(),jQuery("#arm_mailerlite_error").hide(),jQuery("#arm_mailerlite_link").show()),"sendinblue"==e&&(jQuery("#arm_sendinblue_api_error").hide(),jQuery("#arm_sendinblue_error").hide(),jQuery("#arm_sendinblue_link").show())}function arm_armember_deactivate_license(){""!=jQuery("#arm_armember_remove_license_flag").val()&&(deactivate_license(),jQuery("#arm_armember_remove_license_form_message").bPopup().close())}function arm_add_import_user_form_action(){var e,a,r,_=jQuery('input[name="item-action[]"]:checked').length,t=!1,i="",n="",o=jQuery('input[name="arm_wp_nonce"]').val();if(jQuery("#arm_user_password_fixed").is(":checked")){var i="generate_fixed",s=jQuery("#arm_import_user_fix_password").val();if(""===s)return armToast(nopasswordforimport,"error"),!1}else jQuery("#arm_user_password_dynamically").is(":checked")?(i="generate_dynamic",jQuery("#arm_send_mail_to_imported_users").is(":checked")&&(t=!0)):jQuery("#arm_user_password_from_csv").is(":checked")&&(i="generate_from_csv",n=jQuery("[name=arm_password_type]:checked").val());return 0<_?(jQuery("body").append('<div class="arm_member_import_loader_wrapper">&nbsp;</div>'),jQuery(".arm_import_progressbar").show(),(e=jQuery("#arm_add_import_user_form")).find(".arm_loader_img").fadeIn("slow"),jQuery(".arm_add_import_user_submit_btn").attr("disabled","disabled"),e=e.ArmFilterFormData(),e=jQuery.toJSON(e),a=new sack(__ARMAJAXURL),r=jQuery('input[name="arm_wp_nonce"]').val(),a.execute=0,a.method="POST",a.async=!0,a.setVar("action","arm_add_import_user"),a.setVar("send_email",t),a.setVar("generate_password_type",i),a.setVar("fixed_password",s),a.setVar("password_type",n),a.setVar("filtered_form",e),a.setVar("_wpnonce",r),1==arm_import_export_continue_flag&&a.setVar("arm_import_export_continue_flag",arm_import_export_continue_flag),a.onError=function(){arm_import_export_continue_flag=1,arm_add_import_user_form_action()},a.onCompletion=function(){jQuery(".arm_add_import_user_submit_btn").removeAttr("disabled"),jQuery(".arm_loader_img").fadeOut();var e=a.response,r=(e=jQuery.parseJSON(e)).type,e=e.msg;"success"!=r&&armToast(e,"error")},a.runAJAX(),arm_import_member_progressbar(_,"",o)):armToast(bulkRecordsError,"error"),!1}function deactivate_license(){return jQuery("#deactivate_loader").css("display","block"),jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=armdeactlic&_wpnonce="+jQuery('input[name="arm_wp_nonce"]').val(),success:function(e){jQuery("#remove-license-purchase-code").prop("disabled",!1),jQuery("#deactivate_loader").css("display","none"),"License Deactivted Sucessfully."==e||"License Deactivated Successfully."==e?(armToast(e,"success"),jQuery("#deactivate_error").css("display","none")):(jQuery("#deactivate_error").css("display","block"),jQuery("#deactivate_success").css("display","none")),setTimeout(function(){window.location.reload()},2e3)}}),!1}function clear_login_history(e){var r=jQuery('input[name="arm_wp_nonce"]').val();jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:{action:"arm_failed_login_history_clear",_wpnonce:r},success:function(e){jQuery("#arm_reset_history_loader_img").css("display","none"),window.location.reload()}}),hideConfirmBoxCallback()}function arm_change_date_value_format(e,r){var e=new Date(e),a=["January","February","March","April","May","June","July","August","September","October","November","December"];return-1<(r=-1<(r=-1<r.indexOf("YYYY")?r.replace("YYYY",e.getFullYear().toString()):r).indexOf("DD")?r.replace("DD",e.getDate().toString().padStart(2,"0")):r.replace("D",e.getDate().toString().padStart(2,"0"))).indexOf("MMMM")?r=r.replace("MMMM",a[e.getMonth()]):-1<r.indexOf("MM")&&(r=r.replace("MM",a[e.getMonth()])),r}function arm_plan_cycle(e){var r;""!=e&&(r=jQuery('input[name="arm_wp_nonce"]').val(),jQuery(".arm_plan_cycle_detail_popup").bPopup({opacity:.5,follow:[!1,!1],closeClass:"arm_plan_cycle_detail_close_btn",onClose:function(){jQuery(".arm_plan_cycle_text").html('<div style="width: 100%; margin: 45px auto;"> <img src="'+__ARMLITEIMAGEURL+'/arm_loader.gif"></div>')}}),jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_display_plan_cycle&plan_id="+e+"&_wpnonce="+r,success:function(e){var e=(e=arm_convert_json_from_pattern(e)).split("^|^"),r=e[0],e=e[1];""!=r&&jQuery(".arm_plan_name").html("( "+r+" )"),""!=e?jQuery(".arm_plan_cycle_text").html(e):armToast(prevImportMemberDetailError,"error")}}))}function arm_paid_post_cycle(e){var r;""!=e&&(r=jQuery('input[name="arm_wp_nonce"]').val(),jQuery(".arm_paid_post_cycle_detail_popup").bPopup({opacity:.5,follow:[!1,!1],closeClass:"arm_paid_post_cycle_detail_close_btn",onClose:function(){jQuery(".arm_paid_post_cycle_text").html('<div style="width: 100%; margin: 45px auto;"> <img src="'+__ARMLITEIMAGEURL+'/arm_loader.gif"></div>')}}),jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_display_paid_post_cycle&paid_post_id="+e+"&_wpnonce="+r,success:function(e){var e=(e=arm_convert_json_from_pattern(e)).split("^|^"),r=e[0],e=e[1];""!=r&&jQuery(".arm_paid_post_name").html("( "+r+" )"),""!=e?jQuery(".arm_paid_post_cycle_text").html(e):armToast(prevImportMemberDetailError,"error")}}))}function arm_get_card_preview(e){jQuery(".arm_mcard_template_popup_text").hide(),(0<jQuery(".arm_member_card_template_preview").length?jQuery(".arm_member_card_template_preview"):jQuery(".arm_mcard_template_popup_text")).html(""),arm_set_loader_timeout("arm_mcard_template_popup_text","hide"),jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:e,success:function(e){e=arm_convert_json_from_pattern(e),""!=(e=jQuery.parseJSON(e))?(jQuery(".arm_loading").fadeOut(),0<jQuery(".arm_member_card_template_preview").length?void 0!==e.card_html&&""!=e.card_html||""==e.popup?jQuery(".arm_member_card_template_preview").html(e.card_html):jQuery(".arm_member_card_template_preview").html(e.popup):void 0!==e.card_html&&""!=e.card_html||""==e.popup?jQuery(".arm_mcard_template_popup_text").html(e.card_html):jQuery(".arm_mcard_template_popup_text").html(e.popup),jQuery(".arm_mcard_template_preview_popup").bPopup({opacity:.5,follow:[!1,!1],closeClass:"arm_template_preview_close_btn",onClose:function(){jQuery(".armember_page_arm_profiles_directories .arm_mcard_template_preview_popup").remove()}},function(){var e=jQuery(".arm_template_preview_popup").css("left"),r=jQuery(".arm_template_preview_popup").outerWidth(),e=e.replace("px","");jQuery(".arm_template_preview_popup").attr("data-modalleft",e),jQuery(".arm_template_preview_popup").attr("data-modalwidth",r),"function"==typeof armAdjustDirectoryTemplateBox&&armAdjustDirectoryTemplateBox()}),e=jQuery(".arm_template_preview_popup").height(),jQuery(".arm_template_preview_popup .popup_content_text").css("height",e-60+"px"),arm_set_loader_timeout("arm_mcard_template_popup_text","show")):(alert(prevTemplateError),jQuery(".arm_loading").fadeOut())}})}function arm_mail_authentication_func(e){1==jQuery("#arm_mail_authentication:checked").val()?jQuery(".arm_email_settings_login_name_main").slideDown():jQuery(".arm_email_settings_login_name_main").slideUp()}function arm_open_bulk_coupon_popup(){jQuery(".arm_bulk_coupon_form_fields_popup_div .error.arm_invalid").each(function(){jQuery("span.error.arm_invalid").html(""),jQuery(this).removeClass("error"),jQuery(this).removeClass("arm_invalid")}),jQuery(".chosen-search-input").show(),jQuery(".arm_bulk_coupon_form_fields_popup_div").find("#arm_subscription_coupons option").each(function(){jQuery(this).prop("selected",!1).trigger("chosen:updated")}),jQuery(".arm_bulk_coupon_form_fields_popup_div").find('input:not([type="checkbox"],[type="radio"],[type="button"],.arm-selectpicker-input-control,.arm_user_plan_date_picker,#arm_member_form_selection)').val(""),jQuery(".arm_bulk_coupon_form_fields_popup_div .arm_selectbox").each(function(){jQuery(this).find("li:first-child").trigger("click")}),jQuery("#arm_loader_img_bulk_coupon_field").hide(),jQuery('input[name="arm_action"]').val("add_coupon"),jQuery('input[name="op_type"]').val("bulk_add"),jQuery(".arm_bulk_coupon_form_fields_popup_div").find("#blk_period_type_unlimited").trigger("click"),jQuery(".arm_bulk_coupon_form_fields_popup_div").find("#blk_period_type_daterange").trigger("click"),jQuery(".arm_bulk_coupon_form_fields_popup_div").find("#coupon_type_membership_plan").trigger("click"),jQuery(".arm_bulk_coupon_form_fields_popup_div").find("#arm_subscription_coupons_chosen .chosen-search-input").show(),arm_popup_initialize(".arm_bulk_coupon_form_fields_popup_div",160,0,"slideDown"),jQuery(".arm_coupon_form_label.arm_add_coupon_label").removeClass("hidden_section"),arm_selectbox_init(),arm_js_init(),arm_js_datepicker_init()}function smtp_debug_notices(e){jQuery("#arm_smtp_debug_notices").bPopup().close()}function generate_security_key(){jQuery("#arm_generate_security_key_img").show();var a=jQuery("#arm_api_security_key").attr("data-old_value"),e=jQuery('input[name="arm_wp_nonce"]').val();jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_generate_api_key&_wpnonce="+e,success:function(e){var r;e=arm_convert_json_from_pattern(e),""!=(e=jQuery.parseJSON(e)).arm_api_key&&(e=e.arm_api_key,jQuery("#arm_api_security_key").val(e),jQuery("#arm_api_security_key").attr("data-old_value",e),a="arm_api_key="+a,r="arm_api_key="+e,jQuery(".arm_api_key_data_text").each(function(){var e=jQuery(this).text();data_key=e.replace(a,r),jQuery(this).text(data_key)}),jQuery(".arm_api_key_data").each(function(){var e=jQuery(this).attr("data-code");data_key=e.replace(a,r),jQuery(this).attr("data-code",data_key)})),jQuery("#arm_generate_security_key_img").hide()}})}function arm_show_data(){jQuery("#armember_datatable, .arm_hide_datatable").css("visibility","unset")}function arm_verify_pg_webhook(e){var r=jQuery('input[name="arm_wp_nonce"]').val();return"stripe"==e&&(jQuery("#arm_stripe_webhook_verify").css("display","none"),jQuery("#arm_stripe_webhook_error").css("display","none"),jQuery("#arm_stripe_webhook_verified-error").css("display","none"),(e="")!=(e=("test"==jQuery("input[name='payment_gateway_settings[stripe][stripe_payment_mode]']:checked").val()?jQuery("#arm_stripe_test_secrate_key"):jQuery("#arm_stripe_live_secrate_key")).val())?(jQuery(".arm_loading").fadeIn("slow"),jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_verify_stripe_webhook&secrate_key="+e+"&_wpnonce="+r,success:function(e){e=arm_convert_json_from_pattern(e),"success"==(e=jQuery.parseJSON(e)).type?(jQuery(".arm_loading").fadeOut(),jQuery("#arm_stripe_webhook_verify").html(e.message),jQuery("#arm_stripe_webhook_verify").css("display","inline-block"),jQuery("#arm_stripe_webhook_verified").val(1)):(jQuery(".arm_loading").fadeOut(),jQuery("#arm_stripe_webhook_error").html(e.message),jQuery("#arm_stripe_webhook_error").css("display","inline-block"),jQuery("#arm_stripe_webhook_verified").val(""))}})):jQuery("#arm_payment_geteway_form").valid()),!1}function showConfirmBoxCallback_sync(){var e=jQuery("#arm_confirm_box_arm_drip_sync");1==e.is(":visible")?hideConfirmBoxCallback():(e.addClass("arm_confirm_box_arm_drip_sync"),e.addClass("armopen").fadeToggle(),e.parents(".arm_sync_drip_row").toggleClass("armopen"),e.parents(".arm_sync_drip_row").append('<div class="arm_confirm_back_wrapper" onclick="hideConfirmBoxCallback();"></div>'),e.parents(".arm_sync_drip_row").append('<div class="arm_confirm_back_wrapper" onclick="hideConfirmBoxCallback();"></div>'))}function hideConfirmBoxCallback_sync(){return jQuery(".arm_confirm_box.armopen").removeClass("armopen").toggle(300,"linear",function(){jQuery(".arm_sync_drip_row").removeClass("armopen"),jQuery(".arm_confirm_back_wrapper").remove(),jQuery(".arm_confirm_box.arm_confirm_box_arm_drip_sync").removeClass("arm_confirm_box_arm_drip_sync")}),!1}function arm_import_drip_rule_progressbar(a,e){var r=jQuery('input[name="arm_wp_nonce"]').val(),r={url:__ARMAJAXURL,type:"POST",data:"action=arm_drip_data_sync_progress&total_drips="+a+"&_wpnonce="+r,success:function(e){e=arm_convert_json_from_pattern(e);var r=(e=jQuery.parseJSON(e)).percentage;jQuery(".arm_drip_rule_sync_progressbar_inner").css("width",r+"%"),jQuery(".arm_drip_rule_sync_progressbar_inner").html(r+"%"),!0===e.continue?arm_import_drip_rule_progressbar(a):(jQuery(".arm_drip_rule_sync_progressbar_inner").html("100%"),setTimeout(function(){jQuery(".arm_drip_rule_sync_progressbar").hide(0),jQuery(".arm_drip_rule_sync_progressbar_inner").css("width","0"),jQuery(".arm_drip_rule_sync_progressbar_inner").html("0"),jQuery(".arm_drip_rule_sync_btn_div").hide(0)},1500),jQuery("#arm_access_restriction_settings_btn").removeAttr("disabled"),jQuery(".arm_drip_rule_sync_btn").removeAttr("disabled"))}};jQuery.ajax(r)}function showConfirmBoxCallback_refund(e){return""!=e&&((e=jQuery("#arm_confirm_box_refund_"+e)).find(".arm_confirm_box_btn_container").fadeIn(),e.addClass("armopen").fadeToggle(),e.parents(".armGridActionTD").toggleClass("armopen"),e.parents("tr").toggleClass("armopen"),e.parents(".dataTables_wrapper").append('<div class="arm_confirm_back_wrapper" onclick="hideConfirmBoxCallback();"></div>'),e.parents(".armPageContainer").append('<div class="arm_confirm_back_wrapper" onclick="hideConfirmBoxCallback();"></div>'),"full"==e.find(".arm_refund_mode_radio:checked").val()&&e.find(".arm_refund_amount_container").addClass("hidden_section")),!1}function ChangeStatus(e,r){document.getElementById("log_id").value=e,document.getElementById("log_status").value=r}function ArmPPChangeStatus(e,r){document.getElementById("log_id").value=e,document.getElementById("log_status").value=r}function showConfirmBoxCallback_post_plan(e){return""!=e&&(1==(e=jQuery("#arm_confirm_box_post_plan_"+e)).is(":visible")?hideConfirmBoxCallback():(e.addClass("armopen").fadeToggle(),e.parents(".armGridActionTD").toggleClass("armopen"),e.parents("tr").toggleClass("armopen"),e.parents(".dataTables_wrapper").append('<div class="arm_confirm_back_wrapper" onclick="hideConfirmBoxCallback();"></div>'),e.parents(".armPageContainer").append('<div class="arm_confirm_back_wrapper" onclick="hideConfirmBoxCallback();"></div>'))),!1}function showConfirmBoxDirectoryCallback(e){if(""!=e){if("arm_clear_login_user"==e){if(null==jQuery("#arm_reset_login_attempts_users").val())return jQuery(".arm_reset_login_attempts_users_error").fadeIn(),!1;jQuery(".arm_reset_login_attempts_users_error").fadeOut()}jQuery("#doaction1").hide();e=jQuery("#arm_confirm_box_"+e);e.addClass("armopen").fadeToggle(),e.parents(".armGridActionTD").toggleClass("armopen"),e.parents("tr").toggleClass("armopen"),e.parents(".arm_profiles_directories_content").append('<div class="arm_confirm_back_wrapper" onclick="hideConfirmBoxCallback();"></div>')}return!1}jQuery(function(e){jQuery(document).on("change",".existing_form_select",function(){var e=jQuery(this).val();jQuery("#add_new_form_type").val();""==e?jQuery(".is_specific_field").slideUp("slow").addClass("hidden_section"):(jQuery(".existing_form_fields").slideUp("slow").addClass("hidden_section"),jQuery(".is_specific_field_input").is(":checked")&&jQuery(".existing_form_fields_"+e).slideDown("slow").removeClass("hidden_section"),jQuery(".is_specific_field").slideDown("slow").removeClass("hidden_section"))}),jQuery("#form_arm_add_new_reg_form").validate({ignore:"",errorClass:"error arm_invalid",validClass:"valid arm_valid",rules:{"arm_new_form[arm_form_label]":{required:!0,remote:{url:__ARMAJAXURL,type:"post",data:{action:"check_unique_set_name",arm_form_name:function(){return jQuery("#unique_form_name").val()},_wpnonce:function(){return jQuery('input[name="arm_wp_nonce"]').val()}}}},"arm_new_form[settings][redirect_page]":{required:function(){return jQuery("#reg_form_action_option_page").is(":checked")}},"arm_new_form[settings][redirect_url]":{required:function(){return jQuery("#reg_form_action_option_redirect").is(":checked")}},"arm_new_form[settings][referral_url]":{required:function(){return jQuery("#reg_form_action_option_refferal").is(":checked")}},"arm_new_form[settings][conditional_redirect_url]":{required:function(){return jQuery("#reg_form_action_option_conditional_redirect").is(":checked")}},existing_form_registration:{required:function(){return jQuery('.add_new_form_existing_type[value="form"]').is(":checked")}},template_form_registration:{required:function(){return jQuery('.add_new_form_existing_type[value="template"]').is(":checked")}}},messages:{"arm_new_form[arm_form_label]":{remote:uniquesignupformname}},errorPlacement:function(e,r){e.appendTo(r.parent())},submitHandler:function(e){jQuery("#add_new_form_type").val(),jQuery("#existing_form_registration_val").val();var r=jQuery("#arm_existing_type_fields").find(":input:disabled").removeAttr("disabled"),a=jQuery("form#form_arm_add_new_reg_form").serialize();r.attr("disabled","disabled"),jQuery(e).find(".arm_add_new_form_submit_btn").attr("disabled","disabled"),jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=add_new_member_form&"+a,success:function(e){e=arm_convert_json_from_pattern(e),"success"==(e=jQuery.parseJSON(e)).type?(e=e.url,jQuery(".add_new_form_wrapper").bPopup().close(),location.href=e):(jQuery(".arm_add_new_form_error").show().delay(1e4).fadeOut(2e3),jQuery(".arm_add_new_form_submit_btn").removeAttr("disabled"))}}),setTimeout(function(){jQuery("body").css("overflow","auto")},50)}}),jQuery("#form_arm_add_new_other_member_form").validate({ignore:"",errorClass:"error arm_invalid",validClass:"valid arm_valid",rules:{"arm_new_form[arm_set_name]":{required:!0,remote:{url:__ARMAJAXURL,type:"post",data:{action:"check_unique_set_name",arm_set_name:function(){return e("#unique_set_name").val()},_wpnonce:function(){return jQuery('input[name="arm_wp_nonce"]').val()}}}},"arm_new_form[settings][login][redirect_page]":{required:function(){return jQuery("#login_form_action_option_page").is(":checked")}},"arm_new_form[settings][login][redirect_url]":{required:function(){return jQuery("#login_form_action_option_redirect").is(":checked")}},"arm_new_form[settings][login][referral_url]":{required:function(){return jQuery("#login_form_action_option_referral").is(":checked")}},"arm_new_form[settings][login][conditional_redirect_url]":{required:function(){return jQuery("#login_form_action_option_conditional_redirect").is(":checked")}}},messages:{"arm_new_form[arm_set_name]":{remote:uniqueformsetname}},errorPlacement:function(e,r){e.appendTo(r.parent())},submitHandler:function(e){jQuery("#add_new_form_type").val();var r=jQuery("#form_arm_add_new_other_member_form").find(":input:disabled").removeAttr("disabled"),a=jQuery("form#form_arm_add_new_other_member_form").serialize();r.attr("disabled","disabled"),jQuery(e).find(".arm_add_new_form_submit_btn").attr("disabled","disabled"),jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=add_new_member_form&"+a,success:function(e){e=arm_convert_json_from_pattern(e),"success"==(e=jQuery.parseJSON(e)).type?(e=e.url,jQuery(".arm_add_new_other_forms_wrapper").bPopup().close(),location.href=e):(jQuery(".arm_add_new_form_error").show().delay(1e4).fadeOut(2e3),jQuery(".arm_add_new_form_submit_btn").removeAttr("disabled"))}}),setTimeout(function(){jQuery("body").css("overflow","auto")},50)}}),jQuery("#arm_add_new_profile_form").validate({ignore:"",errorClass:"error arm_invalid",validClass:"valid arm_valid",rules:{"arm_new_profile_form[arm_form_label]":{required:!0,remote:{url:__ARMAJAXURL,type:"post",data:{action:"check_unique_set_name",arm_form_name:function(){return jQuery("#unique_form_name").val()},_wpnonce:function(){return jQuery('input[name="arm_wp_nonce"]').val()}}}},existing_form_profile_form:{required:function(){return jQuery('.add_new_profile_form_existing_type[value="form"]').is(":checked")}},template_form_edit_profile:{required:function(){return jQuery('.add_new_profile_form_existing_type[value="template"]').is(":checked")}}},messages:{"arm_new_form[arm_form_label]":{remote:uniquesignupformname}},errorPlacement:function(e,r){e.appendTo(r.parent())},submitHandler:function(e){jQuery("#add_new_profile_form_type").val(),jQuery("#existing_form_profile_form_val").val();var r=jQuery("#arm_existing_type_profile_fields").find(":input:disabled").removeAttr("disabled"),a=jQuery("form#arm_add_new_profile_form").serialize();r.attr("disabled","disabled"),jQuery(e).find(".arm_add_new_form_submit_btn").attr("disabled","disabled"),jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=add_new_profile_form&"+a,success:function(e){e=arm_convert_json_from_pattern(e),"success"==(e=jQuery.parseJSON(e)).type?(e=e.url,jQuery(".arm_add_new_profile_form").bPopup().close(),location.href=e):(jQuery(".arm_add_new_profile_form_error").show().delay(1e4).fadeOut(2e3),jQuery(".arm_add_new_form_submit_btn").removeAttr("disabled"))}}),setTimeout(function(){jQuery("body").css("overflow","auto")},50)}}),jQuery(document).on("click",".arm_form_member_delete_icon",function(){jQuery(".arm_field_content_settings_selected .arm_form_field_settings_menu_wrapper").slideUp("slow"),jQuery(this).closest(".arm-df__form-group").hasClass("arm_field_content_settings_selected")?jQuery(".arm_field_content_settings_selected").removeClass("arm_field_content_settings_selected"):(jQuery(".arm_field_content_settings_selected").removeClass("arm_field_content_settings_selected"),jQuery(this).closest(".arm-df__form-group").addClass("arm_field_content_settings_selected"))}),jQuery("#arm_email_server_gm").is(":checked")&&(jQuery(".arm_smtp_slide_form.arm_email_server_google").css("display","block"),jQuery(".arm_test_email_container").css("display","block")),jQuery(document).on("change","#arm_member_form_selection",function(e){var r,a=jQuery("#arm_member_form_selection").val(),_=jQuery('input[name="page"]').val(),t=jQuery(".arm_add_member_page").find('input[name="id"]').val();jQuery("#arm_loader_img_arm_form_selection").show(),"undefined"!=a&&(r=jQuery('input[name="arm_wp_nonce"]').val(),jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_get_field_html&arm_form_id="+a+"&arm_action=add_member&page="+_+"&user_id="+t+"&_wpnonce="+r,success:function(e){e=arm_convert_json_from_pattern(e),"success"==(e=jQuery.parseJSON(e)).type?($fieldHtml=jQuery(e.res),jQuery(".arm_form_fields_main_contents").html($fieldHtml),arm_js_datepicker_init(),arm_selectbox_init(),arm_js_init(),jQuery("#arm_loader_img_arm_form_selection").hide(),setTimeout(function(){initArmFileUpload()},300),"add_member"==jQuery(".arm_add_member_page").find('input[name="arm_action"]').val()&&(jQuery("#arm_add_edit_member_form").find("#arm_password").prop("required")||jQuery("#arm_add_edit_member_form").find("#arm_password").attr("required","required"),jQuery("#arm_add_edit_member_form").find("#arm_repeat_pass").prop("required")||jQuery("#arm_add_edit_member_form").find("#arm_repeat_pass").attr("required","required"))):armToast(e.res,"error",1e3,!1)}}))})}),jQuery(document).on("click","#pp-cb-select-all-1",function(){jQuery('input[name="pp-item-action[]"]').prop("checked",this.checked),0<jQuery('input[name="pp-bt-item-action[]"]').length&&jQuery('input[name="pp-bt-item-action[]"]').prop("checked",this.checked)}),jQuery(document).on("click",'input[name="pp-item-action[]"]',function(){jQuery('input[name="pp-item-action[]"]').length==jQuery('input[name="pp-item-action[]"]:checked').length?jQuery("#pp-cb-select-all-1").prop("checked",!0):jQuery("#pp-cb-select-all-1").removeAttr("checked")}),jQuery(document).on("click","#gp-cb-select-all-1",function(){jQuery('input[name="gp-item-action[]"]').prop("checked",this.checked),0<jQuery('input[name="gp-bt-item-action[]"]').length&&jQuery('input[name="gp-bt-item-action[]"]').prop("checked",this.checked)}),jQuery(document).on("click",'input[name="gp-item-action[]"]',function(){jQuery('input[name="gp-item-action[]"]').length==jQuery('input[name="gp-item-action[]"]:checked').length?jQuery("#gp-cb-select-all-1").prop("checked",!0):jQuery("#gp-cb-select-all-1").removeAttr("checked")}),jQuery(document).ready(function(){var e;arm_selectbox_init(),jQuery(document).on("change",".arm_setup_type_chk",function(){var e=jQuery(this).val();jQuery(".plans_chk_inputs:checked").prop("checked",!1),jQuery(".gateways_chk_inputs:checked").prop("checked",!1),"1"==e?(jQuery(".arm_setup_plans_ul").removeClass("hidden_section"),jQuery(".arm_setup_gateways_ul").removeClass("hidden_section"),jQuery(".arm_setup_plan_layout_list li:visible").each(function(){jQuery(this).remove()}),jQuery(".arm_setup_plans_main_container").addClass("hidden_section"),jQuery(".arm_setup_plans_main_container #arm_membership_setup_plan").removeAttr("aria-required"),jQuery(".arm_setup_plans_main_container #arm_membership_setup_plan").removeAttr("required"),jQuery(".arm_membership_setup_sub_ul").addClass("hidden_section")):"2"==e?(jQuery(".arm_setup_plans_ul").addClass("hidden_section"),jQuery(".arm_setup_gateways_ul").addClass("hidden_section"),jQuery(".arm_setup_plan_layout_list li:visible").each(function(){jQuery(this).remove()}),jQuery(".arm_setup_plans_main_container").addClass("hidden_section"),jQuery(".arm_setup_subscription_plan_li").addClass("hidden_section"),jQuery(".arm_setup_plans_main_container #arm_membership_setup_plan").removeAttr("aria-required"),jQuery(".arm_setup_plans_main_container #arm_membership_setup_plan").removeAttr("required"),jQuery(".arm_setup_gift_plans_main_container #arm_membership_setup_plan").attr("aria-required","true"),jQuery(".arm_setup_gift_plans_main_container #arm_membership_setup_plan").attr("required","required")):(jQuery(".arm_setup_plans_main_container").removeClass("hidden_section"),jQuery(".arm_setup_gateways_ul").removeClass("hidden_section"),jQuery(".arm_setup_plans_ul").removeClass("hidden_section"),jQuery(".arm_setup_plans_main_container #arm_membership_setup_plan").attr("aria-required","true"),jQuery(".arm_setup_plans_main_container #arm_membership_setup_plan").attr("required","required"),jQuery(".arm_setup_gift_plans_main_container #arm_membership_setup_plan").attr("aria-required","false"),jQuery(".arm_setup_gift_plans_main_container #arm_membership_setup_plan").removeAttr("required"))}),jQuery(document).on("click",".arm_change_user_status_ok_btn.pro",function(){var a=parseInt(jQuery("#total_members_grid_columns").val()),_=jQuery(this).closest("tr"),t=jQuery(this).closest("tr")[0],e=jQuery(this).attr("data-item_id"),r=jQuery(this).attr("data-status"),i="1",n=jQuery('input[name="arm_wp_nonce"]').val();return"1"!=r&&(i=jQuery("#arm_user_activate_check_"+e).is(":checked")?"1":""),""!=(new_status=jQuery("#arm_new_assigned_status_"+e).val())&&(jQuery(".arm_loading_grid").fadeIn("slow"),jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_change_user_status&user_id="+e+"&new_status="+new_status+"&send_user_notification="+i+"&_wpnonce="+n,success:function(e){var r;e=arm_convert_json_from_pattern(e),"success"==(e=jQuery.parseJSON(e)).type?(hideChangeMemberStatusBoxCallback(),1==e.multiple_membership?(1==e.paid_post?jQuery("#armember_datatable").dataTable().fnUpdate(e.status,t,7,0):jQuery("#armember_datatable").dataTable().fnUpdate(e.status,t,6,0),jQuery("#armember_datatable").dataTable().fnUpdate(e.membership_plan,t,5,0),jQuery("#armember_datatable").dataTable().fnUpdate(e.paid_with,t,a,0),jQuery("#armember_datatable").dataTable().fnUpdate(e.grid_action,t,a+1,0),"4"==new_status&&(r=jQuery("#armember_datatable").DataTable().row(_)).child.isShown()&&(r.child.hide(),_.removeClass("shown")),arm_tooltip_init()):(1==e.paid_post?(jQuery("#armember_datatable").dataTable().fnUpdate(e.status,t,7,0),jQuery("#armember_datatable").dataTable().fnUpdate(e.user_role,t,8,0)):(jQuery("#armember_datatable").dataTable().fnUpdate(e.status,t,6,0),jQuery("#armember_datatable").dataTable().fnUpdate(e.user_role,t,7,0)),jQuery("#armember_datatable").dataTable().fnUpdate(e.membership_plan,t,5,0),jQuery("#armember_datatable").dataTable().fnUpdate(e.paid_with,t,a+1,0),jQuery("#armember_datatable").dataTable().fnUpdate(e.grid_action,t,a+2,0)),jQuery("#armember_datatable").dataTable().fnAdjustColumnSizing(!1)):armToast(e.msg,"error"),jQuery(".arm_loading_grid").fadeOut()}})),!1}),jQuery("#arm_payment_grid_export_btn").on("click",function(){var e;0<jQuery("#armember_datatable_wrapper table tbody tr[role='row']").length&&(jQuery(".arm_loading").show(),e=jQuery("#transactions_list_form").attr("onsubmit"),jQuery("#transactions_list_form").attr("onsubmit","").attr("action","#").attr("method","post"),jQuery("#transactions_list_form").prepend("<input type='hidden' name='arm_export_phistory' class='arm_ph_tmp_field' value='1'>").prepend("<input type='hidden' name='armmanagesearch_new' class='arm_ph_tmp_field' value='"+jQuery("#armmanagesearch_new").val()+"'>").prepend("<input type='hidden' name='arm_filter_gateway' class='arm_ph_tmp_field' value='"+jQuery("#arm_filter_gateway").val()+"'>").prepend("<input type='hidden' name='arm_filter_ptype' class='arm_ph_tmp_field' value='"+jQuery("#arm_filter_ptype").val()+"'>").prepend("<input type='hidden' name='arm_filter_pmode' class='arm_ph_tmp_field' value='"+jQuery("#arm_filter_pmode").val()+"'>").prepend("<input type='hidden' name='arm_filter_pstatus' class='arm_ph_tmp_field' value='"+jQuery("#arm_filter_pstatus").val()+"'>").prepend("<input type='hidden' name='arm_filter_pstart_date' class='arm_ph_tmp_field' value='"+jQuery("#arm_filter_pstart_date").val()+"'>").prepend("<input type='hidden' name='arm_filter_pend_date' class='arm_ph_tmp_field' value='"+jQuery("#arm_filter_pend_date").val()+"'>").submit(),jQuery("#transactions_list_form").attr("onsubmit",e).attr("method","GET").removeAttr("action"),jQuery("#transactions_list_form .arm_ph_tmp_field").remove(),jQuery(".arm_loading").hide())}),jQuery("#arm_paid_post_payment_grid_export_btn").on("click",function(){var e;0<jQuery("#armember_datatable_1_wrapper table tbody tr[role='row']").length&&(jQuery(".arm_loading").show(),e=jQuery("#paid_post_transactions_list_form").attr("onsubmit"),jQuery("#paid_post_transactions_list_form").attr("onsubmit","").attr("action","#").attr("method","post"),jQuery("#paid_post_transactions_list_form").prepend("<input type='hidden' name='arm_export_pphistory' class='arm_ph_tmp_field' value='1'>").prepend("<input type='hidden' name='arm_is_post_payment' class='arm_ph_tmp_field' value='1'>").prepend("<input type='hidden' name='armmanagesearch_pp_new' class='arm_ph_tmp_field' value='"+jQuery("#armmanagesearch_pp_new").val()+"'>").prepend("<input type='hidden' name='arm_filter_pp_gateway' class='arm_ph_tmp_field' value='"+jQuery("#arm_filter_pp_gateway").val()+"'>").prepend("<input type='hidden' name='arm_filter_pptype' class='arm_ph_tmp_field' value='"+jQuery("#arm_filter_pptype").val()+"'>").prepend("<input type='hidden' name='arm_filter_ppmode' class='arm_ph_tmp_field' value='"+jQuery("#arm_filter_ppmode").val()+"'>").prepend("<input type='hidden' name='arm_filter_ppstatus' class='arm_ph_tmp_field' value='"+jQuery("#arm_filter_ppstatus").val()+"'>").prepend("<input type='hidden' name='arm_filter_ppstart_date' class='arm_ph_tmp_field' value='"+jQuery("#arm_filter_ppstart_date").val()+"'>").prepend("<input type='hidden' name='arm_filter_ppend_date' class='arm_ph_tmp_field' value='"+jQuery("#arm_filter_ppend_date").val()+"'>").submit(),jQuery("#paid_post_transactions_list_form").attr("onsubmit",e).attr("method","GET").removeAttr("action"),jQuery("#paid_post_transactions_list_form .arm_ph_tmp_field").remove(),jQuery(".arm_loading").hide())}),jQuery.isFunction(jQuery().datetimepicker)&&(e=jQuery("#arm_filter_pstart_date").data("date_format"),jQuery("#arm_filter_pstart_date, #arm_filter_pend_date").datetimepicker({useCurrent:!1,format:armChangeDateFormat(e),locale:"",maxDate:new Date}),e=jQuery("#arm_filter_ppstart_date").data("date_format"),jQuery("#arm_filter_ppstart_date, #arm_filter_ppend_date").datetimepicker({useCurrent:!1,format:armChangeDateFormat(e),locale:"",maxDate:new Date}),e=jQuery("#arm_filter_gpstart_date").data("date_format"),jQuery("#arm_filter_gpstart_date, #arm_filter_gpend_date").datetimepicker({useCurrent:!1,format:armChangeDateFormat(e),locale:"",maxDate:new Date})),jQuery("#arm_login_history_export_btn").on("click",function(){return 0<jQuery("#arm_block_settings .arm_all_loginhistory_wrapper .form-table.arm_member_last_subscriptions_table tbody tr.all_user_login_history_tr").length&&(jQuery(".arm_loader_img").show(),jQuery("#arm_block_settings").attr("onsubmit","").attr("action","#").attr("method","post"),jQuery("#arm_block_settings").prepend("<input type='hidden' name='arm_export_login_history' value='1'>").prepend("<input type='hidden' name='arm_log_history_search_user' value='"+jQuery("#arm_log_history_search_user").val()+"'>").submit(),jQuery(".arm_loader_img").hide()),!1}),jQuery("#arm_login_history_page_export_btn").on("click",function(){return 0<jQuery("#arm_login_history_page_form .arm_all_loginhistory_wrapper .form-table.arm_member_login_history_data_table tbody tr.all_user_login_history_tr").length&&(jQuery("#arm_login_history_page_form").attr("onsubmit","").attr("action","#").attr("method","post"),jQuery("input[name='arm_export_login_history']").val("1"),jQuery("#arm_login_history_page_form").submit(),jQuery("input[name='arm_export_login_history']").val("")),!1}),jQuery(document).on("keyup","#arm_log_history_search_user",function(e){if(13==e.keyCode)return 0<jQuery(".arm_login_history_search_btn").length&&jQuery(".arm_login_history_search_btn").trigger("click"),0<jQuery(".arm_login_history_page_search_btn").length&&jQuery(".arm_login_history_page_search_btn").trigger("click"),!1}),jQuery(document).on("keypress","#arm_search_coupon",function(e){if(13==(e.keyCode||e.which))return 0<jQuery(this).parents(".arm_member_coupon_report_chart").find("#arm_report_apply_filter_button").length&&jQuery(this).parents(".arm_member_coupon_report_chart").find("#arm_report_apply_filter_button").trigger("click"),!1}),0<jQuery("#arm_coupon_paid_post_items_input").length&&arm_init_coupon_paid_post_autocomplete(),0<jQuery("#arm_blk_coupon_paid_post_items_input").length&&arm_init_blk_coupon_paid_post_autocomplete(),jQuery(document).on("click",".arm_remove_selected_itembox",function(){return jQuery(this).parents(".arm_paid_post_itembox").remove(),0==jQuery("#arm_paid_post_items .arm_paid_post_itembox").length&&jQuery("#arm_paid_post_items").hide(),!1}),wp.hooks.addAction("arm_pro_get_updated_fields_response","ARMember",arm_pro_get_updated_fields_response_func,10,4),wp.hooks.addAction("arm_pro_js_init","ARMember",arm_pro_js_init_func,10,1),wp.hooks.addFilter("arm_pro_form_datepicker_format","ARMember",arm_pro_form_datepicker_format_func,10,1),wp.hooks.addAction("arm_pro_form_date_picker_for_export","ARMember",arm_pro_form_date_picker_for_export_func),wp.hooks.addAction("arm_pro_colorpicker_init","ARMember",arm_pro_colorpicker_init_func,10,2),wp.hooks.addAction("arm_pro_additional_display_members_fields_sortable_popup_action","ARMember",arm_display_members_fields_sortable_popup_action_func),wp.hooks.addAction("arm_pro_membershipsetup_init","ARMember",arm_pro_membershipsetup_init_func),wp.hooks.addFilter("arm_update_plan_form_gateway_selection_action","ARMember",arm_update_plan_form_gateway_selection_action_func,10,2),wp.hooks.addFilter("arm_pro_change_bank_transfer_id","ARMember",arm_pro_change_bank_transfer_id_func,10,1),wp.hooks.addFilter("arm_pro_change_bank_transfer_status","ARMember",arm_pro_change_bank_transfer_status_func,10,1),wp.hooks.addAction("arm_pro_transaction_delete_action","ARMember",arm_pro_transaction_delete_action_func),wp.hooks.addAction("arm_pro_message_select_box_change_action","ARMember",arm_pro_message_select_box_change_action_func,10,1),wp.hooks.addAction("arm_pro_general_settings_additional_fields_action","ARMember",arm_pro_general_settings_additional_fields_action_func,10,1),wp.hooks.addFilter("arm_pro_block_settings_ajax_data","ARMember",arm_pro_block_settings_ajax_data_func,10,1),wp.hooks.addFilter("arm_pro_common_message_settings_data","ARMember",arm_pro_common_message_settings_data_func,10,1),wp.hooks.addAction("arm_pro_member_login_report_analytics_display","ARMember",arm_pro_member_login_report_analytics_display_func,10,1),wp.hooks.addAction("arm_pro_switch_payment_input_action","ARMember",arm_pro_switch_payment_input_action_func,10,1),wp.hooks.addAction("arm_pro_open_edit_fields_popup","ARMember",arm_pro_open_edit_fields_popup_func),wp.hooks.addFilter("arm_pro_cancel_edit_user_expiry_date","ARMember",arm_pro_cancel_edit_user_expiry_date_func,10,2),wp.hooks.addFilter("arm_pro_plan_date_picker","ARMember",arm_pro_plan_date_picker_func,10,2),wp.hooks.addAction("arm_pro_template_reset_action","ARMember",arm_pro_template_reset_action_func,10,1),wp.hooks.addAction("arm_pro_ml_email_temp_general_settings_tabs","ARMember",arm_pro_ml_email_temp_general_settings_tabs_func),wp.hooks.addAction("arm_pro_email_temp_additional_data","ARMember",arm_pro_email_temp_additional_data_func,10,2),wp.hooks.addAction("arm_smtp_option_server_selection","ARMember",arm_smtp_option_server_selection_func,10,1)}),jQuery(document).on("change","#arm_period_types_container input[type=radio]",function(){"daterange"==jQuery(this).val()?jQuery(".coupon_period_options").slideDown(0).removeClass("hidden_section"):jQuery(".coupon_period_options").slideUp(0).addClass("hidden_section")}),jQuery(document).on("change","#arm_coupon_types_container input[type=radio]",function(){var e=jQuery(this).val();1==e?(jQuery(".coupon_type_membership_plan").slideDown(0).removeClass("hidden_section"),jQuery(".coupon_type_paid_post").slideUp(0).addClass("hidden_section")):2==e?(jQuery(".coupon_type_paid_post").slideDown(0).removeClass("hidden_section"),jQuery(".coupon_type_membership_plan").slideUp(0).addClass("hidden_section")):0==e&&(jQuery(".coupon_type_membership_plan").slideDown(0).removeClass("hidden_section"),jQuery(".coupon_type_paid_post").slideDown(0).removeClass("hidden_section"))}),jQuery(document).on("change","#arm_sel_coupon_types_container input[type=radio]",function(){var e=jQuery(this).val();1==e?(jQuery(".coupon_type_membership_plan").slideDown(0).removeClass("hidden_section"),jQuery(".coupon_type_paid_post").slideUp(0).addClass("hidden_section")):2==e?(jQuery(".coupon_type_paid_post").slideDown(0).removeClass("hidden_section"),jQuery(".coupon_type_membership_plan").slideUp(0).addClass("hidden_section")):0==e&&(jQuery(".coupon_type_membership_plan").slideDown(0).removeClass("hidden_section"),jQuery(".coupon_type_paid_post").slideDown(0).removeClass("hidden_section"))}),jQuery(document).on("change","#arm_allow_paid_post_purchase",function(){jQuery(this).is(":checked")?(jQuery(".arm_selected_paid_post_section").removeClass("hidden_section"),jQuery("#arm_assign_paid_posts").attr("required","required")):(jQuery(".arm_selected_paid_post_section").addClass("hidden_section"),jQuery("#arm_assign_paid_posts").removeAttr("required"))}),jQuery(document).on("keypress",'input[name="arm_subscription_plan_options[limit]"],.arm_paid_post_plan_limit .arm_paid_post_row_right input',function(e){if(46==(e.charCode||e.keyCode))return!1}),jQuery(document).on("click",".arm_add_new_badges_btn",function(){var e=jQuery("#arm_add_badges_wrapper_frm"),r=e.find("#arm_membership_url").val();e.find("#arm_membership_view_url").val(),e.find("#arm_badge_icon_browser_name").val(),e.find("#arm_badge_icon_browser_version").val();e.find(".popup_header").html(__ARM_ADDNEWBADGE),e.find("#arm_badges_id_box").val("0"),e.find("#arm_badges_name").val(""),e.find("#arm_badges_name").removeClass("error arm_invalid"),e.find("#arm_badges_name-error").remove(),e.find("#arm_badges_icon-error").remove();var a=(a=(a=(a='<div class="armFileUploadWrapper" data-iframe="arm_badges_icon"><div class="armNormalFileUpload"><div class="arm-ffw__file-upload-box"><div class="arm_old_file arm_field_file_display arm_hidden_section"></div><div class="armbar" style="width:0%;"></div><label class="armFileDragAreaText" for="arm_badges_icon">')+'<div class="armFileUploaderWrapper armFileUploaderPlaceholder" id="armFileUploaderWrapper_arm_badges_icon" data-id="arm_badges_icon" data-file_type="badges">'+__ARM_UPLOAD+'</div></label><input armfileuploader id="arm_badges_icon" accept=".jpg,.jpeg,.png,.bmp,.ico" class="arm-df__file-upload-control" type="file" name="arm_badges_icon" value="" data-file_type="badges"/></div"></div">')+'<input class="arm_file_url" type="hidden" name="arm_badges_icon" value="" data-file_type="badges" required="required" data-msg-required="'+__ARM_SELECTFILE+'" data-msg-invalid="'+__ARM_INVALIDEFILE+'"></input>')+'</div"><script type="text/javascript" src="'+r+'/js/arm_admin_file_upload_js.js"><\/script>';e.find("#arm_add_badge_file_container").html(a),e.find("#arm_edit_badge_file_container").html(""),e.find(".arm_button_manage_badges").attr("data-type","add"),jQuery(".add_new_badges_wrapper").bPopup({opacity:.5,closeClass:"popup_close_btn",follow:[!1,!1]})}),jQuery(document).on("click",".arm_edit_badges_btn",function(){var e=jQuery(this).attr("data-badge_id"),r=jQuery('input[name="arm_wp_nonce"]').val();return jQuery(".add_new_badges_wrapper").bPopup({opacity:.5,closeClass:"popup_close_btn",follow:[!1,!1]}),jQuery(".arm_loading_popup").show(),jQuery(".arm_badge_popup_content").css("visibility","hidden"),jQuery(".add_new_badges_btn_wrapper").hide(),""!=e&&0!=e&&jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_edit_badges_data&badge_id="+e+"&_wpnonce="+r,success:function(e){var r;e=arm_convert_json_from_pattern(e),"success"==(e=jQuery.parseJSON(e)).status?((r=jQuery("#arm_add_badges_wrapper_frm")).find(".popup_header").html(e.popup_heading),r.find("#arm_badges_id_box").val(e.id),r.find("#arm_badges_name").val(e.arm_badges_name),r.find("#arm_badges_name").removeClass("error arm_invalid"),r.find("#arm_badges_name-error").remove(),r.find("#arm_badges_icon-error").remove(),r.find("#arm_add_badge_file_container").html(""),r.find("#arm_edit_badge_file_container").html(e.arm_edit_badge_file_container),r.find(".arm_button_manage_badges").attr("data-type","edit"),jQuery(".arm_loading_popup").hide(),jQuery(".arm_badge_popup_content").css("visibility","visible"),jQuery(".add_new_badges_btn_wrapper").show(),arm_js_init()):armToast(e.msg,"error")}}),!1}),jQuery(document).on("click",".add_new_badges_close_btn",function(){jQuery(".add_new_badges_wrapper").bPopup().close()}),jQuery(document).on("click",".arm_add_user_badges_btn",function(){jQuery(".arm_add_user_badges").each(function(){jQuery(this).removeClass("active")}),jQuery(".arm_remove_user_multiauto_selected_itembox").each(function(){jQuery(this).trigger("click")}),jQuery("#arm_user_multi_auto_selection").removeClass("ui-autocomplete-loading"),jQuery(".add_new_user_badges_wrapper").bPopup({opacity:.5,closeClass:"arm_add_user_badges_close_btn",follow:[!1,!1]})}),jQuery(document).on("click",".arm_add_user_badges_close_btn",function(){jQuery(".add_new_user_badges_wrapper").bPopup().close()}),jQuery(document).on("click",".arm_delete_badges_btn",function(){var _=jQuery(this).attr("data-item_id"),e=jQuery('input[name="arm_wp_nonce"]').val();""!=_&&0!=_&&jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_delete_single_badges&act=delete&id="+_+"&_wpnonce="+e,success:function(e){var r,a;e=arm_convert_json_from_pattern(e),"success"==(e=jQuery.parseJSON(e)).type?(a=""!=e.msg?e.msg:delBadgeSuccess,armToast(a,"success"),r=jQuery(".badges_row_"+_)[0],arm_load_badge_list_filtered_grid(r)):(a=""!=e.msg?e.msg:delBadgeError,armToast(a,"error"))}}),hideConfirmBoxCallback()}),jQuery(document).on("click",".arm_add_achievements_btn",function(){jQuery(".arm_add_achievements_wrapper").bPopup({opacity:.5,closeClass:"arm_popup_close_btn",follow:[!1,!1]}),arm_selectbox_init()}),jQuery(document).on("click",".add_new_achievements_close_btn",function(){jQuery(".arm_add_achievements_wrapper").bPopup().close(),jQuery(".arm_add_achievements_wrapper").find('input:not([name="b_action"],[type="checkbox"],[type="radio"],[type="button"],.arm-selectpicker-input-control,.arm_user_plan_date_picker,#arm_member_form_selection)').val("").trigger("change"),jQuery(".arm_add_achievements_wrapper .arm_selectbox").each(function(){jQuery(this).find("li:first-child").trigger("click")})}),jQuery(document).on("change",".arm_achievement_type_change_input",function(){var e=jQuery(this).val(),r=jQuery(this).parents("form");r.find(".arm_badge_achieve_options").hide(),r.find(".arm_badge_"+e+"_options").show(),"require"==e?(r.find(".arm_badge_icon_require_options").hide(),r.find(".arm_badge_tootip_require_options").hide()):(r.find(".arm_badge_icon_require_options").show(),r.find(".arm_badge_tootip_require_options").show())}),jQuery(document).on("click",".arm_edit_achievements_btn",function(){var _=jQuery(this).attr("data-achievement_id"),t=jQuery(this).parents("#armmainformnewlist"),e=jQuery('input[name="arm_wp_nonce"]').val();return jQuery(".arm_edit_achievements_wrapper").bPopup({opacity:.5,closeClass:"arm_popup_close_btn",follow:[!1,!1]}),jQuery(".arm_loading_popup").show(),jQuery(".arm_achievement_content").css("visibility","hidden"),jQuery(".arm_edit_achievements_wrapper .popup_content_btn").hide(),""!=_&&0!=_&&jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_edit_achievements_data&badge_id="+_+"&_wpnonce="+e,success:function(e){var r,a;e=arm_convert_json_from_pattern(e),"success"==(e=jQuery.parseJSON(e)).status?(t.find(".arm_loading_grid").hide(),r=jQuery("#arm_edit_achievements_wrapper_frm"),a=e.arm_achievement_type,e.arm_badges_tooltip,r.find("#arm_edit_badge_id").val(_),r.find("#arm_parent_badge_id").val(e.arm_badges_parent),r.find("#arm_edit_achievement_type").val(a),r.find(".arm_badge_achieve_options").hide(),"require"==a?(r.find(".arm_badge_require_options").show(),r.find(".arm_badge_tootip_require_options").hide()):(r.find(".arm_badge_require_options").hide(),r.find(".arm_badge_tootip_require_options").show(),r.find("#arm_badges_tooltip").val(e.arm_badges_tooltip)),r.find("#arm_edit_achieve_num").val(e.arm_achieve_num),""!=e.arm_achivement_edit_response&&r.find("#arm_achieve_has_complete").html(e.arm_achivement_edit_response),r.find(".arm_badge_"+a+"_options").show(),r.find("#arm_edit_achieve_"+a).val(e.arm_achieve),jQuery(".arm_loading_popup").hide(),jQuery(".arm_achievement_content").css("visibility","visible"),jQuery(".arm_edit_achievements_wrapper .popup_content_btn").show(),arm_js_init()):armToast(e.msg,"error")}}),!1}),jQuery(document).on("click",".add_edit_achievements_close_btn",function(){jQuery(".arm_edit_achievements_wrapper").bPopup().close()}),jQuery(document).on("click",".arm_delete_achievements_btn",function(){var a=jQuery(this).attr("data-item_id"),e=jQuery('input[name="arm_wp_nonce"]').val();""!=a&&0!=a&&jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_delete_single_achievements&act=delete&id="+a+"&_wpnonce="+e,success:function(e){var r;e=arm_convert_json_from_pattern(e),"success"==(e=jQuery.parseJSON(e)).type?(r=""!=e.msg?e.msg:delBadgeSuccess,armToast(r,"success"),jQuery(".achieve_row_"+a)[0],jQuery("#armember_datatable").dataTable().fnDestroy(),arm_load_achievements_list_grid()):(r=""!=e.msg?e.msg:delBadgeError,armToast(r,"error"))}}),hideConfirmBoxCallback()}),jQuery(document).on("click",".arm_add_admin_badge",function(e){jQuery(".arm_add_admin_badge").removeClass("active"),jQuery(this).addClass("active"),jQuery("#arm_badges_id").val(jQuery(this).attr("data-badge_id"))}),jQuery(document).on("click",".arm_add_user_badges",function(e){jQuery(".arm_add_user_badges").removeClass("active"),jQuery(this).addClass("active"),jQuery("#arm_add_badges_id").val(jQuery(this).attr("data-badge_id"))}),jQuery(document).on("click",".add_edit_user_achievements_close_btn",function(){jQuery(".arm_edit_user_achievements_wrapper").bPopup().close()}),jQuery(document).on("click",".arm_delete_user_achievements_btn",function(){var a=jQuery(this).attr("data-item_id"),e=jQuery("#arm_confirm_box_"+a).find("#data-user_id").val(),r=jQuery("#arm_confirm_box_"+a).find("#data-badge_id").val(),_=jQuery("#arm_confirm_box_"+a).find("#data-parent_badge_id").val(),t=jQuery('input[name="arm_wp_nonce"]').val();if(""==r||""==e||""==_)return!1;jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_delete_single_user_achievements&user_id="+e+"&badge_id="+r+"&parent_badge_id="+_+"&_wpnonce="+t,async:!1,success:function(e){var r;e=arm_convert_json_from_pattern(e),"success"==(e=jQuery.parseJSON(e)).status?(r=""!=e.message?e.message:delUserBadgeSuccess,armToast(r,"success"),jQuery(".user_row_"+a).fadeOut("slow")):(r=""!=e.message?e.message:delUserBadgeError,armToast(r,"error"))}}),hideConfirmBoxCallback()}),jQuery(document).on("click",".arm_edit_user_admin_badge",function(){var e=jQuery(this).children("img").attr("id");jQuery("#arm_badge_chk_"+e).trigger("click"),jQuery("#arm_badge_chk_"+e).prop("checked")?jQuery(this).addClass("arm_highlight"):jQuery(this).removeClass("arm_highlight")}),jQuery(document).on("click",".arm_delete_user_badges_btn",function(){var e=jQuery(this),r=jQuery(this).attr("data-item_id"),a=jQuery("#arm_total_badges_"+r).val(),_=1,t=1,n=jQuery('input[name="arm_wp_nonce"]').val();for(i=1;i<=a;i++){var o=jQuery(this).attr("data-item_id"),s=jQuery("#arm_badge_id_"+r+"_"+i).val(),d=jQuery("#arm_parent_badge_id_"+r+"_"+i).val();if(jQuery("#arm_badge_chk_"+o+"_"+d+"_"+s+"_"+i).prop("checked")){if(_++,""==s||""==o||""==d)return!1;jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_delete_single_user_achievements&user_id="+o+"&badge_id="+s+"&parent_badge_id="+d+"&_wpnonce="+n,async:!1,success:function(e){e=arm_convert_json_from_pattern(e),"success"==(e=jQuery.parseJSON(e)).status?(""!=e.message?e.message:delUserBadgeSuccess,t++,jQuery(".user_row_"+o+"_"+d+"_"+s).fadeOut("slow"),jQuery(".user_chk_"+o+"_"+d+"_"+s).fadeOut("slow"),jQuery(".user_img_"+o+"_"+d+"_"+s).fadeOut("slow")):""!=e.message?e.message:delUserBadgeError}})}}1==_?jQuery(".arm_badge_error_red_"+r).css("display","block"):1!=_&&_==t?(hideConfirmBoxCallback(),armToast(__USER_BADGE_DELETED,"success")):armToast(__USER_BADGE_DELETE_ERROR,"error"),setTimeout(function(){e.closest("td").prev("td").find(".arm_edit_user_badge_icon_wrapper:visible").length<=0&&(e.closest(".arm_grid_action_btn_container").hide(),e.closest("td").prev("td").text("--"))},1e3)}),jQuery(document).on("click",".arm_preview_badge_achievements",function(){var e=jQuery(this).attr("data-id"),r=(jQuery(".arm_preview_badge_details_popup_wrapper").bPopup({opacity:.5,follow:[!1,!1],closeClass:"add_preview_badge_close_btn"}),jQuery('input[name="arm_wp_nonce"]').val());return jQuery(".arm_preview_badge_details_wrapper").html('<div style="width: 100%; margin: 45px auto;text-align:center"> <img src="'+ARM_IMAGE_URL+'/arm_loader.gif"></div>'),""!=e&&0!=e&&jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_badge_achievements_list&badge_id="+e+"&_wpnonce="+r,success:function(e){""!=(e=arm_convert_json_from_pattern(e))?jQuery(".arm_preview_badge_details_wrapper").html(e):alert(prevMemberDetailError)}}),!1}),jQuery(document).on("click",".arm_upc_save_btn",function(e){var r,a=jQuery("#arm_private_content_action").val();return 0<jQuery(".arm_private_content_items .arm_private_content_itembox").length&&"edit_private_content"!=a||"edit_private_content"==a?(0<jQuery("#arm_private_content_items_input_error").length&&jQuery("#arm_private_content_items_input_error").remove(),jQuery("#arm_loader_img_add_member_plan_loader").show(),a=jQuery('input[name="arm_wp_nonce"]').val(),""!=(r=jQuery(".arm_add_edit_private_content_form").serialize())&&jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_save_private_content&"+r+"&_wpnonce="+a,success:function(e){jQuery("#arm_loader_img_add_member_plan_loader").hide(),e=arm_convert_json_from_pattern(e),"success"==(e=jQuery.parseJSON(e)).status?(armToast(e.msg,"success"),jQuery(".arm_add_edit_private_content_main_wrapper").bPopup().close(),jQuery("#armember_datatable").dataTable().fnDestroy(),arm_load_private_content_list_grid(),setTimeout(function(){jQuery("body").css("overflow","auto")})):armToast(e.msg,"error")}})):(r='<span id="arm_private_content_items_input_error" class="error arm_invalid">'+jQuery("#arm_member_items_input").attr("data-msg-required")+"</span>",jQuery(".arm_required_member_err").html(r),jQuery("#arm_member_items_input").focus(),jQuery(".arm_add_edit_private_content_form").animate({scrollTop:jQuery(".arm_add_edit_private_content_form").offset().top},0)),!1}),jQuery(document).on("change",".arm_private_content_status_input",function(){var e=jQuery(this).attr("data-item_id"),r=jQuery('input[name="arm_wp_nonce"]').val();jQuery(this).parent(".armswitch").find(".arm_status_loader_img").show(),jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_changes_status_private_content&member_id="+e+"&_wpnonce="+r,success:function(e){var r;e=arm_convert_json_from_pattern(e),e=jQuery.parseJSON(e),jQuery(".arm_status_loader_img").hide(),"success"==e.type?(r=""!=e.msg?e.msg:delPlanSuccess,armToast(r,"success")):(r=""!=e.msg?e.msg:delPlanError,armToast(r,"error")),arm_tooltip_init()}})}),jQuery(document).on("click",".arm_private_content_delete_btn",function(){var e=jQuery(this).attr("data-item_id"),r=jQuery('input[name="arm_wp_nonce"]').val();jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_delete_private_content&member_id="+e+"&_wpnonce="+r,success:function(e){var r;e=arm_convert_json_from_pattern(e),"success"==(e=jQuery.parseJSON(e)).type?(r=""!=e.msg?e.msg:delPlanSuccess,armToast(r,"success"),arm_load_private_content_list_filtered_grid()):(r=""!=e.msg?e.msg:delPlanError,armToast(r,"error")),arm_tooltip_init()}})});var armInterval=void 0;jQuery(document).on("click",".arm_setup_preview_btn.pro",function(){var e=jQuery(this).hasClass("arm_setup_preview_ie_btn"),r=jQuery("#arm_membership_setup_admin_form").serialize(),a=jQuery(".arm_setup_shortcode_form_width").val(),_=(""!=a&&void 0!==a||(a=800),a=parseInt(a)+90+30,jQuery(".arm_preview_setup_shortcode_popup_wrapper")),e=(_.width(a),1==e&&(a=r.split("arm_setupform_split"),document.cookie="arm_setupform_preview1="+a[0]+"; path=/",document.cookie="arm_setupform_preview2="+a[1]+"; path=/",document.cookie="arm_setupform_preview3="+a[2]+"; path=/",document.cookie="arm_setupform_preview4="+a[3]+"; path=/",document.cookie="arm_setupform_preview5="+a[4]+"; path=/",r=""),jQuery('input[name="arm_wp_nonce"]').val());return jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_save_configure_preview_data&_wpnonce="+e+"&"+r,success:function(e){var r=jQuery('input[name="arm_wp_nonce"]').val();_.bPopup({content:"iframe",contentContainer:".arm_setup_shortcode_html",loadUrl:setupPreviewUrl+"&_wpnonce="+r,opacity:.5,follow:[!1,!1],onOpen:function(){_.find(".arm_setup_preview_loader").show()},closeClass:"arm_preview_setup_shortcode_close_btn"}),jQuery(".arm_preview_setup_shortcode_popup_wrapper iframe").on("load",function(){jQuery(".arm_setup_preview_loader").hide()})}}),!1}),jQuery(document).on("click",".arm_add_new_profile_forms_btn",function(){var e=jQuery(this).attr("data-type");jQuery("#existing_form_"+e).show().attr("required","required"),jQuery("#add_new_profile_form_type").val(e),jQuery(".add_new_profile_form_wrapper").bPopup({opacity:.5,closeClass:"arm_popup_close_btn",follow:[!1,!1]})}),jQuery(document).on("click",".add_new_profile_form_close_btn",function(){jQuery(".add_new_profile_form_wrapper").bPopup().close()}),jQuery(document).on("click",".arm_delete_form_set_confirm_ok",function(e){var a=jQuery(this).attr("data-item_id").replace("set_",""),r=jQuery('input[name="arm_wp_nonce"]').val();jQuery(".arm_loading_grid").fadeIn("slow"),""!=a&&0!=a&&jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_delete_form&set_id="+a+"&_wpnonce="+r,success:function(e){var r;e=arm_convert_json_from_pattern(e),"success"==(e=jQuery.parseJSON(e)).type?(jQuery(".arm_loading_grid").fadeOut("slow"),r=""!=e.msg?e.msg:delFormSetSuccess,armToast(r,"success"),jQuery(".member_row_"+a).remove()):(jQuery(".arm_loading_grid").fadeOut("slow"),r=""!=e.msg?e.msg:delFormSetError,armToast(r,"error"))}}),hideConfirmBoxCallback()}),jQuery(document).on("click",".arm_delete_form_confirm_ok",function(){var e,a=jQuery(this).attr("data-item_id"),r=jQuery('input[name="arm_wp_nonce"]').val();""!=a&&0!=a&&(e=0,jQuery(".arm_form_field_chk_"+a).is(":checked")&&(e=1),jQuery(".arm_loading_grid").fadeIn("slow"),jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_delete_form&form_id="+a+"&field_delete="+e+"&_wpnonce="+r,success:function(e){var r;e=arm_convert_json_from_pattern(e),"success"==(e=jQuery.parseJSON(e)).type?(r=""!=e.msg?e.msg:delFormSuccess,armToast(r,"success"),jQuery(".arm_form_link_li_"+a).remove(),jQuery(".member_row_"+a).fadeOut("slow").remove(),jQuery(".existing_form_li_"+a).remove(),""!=e.deleted_fields&&jQuery.each(e.deleted_fields,function(e,r){jQuery("#arm_existing_type_fields").find(".arm_field_"+r).remove()}),jQuery(".arm_loading_grid").fadeOut("slow")):(jQuery(".arm_loading_grid").fadeOut("slow"),r=""!=e.msg?e.msg:delFormError,armToast(r,"error"))}})),hideConfirmBoxCallback()}),jQuery(document).on("change","#arm_show_captcha_field, #arm_recaptcha_v3_status",function(){var e=jQuery("#arm_recaptcha_key_status").val();jQuery(this).is(":checked")?0==e&&jQuery(".arm_recaptchav3_msg").show():jQuery(".arm_recaptchav3_msg").hide()}),jQuery(document).on("change",".arm_calendar_date_format",function(e){e.stopPropagation();var e=jQuery(this).val(),r=jQuery(this).attr("id"),a=jQuery('ul[data-id="'+r+'"]').find('li[data-value="'+e+'"]').text();jQuery(".arm-df__form-field-wrap_date .arm-df__form-control").each(function(){jQuery(this).val(a),jQuery(this).trigger("focus")})}),jQuery(document).on("click",".arm_remove_social_network_icon",function(){var r=jQuery(this),e=r.attr("data-sn_type"),a=r.attr("data-file_name"),_=r.attr("data-file_url");jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_remove_uploaded_file&type=social_icon&network="+e+"&file_name="+a+"&file_url="+_+"&_wpnonce="+jQuery("input[name='_wpnonce']").val(),success:function(e){e=arm_convert_json_from_pattern(e),r.parents(".arm_social_login_icon_container").remove(),jQuery(this).parents(".arm_social_network_icons_block").find(".arm_social_login_icon_container").last().find(".arm_iradio").trigger("click")}})}),jQuery(document).on("click","#arm_add_hidden_field_link.arm_pro",function(e){e.stopPropagation();var e=jQuery(this).attr("data-field_index"),r=jQuery(this).attr("data-img_url"),a=(jQuery(this).attr("data-hover_img_url"),""),a=(a=(a=(a=(a=(a=(a=(a+='<li class="arm_form_hidden_field" id="arm_form_hidden_field'+e+'">')+('<a href="javascript:void(0)" class="arm_remove_hidden_field" data-index="'+e+'"><img src="'+r+'" onmouseover="arm_close_button_hover_url('+e+')" onmouseout="arm_close_button_mouseout_url('+e+')"></a>')+'<div class="armclear"></div>')+("<span>"+__ARM_TITLE+"</span>"))+('<input type="text" name="arm_form_settings[hidden_fields]['+e+'][title]" class="arm_form_setting_input armIgnore" value="">')+'<div class="armclear"></div>')+("<span>"+__ARM_METAKEY+"</span>"))+('<input type="text" name="arm_form_settings[hidden_fields]['+e+'][meta_key]" class="arm_form_setting_input armIgnore" value="">')+'<div class="armclear"></div>')+("<span>"+__ARM_VALUE+"</span>"))+('<input type="text" name="arm_form_settings[hidden_fields]['+e+'][value]" class="arm_form_setting_input armIgnore" value="">')+"</li>";return jQuery(".arm_form_hidden_field_wrapper").append(a),jQuery(this).attr("data-field_index",Number(e)+1),!1}),jQuery(document).on("click",".arm_validation_style_switch label",function(){var e=jQuery(this).attr("data-value"),r=jQuery("#arm_manage_form_layout").val();"writer"!=r&&"writer_border"!=r&&("standard"==e?jQuery(".arm_validation_message_position_container").is(":visible")&&jQuery(".arm_validation_message_position_container").addClass("hidden_section"):jQuery(".arm_validation_message_position_container").is(":visible")||jQuery(".arm_validation_message_position_container").removeClass("hidden_section")),"standard"==e?(r=jQuery("#arm_error_font_color").val(),e=jQuery("#arm_error_field_bg_color").val(),jQuery("#arm_error_font_color").attr("data-old_color",r),jQuery("#arm_error_field_bg_color").attr("data-old_color",e),jQuery("#arm_error_field_bg_color").val(r),jQuery("#arm_error_font_color").val(e),jQuery.isFunction(jQuery().colpick)&&(jQuery("#arm_error_font_color").colpickSetColor(e),jQuery("#arm_error_field_bg_color").colpickSetColor(r))):(e=jQuery("#arm_error_font_color").attr("data-old_color"),r=jQuery("#arm_error_field_bg_color").attr("data-old_color"),jQuery("#arm_error_font_color").val(e),jQuery("#arm_error_field_bg_color").val(r),jQuery.isFunction(jQuery().colpick)&&(jQuery("#arm_error_font_color").colpickSetColor(e),jQuery("#arm_error_field_bg_color").colpickSetColor(r)))}),jQuery(document).on("click",".arm_add_new_message_btn",function(){var e=jQuery("#arm_add_message_wrapper_frm");jQuery(".add_new_message_wrapper").find(".arm_add_mail_template_span").removeClass("hidden_section"),jQuery(".add_new_message_wrapper").find(".arm_edit_mail_template_span").hasClass("hidden_section")||jQuery(".add_new_message_wrapper").find(".arm_edit_mail_template_span").addClass("hidden_section"),0<jQuery(".arm_general_settings_multi_languages_tab").length&&(e.find(".arm_general_settings_multi_languages_tab input:not(.button)").val(""),e.find(".arm_general_settings_multi_languages_tab textarea.wp-editor-area").val("")),0<jQuery(".add_new_message_wrapper .arm_general_settings_tab.arm_general_settings_languages_tab").length&&jQuery(".add_new_message_wrapper .arm_general_settings_tab.arm_general_settings_languages_tab:first").click(),e.find(".arm_email_send_to_admin").prop("checked",!1),e.find(".arm_email_different_content_for_admin").prop("checked",!1),e.find("#arm_admin_message_content").val(""),e.find(".arm_seperate_email_content_for_admin_switch").hasClass("hidden_section")||e.find(".arm_seperate_email_content_for_admin_switch").addClass("hidden_section"),e.find(".arm_seperate_email_content_for_admin").hasClass("hidden_section")||e.find(".arm_seperate_email_content_for_admin").addClass("hidden_section"),e.find(".popup_header .popup_title").html(__ARM_ADDNEWRESPONSE),e.find("#arm_message_id_box").val("0"),e.find(".arm_message_period_section").hide(),e.find(".arm_message_period_section_form_manual_subscription").hide(),e.find(".arm_message_period_section_for_dripped_content, .arm_before_dripped_content_available_url, .arm_send_gift_code_invite_member").hide(),e.find(".arm_profile_receive_new_review_rating_tag,.arm_profile_receive_new_review_title_tag,.arm_profile_receive_new_review_desc_tag").hide(),e.find(".arm_message_select_box_period").val("1"),e.find(".arm_message_select_box_period_manual_subscription").val("1"),e.find(".arm_communication_email_code_password_reset").show(),e.find("#arm_message_period_type").val("day").trigger("change"),e.find("#arm_message_period_type_manual_subscription").val("day").trigger("change"),e.find("#arm_message_subscription option").each(function(){jQuery(this).removeAttr("selected")}),e.find("#arm_message_subscription").val("").trigger("chosen:updated"),e.find("#arm_message_subject").val(""),e.find("#arm_message_content").val(""),e.find("#arm_message_status").val("1"),e.find(".arm_button_manage_message").attr("data-type","add"),setTimeout(function(){if(null!=tinyMCE&&null!=tinyMCE.activeEditor)try{tinyMCE.execCommand("mceAddEditor",!0,"arm_message_content"),tinyMCE.activeEditor.setContent(""),tinyMCE.activeEditor.remove(),jQuery("#arm_message_content-html").trigger("click")}catch(e){}},200),jQuery(".add_new_message_wrapper").css("height","100%"),arm_popup_initialize(".add_new_message_wrapper",160,30,"slideDown"),e.find('ul[data-id="arm_message_type"] li:nth-child(2)').trigger("click"),e.find('ul[data-id="arm_message_type"] li[data-value="on_new_subscription"]').trigger("click"),arm_selectbox_init()}),jQuery(document).on("click",".arm_edit_template_btn.pro",function(){jQuery(".edit_email_template_wrapper .popup_content_text").css("visibility","hidden"),arm_popup_initialize(".edit_email_template_wrapper",160,30,"slideDown"),jQuery(".arm_loading").css("position","fixed").fadeIn("show");var n=jQuery(this).attr("data-temp_id"),e=jQuery('input[name="arm_wp_nonce"]').val();return""!=n&&0!=n&&jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_edit_template_data&temp_id="+n+"&_wpnonce="+e,success:function(e){if(e=arm_convert_json_from_pattern(e),"success"==(e=jQuery.parseJSON(e)).status){var r=jQuery("#arm_edit_email_temp_frm"),a=(0<jQuery(".arm_general_settings_multi_languages_standard_tab").length&&(r.find(".arm_general_settings_multi_languages_standard_tab input:not(.button)").val(""),r.find(".arm_general_settings_multi_languages_standard_tab textarea.wp-editor-area").val("")),0<jQuery(".edit_email_template_wrapper .arm_general_settings_tab.arm_general_settings_languages_tab_standard").length&&jQuery(".edit_email_template_wrapper .arm_general_settings_tab.arm_general_settings_languages_tab_standard:first").click(),r.find("#arm_template_id").val(n),r.find(".arm_email_code_plan_name, .arm_email_code_tax_percentage, .arm_email_code_plan_desc,.arm_email_code_tax_amount,.arm_email_code_payable_amount, .arm_email_code_trial_amount, .arm_email_code_plan_amount, .arm_email_code_plan_discount, .arm_email_code_payment_type, .arm_email_code_payment_gateway, .arm_email_code_transaction_id").addClass("hidden_section"),"grace-failed-payment"!=e.arm_template_slug&&"grace-eot"!=e.arm_template_slug&&"new-reg-user-with-payment"!=e.arm_template_slug&&"new-reg-user-admin"!=e.arm_template_slug&&"failed-payment-admin"!=e.arm_template_slug||(r.find(".arm_email_code_plan_name").removeClass("hidden_section"),r.find(".arm_email_code_plan_amount").removeClass("hidden_section"),r.find(".arm_email_code_plan_discount").removeClass("hidden_section"),r.find(".arm_email_code_payment_type").removeClass("hidden_section"),r.find(".arm_email_code_payment_gateway").removeClass("hidden_section"),r.find(".arm_email_code_transaction_id").removeClass("hidden_section"),r.find(".arm_email_code_tax_percentage").removeClass("hidden_section"),r.find(".arm_email_code_tax_amount").removeClass("hidden_section"),r.find(".arm_email_code_trial_amount").removeClass("hidden_section"),r.find(".arm_email_code_payable_amount").removeClass("hidden_section"),r.find(".arm_email_code_plan_desc").removeClass("hidden_section")),"new-reg-user-without-payment"==e.arm_template_slug&&r.find(".arm_email_code_plan_name").removeClass("hidden_section"),"new-reg-user-with-payment"==e.arm_template_slug||"new-reg-user-without-payment"==e.arm_template_slug||"forgot-passowrd-user"==e.arm_template_slug||"on-manual-activation"==e.arm_template_slug?r.find(".arm_email_code_reset_password").removeClass("hidden_section"):r.find(".arm_email_code_reset_password").addClass("hidden_section"),e.arm_template_subject.replace(/\\(.)/gm,"$1")),_=e.arm_template_content.replace(/\\(.)/gm,"$1");if(r.find("#arm_template_status").val(e.arm_template_status),r.find("#arm_template_subject").val(a),r.find("#arm_template_content").val(_),void 0!==e.arm_multi_languages_data){wp.hooks.doAction("arm_reset_multilanguage_form_data",e);for(var[t,i]of Object.entries(e.arm_multi_languages_data))r.find("#arm_template_subject_translated_"+t).val(i.arm_template_subject),r.find("#arm_template_content_translated_"+t).val(i.arm_template_content)}void 0!==e.arm_pdfcreator_email_switch&&"1"==e.arm_pdfcreator_email_switch?(0<r.find("#arm_email_cardpdf_attachment").length||0<r.find("#arm_email_invoicepdf_attachment").length)&&(r.find(".arm_pdfcreator_email_switch").show(),void 0!==e.arm_email_card_attachment_status&&("on"==e.arm_email_card_attachment_status?r.find("#arm_email_cardpdf_attachment").prop("checked",!0):r.find("#arm_email_cardpdf_attachment").prop("checked",!1)),void 0!==e.arm_email_invoice_attachment_status&&("on"==e.arm_email_invoice_attachment_status?r.find("#arm_email_invoicepdf_attachment").prop("checked",!0):r.find("#arm_email_invoicepdf_attachment").prop("checked",!1))):(0<r.find("#arm_email_cardpdf_attachment").length||0<r.find("#arm_email_invoicepdf_attachment").length)&&(r.find(".arm_pdfcreator_email_switch").hide(),r.find("#arm_email_cardpdf_attachment").prop("checked",!1),r.find("#arm_email_invoicepdf_attachment").prop("checked",!1)),setTimeout(function(){if(null!=tinyMCE&&null!=tinyMCE.activeEditor)try{tinyMCE.execCommand("mceAddEditor",!0,"arm_template_content"),tinyMCE.activeEditor.setContent(_),tinyMCE.activeEditor.remove(),jQuery("#arm_template_content-html").trigger("click")}catch(e){}},200),arm_js_init(),validate_email_response(),jQuery(".edit_email_template_wrapper .popup_content_text").removeAttr("style"),jQuery(".arm_loading").fadeOut("show")}else armToast(e.msg,"error"),jQuery(".arm_loading").fadeOut("slow")}}),!1}),jQuery(document).on("click",".arm_edit_message_btn",function(){jQuery(".add_new_message_wrapper").css("height","100%"),jQuery(".add_new_message_wrapper").find(".arm_add_mail_template_span").addClass("hidden_section");var n=jQuery(".add_new_message_wrapper").find(".arm_edit_mail_template_span"),o=(n.removeClass("hidden_section"),n.data("default")),e=(n.html(o),arm_popup_initialize(".add_new_message_wrapper",160,30,"slideDown"),jQuery(".arm_common_setting_multi_language_wrapper .arm_general_settings_languages_tab:first").click(),jQuery(".arm_communication_message_wrapper_frm").hide(),jQuery(".add_new_message_wrapper .popup_content_text").css("visibility","hidden"),jQuery(".arm_loading_grid").css("position","fixed").fadeIn("slow"),arm_set_loader_timeout("arm_communication_message_wrapper_frm","hide"),jQuery(this).attr("data-message_id")),r=jQuery('input[name="arm_wp_nonce"]').val();return""!=e&&0!=e&&jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_edit_message_data&message_id="+e+"&_wpnonce="+r,success:function(r){if(r=arm_convert_json_from_pattern(r),"success"==(r=jQuery.parseJSON(r)).status){n.html(r.popup_heading&&""!==r.popup_heading.trim()?r.popup_heading:o);var e=jQuery("#arm_add_message_wrapper_frm"),a=(e.find('input[type="text"]').val(""),e.find("textarea").val(""),r.arm_message_subject.replace(/\\(.)/gm,"$1")),_=r.arm_message_content.replace(/\\(.)/gm,"$1");if(wp.hooks.doAction("arm_email_auto_response_data",r,e),e.find("#arm_message_id_box").val(r.id),e.find("#arm_message_type").val(r.arm_message_type),1==r.arm_message_send_copy_to_admin?(e.find("#arm_email_send_to_admin").prop("checked",!0),e.find(".arm_seperate_email_content_for_admin_switch").removeClass("hidden_section"),1==r.arm_message_send_diff_copy_to_admin?(e.find("#arm_email_different_content_for_admin").prop("checked",!0),e.find(".arm_seperate_email_content_for_admin").removeClass("hidden_section")):(e.find("#arm_email_different_content_for_admin").prop("checked",!1),e.find(".arm_seperate_email_content_for_admin").addClass("hidden_section"))):(e.find("#arm_email_send_to_admin").prop("checked",!1),e.find("#arm_email_different_content_for_admin").prop("checked",!1),e.find(".arm_seperate_email_content_for_admin_switch").addClass("hidden_section"),e.find(".arm_seperate_email_content_for_admin").addClass("hidden_section")),e.find(".arm_admin_message_content").val(r.arm_message_admin_message),"manual_subscription_reminder"==r.arm_message_type||"automatic_subscription_reminder"==r.arm_message_type?(e.find("#arm_message_period_type_manual_subscription").val(r.arm_message_period_type),e.find("#arm_message_period_unit_manual_subscription").val(r.arm_message_period_unit)):"before_dripped_content_available"==r.arm_message_type?(e.find("#arm_message_period_type_dripped_content").val(r.arm_message_period_type),e.find("#arm_message_period_unit_dripped_content").val(r.arm_message_period_unit)):(e.find("#arm_message_period_type").val(r.arm_message_period_type),e.find(".arm_message_select_box_unit").val(r.arm_message_period_unit)),"before_expire"==r.arm_message_type||"before_expire_post"==r.arm_message_type?e.find(".arm_message_period_section").show():e.find(".arm_message_period_section").hide(),"on_new_subscription"==r.arm_message_type||"on_menual_activation"==r.arm_message_type?e.find(".arm_communication_email_code_password_reset").show():e.find(".arm_communication_email_code_password_reset").hide(),"manual_subscription_reminder"==r.arm_message_type||"automatic_subscription_reminder"==r.arm_message_type?e.find(".arm_message_period_section_form_manual_subscription").show():e.find(".arm_message_period_section_form_manual_subscription").hide(),"before_dripped_content_available"==r.arm_message_type?e.find(".arm_message_period_section_for_dripped_content, .arm_before_dripped_content_available_url").show():e.find(".arm_message_period_section_for_dripped_content, .arm_before_dripped_content_available_url").hide(),"arm_com_add_profile_review"==r.arm_message_type?e.find(".arm_profile_receive_new_review_rating_tag,.arm_profile_receive_new_review_title_tag,.arm_profile_receive_new_review_desc_tag").show():e.find(".arm_profile_receive_new_review_rating_tag,.arm_profile_receive_new_review_title_tag,.arm_profile_receive_new_review_desc_tag").hide(),"on_new_subscription_gift"==r.arm_message_type||"on_invite_gift"==r.arm_message_type||"on_redeem_gift"==r.arm_message_type?e.find(".arm_send_gift_code_invite_member").show():e.find(".arm_send_gift_code_invite_member").hide(),"on_purchase_subscription_bank_transfer"==r.arm_message_type?e.find(".arm_no_bank_notification").addClass("hidden_section"):e.find(".arm_no_bank_notification").removeClass("hidden_section"),e.find(".arm_message_select_box_period").val(r.arm_message_period_unit),e.find("#arm_message_subscription option").each(function(){var e=jQuery(this).val();-1!=jQuery.inArray(e,r.arm_message_subscription)&&jQuery(this).attr("selected","selected")}),e.find("#arm_message_subscription").trigger("chosen:updated"),void 0!==r.arm_multi_languages_data&&""!=r.arm_multi_languages_data)for(var[t,i]of Object.entries(r.arm_multi_languages_data))e.find("#arm_message_subject_translated_"+t).val(""),e.find("#arm_message_content_translated_"+t).val(""),"undefined"!=i.arm_message_subject&&""!=i.arm_message_subject&&e.find("#arm_message_subject_translated_"+t).val(i.arm_message_subject),"undefined"!=i.arm_message_content&&""!=i.arm_message_content&&e.find("#arm_message_content_translated_"+t).val(i.arm_message_content);e.find("#arm_message_status").val(r.arm_message_status),e.find(".arm_button_manage_message").attr("data-type","edit"),void 0!==r.arm_automated_pdfcreator_email_switch&&"1"==r.arm_automated_pdfcreator_email_switch?(0<e.find("#arm_automated_email_cardpdf_attachment").length||0<e.find("#arm_automated_email_invoicepdf_attachment").length)&&(e.find(".arm_pdfcreator_automated_email_switch").show(),void 0!==r.arm_automated_email_card_attachment_status&&("on"==r.arm_automated_email_card_attachment_status?e.find("#arm_automated_email_cardpdf_attachment").prop("checked",!0):e.find("#arm_automated_email_cardpdf_attachment").prop("checked",!1)),void 0!==r.arm_automated_email_invoice_attachment_status&&("on"==r.arm_automated_email_invoice_attachment_status?e.find("#arm_automated_email_invoicepdf_attachment").prop("checked",!0):e.find("#arm_automated_email_invoicepdf_attachment").prop("checked",!1))):(0<e.find("#arm_automated_email_cardpdf_attachment").length||0<e.find("#arm_automated_email_invoicepdf_attachment").length)&&(e.find(".arm_pdfcreator_automated_email_switch").hide(),e.find("#arm_automated_email_cardpdf_attachment").prop("checked",!1),e.find("#arm_automated_email_invoicepdf_attachment").prop("checked",!1)),void 0!==r.arm_automated_pdfcreator_email_switch_armcourse&&"1"==r.arm_automated_pdfcreator_email_switch_armcourse?0<e.find("#arm_email_certificatepdf_attachment").length&&(e.find(".arm_pdfcreator_automated_email_switch_course_certificate").show(),void 0!==r.arm_automated_email_certificate_attachment_status&&("on"==r.arm_automated_email_certificate_attachment_status?e.find("#arm_email_certificatepdf_attachment").prop("checked",!0):e.find("#arm_email_certificatepdf_attachment").prop("checked",!1))):0<e.find("#arm_email_certificatepdf_attachment").length&&(e.find(".arm_pdfcreator_automated_email_switch_course_certificate").hide(),e.find("#arm_email_certificatepdf_attachment").prop("checked",!1)),setTimeout(function(){if(jQuery("#arm_message_subject").val(a),jQuery("#arm_message_content").val(_),null!=tinyMCE&&null!=tinyMCE.activeEditor)try{tinyMCE.execCommand("mceAddEditor",!0,"arm_message_content"),tinyMCE.activeEditor.setContent(_),tinyMCE.activeEditor.remove(),jQuery("#arm_message_content-html").trigger("click")}catch(e){}jQuery("body").css("overflow","hidden")},50),jQuery(".arm_loading_grid").fadeOut("slow"),arm_js_init(),validate_email_message(),jQuery(".add_new_message_wrapper .popup_content_text").removeAttr("style"),arm_set_loader_timeout("arm_communication_message_wrapper_frm","show")}else jQuery(".arm_loading_grid").hide(),armToast(r.msg,"error")}}),!1}),jQuery(document).on("click",".add_new_message_close_btn",function(){jQuery(".add_new_message_wrapper").css("opacity","1"),jQuery(".add_new_message_wrapper .error.arm_invalid").each(function(){jQuery("span.error.arm_invalid").html(""),jQuery(this).removeClass("error"),jQuery(this).removeClass("arm_invalid")}),jQuery(".add_new_message_wrapper").slideUp(250),setTimeout(function(){jQuery(".add_new_message_wrapper").bPopup().close(),jQuery("body").css("overflow","auto"),jQuery(".add_new_message_wrapper").show()},255)}),jQuery(document).on("click",".arm_test_mail_btn_pro",function(){var e=jQuery(this).data("message_id"),r=jQuery('input[name="arm_wp_nonce"]').val();e?(jQuery(".arm_loading").fadeIn("slow"),jQuery.ajax({type:"POST",url:__ARMAJAXURL,dataType:"json",data:{action:"arm_send_test_email",_wpnonce:r,message_id:e},success:function(e){var r,a,_,t;jQuery(".arm_loading").fadeOut("slow"),e.success&&"success"===e.data.status?(armToast(e.data.msg,"success"),(r=jQuery("#arm_add_message_wrapper_frm")).find(".popup_header").html(e.data.popup_heading),r.find("#arm_message_id_box").val(e.data.id),a=e.data.arm_template_subject||"",_=e.data.arm_template_content||"",t=e.data.arm_admin_template_content||_,r.find("#arm_message_subject").val(a),r.find("#arm_message_content").val(_),r.find(".arm_admin_message_content").val(t),"undefined"!=typeof tinyMCE&&(tinyMCE.get("arm_message_content")&&tinyMCE.get("arm_message_content").setContent(_),tinyMCE.get("arm_admin_message_content")&&tinyMCE.get("arm_admin_message_content").setContent(t))):armToast(e.data.msg,"error")},error:function(){jQuery(".arm_loading").fadeOut("slow"),armToast("AJAX request failed.","error")}})):armToast("Invalid message ID.","error")}),jQuery(document).on("click",".arm_add_drip_rule_link",function(){jQuery("#arm_add_new_drip_rule_wrapper_frm").trigger("reset"),jQuery("#arm_add_new_drip_rule_wrapper_frm").find("input[type=hidden]").val("");var e=jQuery("#arm_add_new_drip_rule_wrapper_frm"),r=(e.find(".arm_rule_item_type_input").val("page"),e.find("#arm_drip_rule_plans").val("").trigger("chosen:updated"),e.find("#arm_add_drip_type").val("instant").trigger("change"),e.find("#arm_drip_type_days").val("10"),e.find("*#arm_drip_type_dmy").val("day").trigger("change"),e.find("*#arm_drip_type_time").val("00:00").trigger("change"),e.find("*#arm_drip_exp_dmy").val("day").trigger("change"),e.find("*#arm_drip_exp_time").val("00:00").trigger("change"),e.find("*#arm_drip_type_exp_dmy").val("day").trigger("change"),e.find("*#arm_drip_type_exp_time").val("00:00").trigger("change"),e.find("*#arm_drip_type_exp_dmy_imm").val("day").trigger("change"),e.find("*#arm_drip_type_exp_time_imm").val("00:00").trigger("change"),e.find(".arm_drip_expire_after_days").addClass("hidden_section"),e.find(".arm_drip_expire_after_immediate").addClass("hidden_section"),e.find(".arm_drip_expire_post_publish").addClass("hidden_section"),e.find(".arm_drip_expire_post_modify").addClass("hidden_section"),e.find("#arm_drip_rule_status").val(1),jQuery("#arm_edit_drip_rule_wrapper_frm")),r=(r.trigger("reset"),r.find("input[type=hidden]").val(""),e.find("#arm_drip_type_date_from").attr("data-default_value"));return e.find("#arm_drip_type_date_from").val(r),e.find("#arm_drip_type_date_to").val(""),arm_selectbox_init(),e.find(".arm_rule_item_type_input").trigger("change"),arm_popup_initialize(".arm_add_new_drip_rule_wrapper",160,0,"slideDown"),!1}),jQuery(document).on("change","#arm_drip_rule_plans",function(){""!=jQuery(this).val()&&0<jQuery("#arm_drip_rule_plans-error").length&&(jQuery(this).removeClass("error").removeClass("arm_invalid"),jQuery("#arm_drip_rule_plans-error").remove())}),jQuery(document).on("change","#arm_edit_drip_rule_plans",function(){""!=jQuery(this).val()&&0<jQuery("#arm_edit_drip_rule_plans-error").length&&(jQuery(this).removeClass("error").removeClass("arm_invalid"),jQuery("#arm_edit_drip_rule_plans-error").remove())}),jQuery(document).on("change","#arm_drip_rule_post_types",function(){var e=jQuery(this).val();-1!=jQuery.inArray("0",e)?jQuery(".arm_drip_show_old_posts").show():jQuery(".arm_drip_show_old_posts").hide()}),jQuery(document).on("click",".add_new_drip_rule_close_btn",function(){jQuery(".arm_add_new_drip_rule_wrapper").bPopup().close(),jQuery("body").css("overflow","auto")}),jQuery(document).on("click",".edit_drip_rule_close_btn",function(){jQuery(".arm_edit_drip_rule_wrapper").bPopup().close(),jQuery("body").css("overflow","auto")}),jQuery(document).on("change","#arm_add_rule_item_type",function(){"custom_content"==jQuery(this).val()?jQuery(".arm_drip_type_divider").addClass("hidden_section"):jQuery(".arm_drip_type_divider").removeClass("hidden_section")}),jQuery(document).on("change","#arm_add_drip_type",function(){var e=jQuery(this).val(),r=jQuery("#arm_add_rule_item_type").val();jQuery(".arm_drip_type_options_days").addClass("hidden_section"),jQuery(".arm_drip_type_options_dates").addClass("hidden_section"),jQuery(".arm_drip_type_options_post_publish").addClass("hidden_section"),jQuery(".arm_drip_type_options_post_modify").addClass("hidden_section"),jQuery(".arm_drip_custom_content_opts").addClass("hidden_section"),jQuery("#arm_drip_type_options_"+e).removeClass("hidden_section"),"instant"!=e?jQuery(".arm_drip_wrapper_immediate").addClass("hidden_section"):jQuery(".arm_drip_wrapper_immediate").hasClass("hidden_section")&&jQuery(".arm_drip_wrapper_immediate").removeClass("hidden_section"),"dates"==e||"custom_content"==r?(jQuery(".arm_drip_enable_post_type_opts").addClass("hidden_section"),jQuery(".arm_drip_rule_enable_opts").is(":checked")&&jQuery(".arm_drip_rule_enable_opts").prop("checked",!1)):jQuery(".arm_drip_enable_post_type_opts").removeClass("hidden_section")}),jQuery(document).on("change","#arm_edit_drip_type",function(){var e=jQuery(this).val();jQuery(".arm_edit_drip_type_options_days").addClass("hidden_section"),jQuery(".arm_edit_drip_type_options_dates").addClass("hidden_section"),jQuery(".arm_edit_drip_type_options_post_publish").addClass("hidden_section"),jQuery(".arm_edit_drip_type_options_post_modify").addClass("hidden_section"),jQuery("#arm_edit_drip_type_options_"+e).removeClass("hidden_section"),"instant"!=e&&jQuery("#arm_edit_drip_type_options_instant").addClass("hidden_section"),"dates"==e?jQuery(".arm_drip_enable_post_type_opts").addClass("hidden_section"):jQuery(".arm_drip_enable_post_type_opts").removeClass("hidden_section")}),jQuery(document).on("click",".arm_edit_drip_rule_btn",function(){var e,r;return""!=e&&0!=e&&(e=jQuery(this).attr("data-rule_id"),r=jQuery('input[name="arm_wp_nonce"]').val(),jQuery(".arm_edit_drip_rule_wrapper_frm").hide(),arm_popup_initialize(".arm_edit_drip_rule_wrapper",160,0,"slideDown"),arm_set_loader_timeout("arm_edit_drip_rule_wrapper_frm","hide"),jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_edit_drip_rule_data&rule_id="+e+"&_wpnonce="+r,success:function(e){var r;e=arm_convert_json_from_pattern(e),"success"==(e=jQuery.parseJSON(e)).status?((r=jQuery("#arm_edit_drip_rule_wrapper_frm")).find("#arm_edit_drip_rule_id").val(e.rule_id),r.find("#arm_edit_drip_rule_item_id").val(e.item_id),0==e.item_id?r.find(".arm_drip_show_old_posts").show():r.find(".arm_drip_show_old_posts").hide(),1==e.show_old_items&&jQuery("#arm_edit_drip_show_old_posts").prop("checked",!0),r.find("#arm_edit_drip_rule_item_type").val(e.item_type),r.find("#arm_edit_rule_item_type").html(e.item_title),r.find("#arm_edit_drip_type").val(e.rule_type),"custom_content"==e.item_type?(jQuery('ul[data-id="arm_edit_drip_type"] li[data-value="post_publish"]').remove(),jQuery('ul[data-id="arm_edit_drip_type"] li[data-value="post_modify"]').remove()):(0==jQuery('ul[data-id="arm_edit_drip_type"] li[data-value="post_publish"]').length&&jQuery('ul[data-id="arm_edit_drip_type"]').append('<li data-label="'+Post_Publish+'" data-value="post_publish">'+Post_Publish+"</li>"),0==jQuery('ul[data-id="arm_edit_drip_type"] li[data-value="post_modify"]').length&&jQuery('ul[data-id="arm_edit_drip_type"]').append('<li data-label="'+Post_Modify+'" data-value="post_modify">'+Post_Modify+"</li>")),r.find("#arm_edit_drip_type_days").val(e.rule_days),r.find("#arm_edit_drip_type_post_publish").val(e.rule_post_publish),r.find("#arm_edit_drip_type_post_modify").val(e.rule_post_modify),"1"==e.rule_expiration_type?(r.find("#arm_drip_edit_expiration_days").prop("checked",!0),r.find(".arm_edit_drip_expire_after_days").removeClass("hidden_section"),r.find("#arm_edit_drip_exp_days").val(e.rule_expiration_duration),r.find("#arm_edit_drip_exp_duration").val(e.rule_expiration_duration_type),r.find("#arm_edit_drip_exp_duration_time").val(e.rule_expiration_time)):"2"==e.rule_expiration_type?(r.find("#arm_drip_edit_expire_post_publish").prop("checked",!0),r.find(".arm_edit_drip_expire_post_publish").removeClass("hidden_section"),r.find("#arm_edit_drip_exp_post_publish").val(e.rule_expiration_duration),r.find("#arm_edit_drip_exp_post_publish_dmy").val(e.rule_expiration_duration_type),r.find("#arm_edit_drip_exp_post_publish_time").val(e.rule_expiration_time)):"3"==e.rule_expiration_type?(r.find("#arm_drip_edit_expire_post_modify").prop("checked",!0),r.find(".arm_edit_drip_expire_post_modify").removeClass("hidden_section"),r.find("#arm_edit_drip_exp_post_modify").val(e.rule_expiration_duration),r.find("#arm_edit_drip_exp_post_modify_dmy").val(e.rule_expiration_duration_type),r.find("#arm_edit_drip_exp_post_modify_time").val(e.rule_expiration_time)):"4"==e.rule_expiration_type?(r.find("#arm_edit_drip_expiration_immediate").prop("checked",!0),r.find(".arm_edit_drip_expire_after_immediate").removeClass("hidden_section"),r.find("#arm_drip_edit_type_exp_imm").val(e.rule_expiration_duration),r.find("#arm_drip_type_exp_dmy_imm").val(e.rule_expiration_duration_type),r.find("#arm_drip_type_exp_time_imm").val(e.rule_expiration_time)):(r.find("#arm_edit_drip_expiration_immediate").removeAttr("checked"),r.find(".arm_edit_drip_expire_after_immediate").addClass("hidden_section"),r.find("#arm_drip_edit_expire_post_modify").removeAttr("checked"),r.find(".arm_edit_drip_expire_post_modify").addClass("hidden_section"),r.find("#arm_drip_edit_expire_post_publish").removeAttr("checked"),r.find(".arm_edit_drip_expire_post_publish").addClass("hidden_section"),r.find("#arm_drip_edit_expiration_days").removeAttr("checked"),r.find(".arm_edit_drip_expire_after_days").addClass("hidden_section"),r.find("#arm_drip_edit_type_exp_imm,#arm_edit_drip_exp_post_modify,#arm_edit_drip_exp_post_publish,#arm_edit_drip_exp_days").val(e.rule_expiration_duration),r.find("#arm_drip_type_exp_dmy_imm,#arm_edit_drip_exp_post_modify_dmy,#arm_edit_drip_exp_post_publish_dmy,#arm_edit_drip_exp_duration").val(e.rule_expiration_duration_type),r.find("#arm_drip_type_exp_time_imm,#arm_edit_drip_exp_post_modify_time,#arm_edit_drip_exp_post_publish_time,#arm_edit_drip_exp_duration_time").val(e.rule_expiration_time)),r.find("#arm_edit_drip_type_duration").val(e.rule_days_duration),r.find("#arm_edit_drip_type_post_publish_duration").val(e.rule_post_publish_duration),r.find("#arm_edit_drip_type_post_modify_duration").val(e.rule_post_modify_duration),r.find("#arm_edit_drip_type_duration_time").val(e.rule_days_duration_time),r.find("#arm_edit_drip_type_post_publish_duration_time").val(e.rule_post_publish_duration_time),r.find("#arm_edit_drip_type_post_modify_duration_time").val(e.rule_post_modify_duration_time),r.find("#arm_edit_drip_type_date_from").val(e.rule_from_date),r.find("#arm_edit_drip_type_date_to").val(e.rule_to_date),r.find("#arm_edit_drip_rule_enable_type_text").text(e.enable_page_type_text),"dates"==e.rule_type?jQuery(".arm_drip_enable_post_type_opts").addClass("hidden_section"):jQuery(".arm_drip_enable_post_type_opts").removeClass("hidden_section"),1==e.enable_before_subscription?(r.find("#arm_edit_drip_rule_enable_opts").prop("checked",!0),r.find(".arm_drip_enable_type_options_container").removeClass("hidden_section")):(r.find("#arm_edit_drip_rule_enable_opts").prop("checked",!1),r.find(".arm_drip_enable_type_options_container").addClass("hidden_section")),r.find("#arm_edit_drip_enable_before_subscription_days").val(e.before_days),jQuery(".arm_drip_type_options_wrapper").addClass("hidden_section"),jQuery("#arm_edit_drip_type_options_"+e.rule_type).removeClass("hidden_section"),r.find("#arm_edit_drip_rule_plans").val(e.rule_plans).trigger("chosen:updated"),r.find("#arm_edit_drip_rule_status").val(e.rule_status),arm_set_loader_timeout("arm_edit_drip_rule_wrapper_frm","show"),arm_js_init()):(jQuery(".arm_loading_grid").hide(),armToast(e.msg,"error"))}})),!1}),jQuery(document).on("click",".arm_drip_rule_status_action",function(){var e=jQuery(this).attr("data-item_id"),r=0;if(jQuery(this).is(":checked")&&(r=1),""==e&&""==r)return!1;jQuery(this).parents(".armswitch").find(".arm_status_loader_img").show();var a=jQuery('input[name="arm_wp_nonce"]').val();jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:{action:"arm_update_drip_rule_status",rule_id:e,rule_status:r,_wpnonce:a},success:function(e){e=arm_convert_json_from_pattern(e),"success"!=(e=jQuery.parseJSON(e)).type&&armToast(e.msg,"error"),jQuery(".arm_status_loader_img").hide()}})}),jQuery(document).on("click",".arm_drip_rule_delete_btn",function(){var e=jQuery(this).attr("data-item_id"),r=jQuery('input[name="arm_wp_nonce"]').val();""!=e&&0!=e&&jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_delete_single_drip_rule&act=delete&id="+e+"&_wpnonce="+r,success:function(e){var r;e=arm_convert_json_from_pattern(e),"success"==(e=jQuery.parseJSON(e)).type?(r=""!=e.msg?e.msg:delRuleSuccess,armToast(r,"success"),arm_load_drip_rules_list_grid(!1)):(r=""!=e.msg?e.msg:delRuleError,armToast(r,"error"))}}),hideConfirmBoxCallback()}),jQuery(document).on("click","#arm_invoice_reset_btn",function(){jQuery("#invoice_reset_content_message").bPopup({closeClass:"popup_close_btn"})}),jQuery(document).on("click",".arm_invoice_detail",function(){var r,e=jQuery(this).attr("data-log_id"),a=jQuery(this).attr("data-log_type"),_=jQuery('input[name="arm_wp_nonce"]').val();return""!=e&&0!=e&&(jQuery(".arm_invoice_detail_popup_text").html('<div style="width: 100%; margin: 45px auto;text-align:center;"> <img src="'+ARM_IMAGE_URL+'/arm_loader.gif"></div>'),r=jQuery(".arm_invoice_detail_popup").bPopup({opacity:.5,follow:[!0,!0],position:["auto","auto"],closeClass:"arm_invoice_detail_close_btn"}),jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_invoice_detail&log_id="+e+"&log_type="+a+"&is_admin=1&_wpnonce="+_,success:function(e){""!=(e=arm_convert_json_from_pattern(e))?(jQuery(".arm_invoice_detail_popup_text").html(e),r.reposition(100)):alert(invoiceTransactionError)}})),!1}),jQuery(document).on("click",".arm_member_paid_post_popup_close_btn",function(){jQuery(".arm_member_paid_post_popup .popup_content_text.arm_add_plan").is(":visible")?jQuery(".arm_add_plan_cancel_btn").trigger("click"):jQuery(".arm_member_paid_post_popup").bPopup().close()}),jQuery(document).on("click",".arm_open_paid_plan_popup",function(){var _=jQuery(this).attr("data-id"),e=jQuery('input[name="arm_wp_nonce"]').val(),t=(jQuery("#arm_user_plan").val(""),jQuery(".arm_member_paid_post_popup").find(".arm_manage_plans_username").hide(),jQuery(".arm_member_paid_post_popup").removeClass("arm_add_plan_form"),jQuery(".arm_member_paid_post_popup").bPopup({opacity:.5,follow:[!1,!1]}));return jQuery(".arm_member_manage_post_detail_popup_text").html('<div style="width: 100%; margin: 45px auto;"> <img src="'+__ARMLITEIMAGEURL+'/arm_loader.gif"></div>'),""!=_&&0!=_&&jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_member_view_paid_plan_detail&member_id="+_+"&view_type=popup&_wpnonce="+e,success:function(e){var r,a;e=arm_convert_json_from_pattern(e),""!=(e=jQuery.parseJSON(e))?(jQuery("#arm_delete_paid_post_plan").val(_),jQuery("#arm_add_paid_post_plan").val(_),r=e.username,e=e.html,jQuery("#arm_edit_plan_user_id").val(_),jQuery(".arm_member_manage_post_detail_popup_text").html(e),jQuery(".arm_member_paid_post_popup").find(".arm_manage_plans_username").show(),jQuery.isFunction(jQuery().tipso)&&jQuery(".armhelptip").each(function(){jQuery(this).tipso({position:"top",size:"small",background:"#939393",color:"#ffffff",width:!1,maxWidth:400,useTitle:!0})}),arm_selectbox_init(),jQuery.isFunction(jQuery().datetimepicker)&&(a=jQuery(".arm_user_add_plan_date_picker").data("date_format"),jQuery(".arm_user_add_plan_date_picker").datetimepicker({useCurrent:!1,format:armChangeDateFormat(a),locale:""}),jQuery(".arm_user_plan_expiry_date_picker").each(function(){jQuery(".arm_user_plan_expiry_date_picker").datetimepicker({useCurrent:!1,format:armChangeDateFormat(a),locale:""})})),t.reposition(100),jQuery("#arm_manage_plans_username").html("( "+r+" )"),jQuery(".arm_member_manage_post_detail_popup_text").find("tr:last-child").addClass("arm_no_border")):alert(prevMemberDetailError)},error:function(e){jQuery(".arm_loading").fadeOut()}}),!1}),jQuery(document).on("click",".arm_drip_members_list_detail",function(){var e=jQuery(this).attr("data-list_id"),r=jQuery(this).attr("data-is_custom"),a=jQuery(this).attr("data-list_content"),_=jQuery(this).attr("data-drip_name"),t=jQuery('input[name="arm_wp_nonce"]').val();return""!=e&&0!=e&&("0"==r?jQuery(".arm_members_list_detail_popup").find(".drip_contents").html(a+"&nbsp: "+_):jQuery(".arm_members_list_detail_popup").find(".drip_contents").html(_),jQuery(".arm_members_list_detail_popup_text").hide(0),arm_popup_initialize(".arm_members_list_detail_popup",160,0,"slideDown"),jQuery("#arm_loading_grid_members").fadeIn("slow"),jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_get_drip_rule_members_data&rule_id="+e+"&_wpnonce="+t,success:function(e){e=arm_convert_json_from_pattern(e),jQuery(".arm_members_list_detail_popup_text").show(0),jQuery("#arm_loading_grid_members").fadeOut();var e=jQuery.parseJSON(e);"success"==e.status&&(e=e.data,jQuery("#armember_datatable_1").dataTable().fnDestroy(),jQuery("#armember_datatable_1").DataTable({sDom:'t<"footer"ipl>',sPaginationType:"four_button",bJQueryUI:!0,bPaginate:!0,bAutoWidth:!1,sScrollX:"100%",bScrollCollapse:!0,aaData:e,aoColumnDefs:[{bVisible:!1,aTargets:[]},{bSortable:!1,aTargets:[3]},{sClass:"dt-left",aTargets:[2]},{sClass:"center",aTargets:[3]},{sClass:"arm_min_width_200",aTargets:[1]}],aaSorting:[],aLengthMenu:[10,25,50,100,150,200],oLanguage:{sInfo:__ARM_Showing+" _START_ "+__ARM_to+" _END_ "+__ARM_of+" _TOTAL_ "+__ARM_members,sInfoEmpty:__ARM_Showing_empty,sLengthMenu:__ARM_Show+"_MENU_",sEmptyTable:__ARM_NO_FOUNT,sZeroRecords:__ARM_NO_MATCHING}}))},error:function(e){jQuery("#arm_loading_grid_members").fadeOut()}})),!1}),jQuery(document).on("click",".arm_members_list_detail_close_btn",function(){jQuery(".arm_members_list_detail_popup").bPopup({transition:"slideDown",speed:250}).close(),setTimeout(function(){jQuery("#armember_datatable_1").dataTable().fnDestroy(),jQuery("body").css("overflow","auto")},250)}),jQuery(document).on("click",".arm_coupon_members_list_detail",function(){var e=jQuery(this).attr("data-list_id"),r=jQuery('input[name="arm_wp_nonce"]').val();return""!=e&&0!=e&&(jQuery(".arm_members_list_detail_popup_text").hide(0),arm_popup_initialize(".arm_members_list_detail_popup",160,0,"slideDown"),jQuery("#arm_loading_grid_members").fadeIn("slow"),jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_get_coupon_members_data&coupon_id="+e+"&_wpnonce="+r,success:function(e){e=arm_convert_json_from_pattern(e),jQuery(".arm_members_list_detail_popup_text").show(0),jQuery("#arm_loading_grid_members").fadeOut();var e=jQuery.parseJSON(e);"success"==e.status&&(e=e.data,jQuery("#armember_datatable_1").DataTable({sDom:'t<"footer"ipl>',sPaginationType:"four_button",bJQueryUI:!0,bPaginate:!0,bAutoWidth:!1,sScrollX:"100%",bScrollCollapse:!0,aaData:e,aoColumnDefs:[{bVisible:!1,aTargets:[]},{bSortable:!1,aTargets:[3]}],aaSorting:[],aLengthMenu:[10,25,50,100,150,200],oLanguage:{sInfo:__ARM_Showing+" _START_ "+__ARM_to+" _END_ "+__ARM_of+" _TOTAL_ "+__ARM_members,sInfoEmpty:__ARM_Showing_empty,sLengthMenu:__ARM_Show+"_MENU_",sEmptyTable:__ARM_NO_FOUNT,sZeroRecords:__ARM_NO_MATCHING}}))},error:function(e){jQuery("#arm_loading_grid_members").fadeOut()}})),!1}),jQuery(document).on("click",".arm_custom_css_detail",function(){var e=jQuery(this).attr("data-section"),r=jQuery('input[name="arm_wp_nonce"]').val();return jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_custom_css_detail&css_section="+e+"&_wpnonce="+r,success:function(e){""!=e?(e=arm_convert_json_from_pattern(e),jQuery(".arm_custom_css_detail_container").html(e),jQuery(".arm_custom_css_detail_popup").bPopup({opacity:.5,follow:[!1,!1],position:["auto","auto"],closeClass:"arm_custom_css_detail_close_btn",onClose:function(){jQuery(".arm_custom_css_detail_popup").remove()}})):(jQuery(".arm_loading").fadeOut(),alert(prevCustomCssError))}}),!1}),jQuery(document).on("click",".arm_custom_css_menu_link",function(){var e=jQuery(this).attr("data-custom-class"),r=e+"_section";if(""==e)return!1;jQuery(".arm_custom_css_menu_link").removeClass("active"),jQuery(this).addClass("active"),jQuery(".arm_custom_css_detail_list_item").addClass("hidden_section"),jQuery(".arm_custom_css_detail_list_item."+r).removeClass("hidden_section")}),jQuery(document).on("click",".arm_section_custom_css_detail",function(){var e=jQuery(this).attr("data-section"),r=jQuery('input[name="arm_wp_nonce"]').val();return jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_section_custom_css_detail&css_section="+e+"&_wpnonce="+r,success:function(e){""!=(e=arm_convert_json_from_pattern(e))?(jQuery(".arm_section_custom_css_detail_container").html(e),jQuery(".arm_section_custom_css_detail_popup").bPopup({opacity:.5,follow:[!1,!1],closeClass:"arm_section_custom_css_detail_close_btn",onClose:function(){jQuery(".arm_section_custom_css_detail_popup").remove()}})):(jQuery(".arm_loading").fadeOut(),alert(prevCustomCssError))}}),!1}),jQuery(document).on("click",".arm_section_custom_css_detail_show_template",function(){var e=jQuery(this).attr("data-section");jQuery(".arm_temp_option_wrapper").addClass("hidden_section"),jQuery(".arm_temp_custom_class_btn").removeClass("hidden_section"),jQuery(".arm_temp_custom_class_"+e).removeClass("hidden_section"),jQuery(window.opera?"html":"html, body").animate({scrollTop:jQuery(".popup_content_text").offset().top-200},0)}),jQuery(document).on("click",".arm_section_custom_css_detail_hide_template",function(){jQuery(this).attr("data-section");jQuery(".arm_temp_custom_class_btn").addClass("hidden_section"),jQuery(".arm_temp_custom_class").addClass("hidden_section"),jQuery(".arm_temp_option_wrapper").removeClass("hidden_section"),jQuery(window.opera?"html":"html, body").animate({scrollTop:jQuery(".popup_content_text").offset().top-200},0)}),jQuery(document).on("click",".arm_communication_status_action",function(){var e=jQuery(this).attr("data-item_id"),r=0,a=jQuery('input[name="arm_wp_nonce"]').val();if(jQuery(this).is(":checked")&&(r=1),""==e&&""==r)return!1;jQuery(this).prop("disabled",!0),jQuery(this).parents(".armswitch").find(".arm_status_loader_img").show(),jQuery(this).parents(".armswitch").find(".arm_status_loader_img").css("right","30px !important"),jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:{action:"arm_update_message_communication_status",arm_message_id:e,arm_message_status:r,_wpnonce:a},success:function(e){e=arm_convert_json_from_pattern(e),"success"!=(e=jQuery.parseJSON(e)).type?armToast(e.msg,"error"):armToast(e.msg,"success"),setTimeout(function(){jQuery(".arm_communication_status_action").prop("disabled",!1)},200),jQuery(".arm_status_loader_img").hide()}})}),jQuery(document).on("click",".arm_coupon_status_action",function(){var e=jQuery(this).attr("data-item_id"),r=0,a=jQuery('input[name="arm_wp_nonce"]').val();if(jQuery(this).is(":checked")&&(r=1),""==e&&""==r)return!1;jQuery(this).parents(".armswitch").find(".arm_status_loader_img").show(),jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:{action:"arm_update_coupons_status",arm_coupon_id:e,arm_coupon_status:r,_wpnonce:a},success:function(e){e=arm_convert_json_from_pattern(e),"success"!=(e=jQuery.parseJSON(e)).type&&armToast(e.msg,"error"),jQuery(".arm_status_loader_img").hide()}})}),jQuery(document).on("click",".arm_coupon_delete_btn",function(){var e=jQuery(this).attr("data-item_id"),r=jQuery('input[name="arm_wp_nonce"]').val();""!=e&&0!=e&&jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_delete_single_coupon&act=delete&id="+e+"&_wpnonce="+r,success:function(e){var r;e=arm_convert_json_from_pattern(e),"success"==(e=jQuery.parseJSON(e)).type?(jQuery("#armember_datatable").DataTable().ajax.reload(),r=""!=e.msg?e.msg:delCouponSuccess,armToast(r,"success")):(r=""!=e.msg?e.msg:delCouponError,armToast(r,"error"))}}),hideConfirmBoxCallback()}),jQuery(document).on("click","#arm_invoice_settings_btn",function(){var e=jQuery("#arm_invoice_settings").find('input[name="arm_wp_nonce"]').val(),r=("undefined"!=typeof tinyMCE&&tinyMCE.activeEditor&&!tinyMCE.activeEditor.isHidden()&&(r=tinymce.activeEditor.getContent(),jQuery("textarea[name='arm_general_settings[arm_invoice_template]']").val(r)),jQuery("#arm_invoice_settings").serialize()),r=(datastr="action=arm_update_invoice_settings&"+r,languages_settings="",0<jQuery(".arm_general_settings_multi_languages_tab").length&&(languages_settings=jQuery(".arm_common_setting_multi_language_wrapper input,.arm_common_setting_multi_language_wrapper textarea").serialize(),datastr+="&"+languages_settings),datastr+="&_wpnonce="+e,jQuery(this));r.hasClass("arm_already_clicked")||(jQuery("#arm_loader_img").show(),r.addClass("arm_already_clicked"),r.attr("disabled","disabled"),jQuery.ajax({url:__ARMAJAXURL,type:"POST",data:datastr,success:function(e){var r;e=arm_convert_json_from_pattern(e),"success"==(e=jQuery.parseJSON(e)).type?(r=""!=e.msg?e.msg:saveSettingsSuccess,armToast(r,"success"),"1"==jQuery("#is_reload_page").val()&&location.reload()):(r=""!=e.msg?e.msg:saveSettingsError,armToast(r,"error")),jQuery("#arm_loader_img").hide()}}))}),jQuery(document).on("click",".arm_buddypress_settings_btn",function(){var e=jQuery("#arm_buddypress_settings").serialize(),r=jQuery(this);return r.hasClass("arm_already_clicked")||(r.addClass("arm_already_clicked"),r.attr("disabled","disabled"),jQuery("#arm_loader_img").show(),r=jQuery('input[name="arm_wp_nonce"]').val(),jQuery.ajax({url:__ARMAJAXURL,type:"POST",data:"action=arm_update_buddypress_settings&"+e+"&_wpnonce="+r,success:function(e){var r;e=arm_convert_json_from_pattern(e),"success"==(e=jQuery.parseJSON(e)).type?(r=""!=e.msg?e.msg:saveSettingsSuccess,armToast(r,"success")):(r=""!=e.msg?e.msg:saveSettingsError,armToast(r,"error")),jQuery("#arm_loader_img").hide()}})),!1}),jQuery(document).on("click",".arm_buddypress_sync_btn",function(){var a,e=jQuery("input[name=arm_bp_sync]:checked").val(),r=jQuery(this),_=r.attr("data-total-users"),t=jQuery('input[name="arm_wp_nonce"]').val();return r.hasClass("arm_already_clicked")||(r.addClass("arm_already_clicked"),r.attr("disabled","disabled"),a=setInterval(function(){arm_buddypress_sync_progressbar(a,_,!0)},2e3),arm_buddypress_sync_progressbar(a,_,!0),jQuery(".arm_buddypress_sync_progressbar_inner").css("width",""),jQuery(".arm_buddypress_sync_progressbar_inner").html(""),jQuery(".arm_buddypress_sync_progressbar").show(),jQuery("#arm_loader_img_sync").show(),jQuery.ajax({url:__ARMAJAXURL,type:"POST",data:"action=arm_buddypress_sync&sync_type="+e+"&_wpnonce="+t,success:function(e){var r;e=arm_convert_json_from_pattern(e),"success"==(e=jQuery.parseJSON(e)).type?(r=""!=e.msg?e.msg:saveSettingsSuccess,armToast(r,"success"),jQuery(".arm_buddypress_sync_progressbar_inner").css("width","100%"),jQuery(".arm_buddypress_sync_progressbar_inner").html("100%"),jQuery(".arm_buddypress_sync_progressbar").hide(),clearInterval(a)):(r=""!=e.msg?e.msg:saveSettingsError,armToast(r,"error")),jQuery("#arm_loader_img_sync").hide()},error:function(e){armToast(saveSettingsError,"error"),jQuery("#arm_loader_img_sync").hide(),jQuery(".arm_buddypress_sync_progressbar").hide()}})),!1}),jQuery(document).on("click",".arm_opt_ins_options_btn",function(){var e=jQuery("#arm_opt_ins_options").serialize(),r=jQuery(this);return r.hasClass("arm_already_clicked")||(r.addClass("arm_already_clicked"),r.attr("disabled","disabled"),jQuery("#arm_loader_img").show(),r=jQuery("#arm_opt_ins_options").find('input[name="arm_wp_nonce"]').val(),jQuery.ajax({url:__ARMAJAXURL,type:"POST",data:"action=arm_update_opt_ins_settings&"+e+"&_wpnonce="+r,success:function(e){var r;e=arm_convert_json_from_pattern(e),"success"==(e=jQuery.parseJSON(e)).type?(r=""!=e.msg?e.msg:saveOptInsSuccess,armToast(r,"success")):(r=""!=e.msg?e.msg:saveOptInsError,armToast(r,"error")),jQuery("#arm_loader_img").hide()}})),!1}),jQuery(document).on("change","#enable_tax",function(){jQuery(this).is(":checked")?("country_tax"==jQuery("#arm_selected_tax_type").val()?(jQuery(".arm_enable_common_tax").addClass("hidden_section"),jQuery(".arm_enable_country_tax").removeClass("hidden_section")):(jQuery(".arm_enable_country_tax").addClass("hidden_section"),jQuery(".arm_enable_common_tax").removeClass("hidden_section")),jQuery(".arm_enable_tax").slideDown().removeClass("hidden_section")):(jQuery(".arm_enable_tax").slideUp(),setTimeout(function(){jQuery(".arm_enable_tax").addClass("hidden_section").removeAttr("style")},250))}),jQuery(document).on("click",".arm_feature_settings_switch.arm_pro_feature",function(){var r=jQuery(this).attr("data-feature"),e=jQuery(this).parents(".arm_feature_settings_main_wrapper").find('input[name="arm_wp_nonce"]').val(),a="arm_is_"+r+"_feature",_=jQuery(this).attr("data-feature_val");if(""==r&&""==_)return!1;var t="",i=("coupon"==r?t=".arm-submenu-item.arm_coupon_management":"drip_content"==r?t=".arm-submenu-item.arm_drip_rules":"social"==r?t=".arm-submenu-item.arm_profiles_directories, .arm-submenu-item.badges_achievements":"user_private_content"==r?t=".arm-submenu-item.arm_manage_private_content":"pay_per_post"==r&&(t=".arm-submenu-item.arm_manage_pay_per_post"),jQuery(this));i.parent().find(".arm_addon_loader").addClass("active"),i.hide(),i.hasClass("arm_feature_deactivate_btn")&&0<i.parent().find(".arm_feature_configure_btn").length&&i.parent().find(".arm_feature_configure_btn").hide(),jQuery.ajax({type:"POST",url:__ARMAJAXURL,dataType:"json",data:{action:"arm_update_feature_settings",arm_features_options:a,arm_features_status:_,_wpnonce:e},success:function(e){i.parent().find(".arm_addon_loader").removeClass("active"),i.show(),i.hasClass("arm_feature_deactivate_btn")&&0<i.parent().find(".arm_feature_configure_btn").length&&i.parent().find(".arm_feature_configure_btn").show(),"success"==e.type?(1==_?(jQuery("."+r+"_enable").addClass("active"),jQuery("."+r+"_enable").find(".arm_feature_button_activate_wrapper").addClass("hidden_section"),jQuery("."+r+"_enable").find(".arm_feature_button_deactivate_wrapper").removeClass("hidden_section"),""!=t&&jQuery(t).show()):(jQuery("."+r+"_enable").removeClass("active"),jQuery("."+r+"_enable").find(".arm_feature_button_activate_wrapper").removeClass("hidden_section"),jQuery("."+r+"_enable").find(".arm_feature_button_deactivate_wrapper").addClass("hidden_section"),""!=t&&jQuery(t).hide()),armToast(e.msg,"success",4e3)):armToast(e.msg,"error",4e3),jQuery(".arm_addon_loader_img").hide()}})}),jQuery(document).on("change","#invc_pre_sfx_mode",function(){jQuery(this).is(":checked")?jQuery(".arm_invc_pre_sfx_tr").slideDown().removeClass("hidden_section"):(jQuery(".arm_invc_pre_sfx_tr").slideUp(),setTimeout(function(){jQuery(".arm_invc_pre_sfx_tr").addClass("hidden_section").removeAttr("style")},250))}),jQuery(document).on("change",".arm_stripe_payment_method_radio",function(){"fields"==jQuery(this).val()?(jQuery(".arm_stripe_payment_method_popup_fields").addClass("hidden_section"),jQuery(".arm_payment_gateway_stripe_cc_field_wrapper").removeClass("hidden_section")):(jQuery(".arm_stripe_payment_method_popup_fields").removeClass("hidden_section"),jQuery(".arm_payment_gateway_stripe_cc_field_wrapper").addClass("hidden_section"))}),jQuery(document).on("change",".arm_social_form_page_input",function(e){e.stopPropagation();var r=jQuery(this),e=r.val(),a=jQuery('input[name="arm_wp_nonce"]').val();jQuery.ajax({url:__ARMAJAXURL,type:"POST",data:"action=arm_social_form_exist_in_page&page_id="+e+"&_wpnonce="+a,beforeSend:function(){r.parent().find(".arm_refresh").removeClass("arm_no_error"),r.parent().find(".arm_check").addClass("arm_no_error")},success:function(e){e=arm_convert_json_from_pattern(e),e=jQuery.parseJSON(e),r.parent().find(".arm_refresh").addClass("arm_no_error");e.form_id;jQuery(".arm_social_form_container").html(e.forms),1==e.status?(r.parent().find(".arm_error_msg").addClass("arm_no_error"),r.parent().find(".arm_check").show().removeClass("arm_no_error").delay(5e3).hide("fast")):(r.parent().find(".arm_error_msg").removeClass("arm_no_error"),r.parent().find(".arm_check").addClass("arm_no_error")),arm_selectbox_init()}})}),jQuery(document).on("change",".arm_redirect_drip_page_input",function(e){"specific"==jQuery(this).val()?jQuery(".arm_redirection_access_rules_drip_specific").fadeIn():jQuery(".arm_redirection_access_rules_drip_specific").fadeOut("fase")}),jQuery(document).on("change","#arm_social_login_tu_custom_icon",function(e){var r=jQuery(this).attr("id");1!=arm_file_validation(r)?jQuery("#"+r+"_err").show():jQuery("#"+r+"_err").hide()}),jQuery(document).ready(function(_){function a(e){var r;_("#arm_message_subject").val(e.arm_template_subject||""),"undefined"!=typeof tinyMCE&&tinyMCE.get("arm_message_content")?tinyMCE.get("arm_message_content").setContent(e.arm_template_content||""):_("#arm_message_content").val(e.arm_template_content||""),((r=e.arm_admin_template_content)?r.replace(/\s+/g," ").trim():"")?(_("#admin-content-container").show(),"undefined"!=typeof tinyMCE&&tinyMCE.get("arm_admin_message_content")?tinyMCE.get("arm_admin_message_content").setContent(e.arm_admin_template_content):_("#arm_admin_message_content").val(e.arm_admin_template_content)):(_("#admin-content-container").hide(),"undefined"!=typeof tinyMCE&&tinyMCE.get("arm_admin_message_content")?tinyMCE.get("arm_admin_message_content").setContent(""):_("#arm_admin_message_content").val("")),n=!1}function t(e){o?e():(e=_('input[name="arm_wp_nonce"]').val(),_("#arm_message_type_loader").show(),_.ajax({url:__ARMAJAXURL,method:"POST",dataType:"json",data:{action:"arm_get_default_message",_wpnonce:e},success:function(e){e.success&&(o=e.data)},error:function(){console.log("Error loading message templates.")},complete:function(){_("#arm_message_type_loader").hide()}}))}function i(e){document.querySelector(".arm_advanced_email_notifications_main_wrapper")&&e&&(o?!n&&o&&o.hasOwnProperty(e)&&a(o[e]):t(function(){!n&&o&&o.hasOwnProperty(e)&&a(o[e])}))}jQuery.isFunction(jQuery().validate)&&(jQuery(".arm_add_badges_wrapper_frm").validate({ignore:"",errorClass:"error arm_invalid",validClass:"valid arm_valid",errorPlacement:function(e,r){e.appendTo(r.parents(".arm_required_wrapper"))},rules:{arm_badges_name:"required",arm_badges_icon:"required"},submitHandler:function(e){var r=jQuery(e).serialize(),a=jQuery(e).find(".arm_button_manage_badges").attr("data-type"),_=jQuery(e),e=jQuery('input[name="arm_wp_nonce"]').val();if(!_.hasClass("arm_already_clicked"))return _.find(":input:disabled").removeAttr("disabled").attr("disabled","disabled"),_.addClass("arm_already_clicked").attr("disabled","disabled"),_.find("input[type=submit], button[type=submit]").addClass("arm_already_clicked").attr("disabled","disabled"),jQuery(".arm_loader_img").show(),jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_badges_operation&"+r+"&op_type="+a+"&_wpnonce="+e,success:function(e){var r;e=arm_convert_json_from_pattern(e),"success"==(e=jQuery.parseJSON(e)).status?(jQuery(".arm_loader_img").hide(),jQuery(".add_new_badges_wrapper").find(".arm_submit_btn_loader").hide(),r=""!=e.message?e.message:wentwrong,armToast(r,"success"),jQuery(".add_new_badges_wrapper").bPopup().close(),setTimeout(function(){jQuery("#armember_datatable").dataTable().fnDestroy(),arm_load_badge_list_grid()},250)):(jQuery(".arm_loader_img").hide(),r=""!=e.message?e.message:wentwrong,armToast(r,"error"),_.removeClass("arm_already_clicked").removeAttr("disabled","disabled"),_.find("input[type=submit], button[type=submit]").removeClass("arm_already_clicked").removeAttr("disabled","disabled"))}}),!1}}),jQuery("#arm_add_achievements_wrapper_frm").validate({ignore:"",errorClass:"error arm_invalid",validClass:"valid arm_valid",errorPlacement:function(e,r){e.appendTo(r.parent())},rules:{arm_badges_id:{required:function(){return"defaultbadge"==jQuery("#arm_add_achievement_type").val()||("roles"==jQuery("#arm_add_achievement_type").val()||"plans"==jQuery("#arm_add_achievement_type").val())}},"arm_achievement_options[roles]":{required:function(){return"roles"==jQuery("#arm_add_achievement_type").val()}},"arm_achievement_options[plans]":{required:function(){return"plans"==jQuery("#arm_add_achievement_type").val()}},"arm_achieve_num[]":{required:function(){return"require"==jQuery("#arm_add_achievement_type").val()}},"arm_require_achive_badges_id[]":{required:function(){return"require"==jQuery("#arm_add_achievement_type").val()}},arm_badges_tooltip:{required:function(){return"defaultbadge"==jQuery("#arm_add_achievement_type").val()||("roles"==jQuery("#arm_add_achievement_type").val()||"plans"==jQuery("#arm_add_achievement_type").val())}},"arm_require_badges_tootip[]":{required:function(){return"require"==jQuery("#arm_add_achievement_type").val()}}},submitHandler:function(e){var r,a,_,t,i,n,o,s=jQuery(e).serialize(),d=jQuery(e);return"require"==jQuery("#arm_add_achievement_type").val()?(_=a=r=0,t=jQuery(e).find(".arm_achieve_num").length,i=jQuery(e).find(".arm_achivement_badge_icon").length,n=jQuery(e).find(".arm_achivement_badges_tootip").length,0<t&&jQuery(e).find(".arm_achieve_num").each(function(){if(""==jQuery(this).val())return jQuery(this).addClass("error arm_invalid"),jQuery("span.arm_invalid").hide(),jQuery(this).focus(),!(r=1);jQuery(this).removeClass("error arm_invalid"),jQuery(this).addClass("valid arm_valid"),jQuery("span.arm_invalid").hide(),r=0}),0<i&&jQuery(e).find(".arm_achivement_badge_icon").each(function(){if(""==jQuery(this).val())return jQuery(this).addClass("error arm_invalid"),jQuery("span.arm_invalid").hide(),jQuery(this).focus(),!(a=1);jQuery(this).removeClass("error arm_invalid"),jQuery(this).addClass("valid arm_valid"),jQuery("span.arm_invalid").hide(),a=0}),0<n&&jQuery(e).find(".arm_achivement_badges_tootip").each(function(){if(""==jQuery(this).val())return jQuery(this).addClass("error arm_invalid"),jQuery("span.arm_invalid").hide(),jQuery(this).focus(),!(_=1);jQuery(this).removeClass("error arm_invalid"),jQuery(this).addClass("valid arm_valid"),jQuery("span.arm_invalid").hide(),_=0}),1!=r&&1!=a&&1!=_&&(d.hasClass("arm_already_clicked")?void 0:(d.find(":input:disabled").removeAttr("disabled").attr("disabled","disabled"),d.addClass("arm_already_clicked").attr("disabled","disabled"),d.find("input[type=submit], button[type=submit]").addClass("arm_already_clicked").attr("disabled","disabled"),d.find(".arm_loader_img").show(),o=jQuery('input[name="arm_wp_nonce"]').val(),jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_save_achievements&"+s+"&_wpnonce="+o,success:function(e){var r;e=arm_convert_json_from_pattern(e),e=jQuery.parseJSON(e),jQuery(".arm_loader_img").fadeOut(),"success"==e.status?(r=""!=e.message?e.message:wentwrong,armToast(r,"success"),jQuery("#arm_add_achievements_wrapper_frm")[0].reset(),jQuery("#arm_add_achievements_wrapper_frm").find('input[name="b_action"]').val("add"),jQuery(".add_new_achievements_close_btn").trigger("click"),setTimeout(function(){jQuery("body").css("overflow","auto")},50),jQuery("#armember_datatable").dataTable().fnDestroy(),arm_load_achievements_list_grid()):(r=""!=e.message?e.message:wentwrong,armToast(r,"error"),d.removeClass("arm_already_clicked").removeAttr("disabled","disabled"),d.find("input[type=submit], button[type=submit]").removeClass("arm_already_clicked").removeAttr("disabled","disabled"))}}),!1))):d.hasClass("arm_already_clicked")?void 0:(d.find(":input:disabled").removeAttr("disabled").attr("disabled","disabled"),d.addClass("arm_already_clicked").attr("disabled","disabled"),d.find("input[type=submit], button[type=submit]").addClass("arm_already_clicked").attr("disabled","disabled"),d.find(".arm_loader_img").show(),o=jQuery('input[name="arm_wp_nonce"]').val(),jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_save_achievements&"+s+"&_wpnonce="+o,success:function(e){var r;e=arm_convert_json_from_pattern(e),e=jQuery.parseJSON(e),jQuery(".arm_loader_img").fadeOut(),"success"==e.status?(r=""!=e.message?e.message:wentwrong,armToast(r,"success"),jQuery("#arm_add_achievements_wrapper_frm")[0].reset(),jQuery("#arm_add_achievements_wrapper_frm").find('input[name="b_action"]').val("add"),jQuery(".add_new_achievements_close_btn").trigger("click"),setTimeout(function(){jQuery("body").css("overflow","auto")},50),jQuery("#armember_datatable").dataTable().fnDestroy(),arm_load_achievements_list_grid()):(r=""!=e.message?e.message:wentwrong,armToast(r,"error"),d.removeClass("arm_already_clicked").removeAttr("disabled","disabled"),d.find("input[type=submit], button[type=submit]").removeClass("arm_already_clicked").removeAttr("disabled","disabled"))}}),!1)}}),jQuery("#arm_edit_achievements_wrapper_frm").validate({ignore:"",errorClass:"error arm_invalid",validClass:"valid arm_valid",errorPlacement:function(e,r){e.appendTo(r.parent())},rules:{arm_badges_id:"required","arm_achievement_options[roles]":{required:function(){return"roles"==jQuery("#arm_edit_achievement_type").val()}},"arm_achievement_options[plans]":{required:function(){return"plans"==jQuery("#arm_edit_achievement_type").val()}},"arm_achieve_num[]":{required:function(){return"require"==jQuery("#arm_edit_achievement_type").val()}},"arm_require_achive_badges_id[]":{required:function(){return"require"==jQuery("#arm_edit_achievement_type").val()}},arm_badges_tooltip:{required:function(){return"defaultbadge"==jQuery("#arm_edit_achievement_type").val()||("roles"==jQuery("#arm_edit_achievement_type").val()||"plans"==jQuery("#arm_edit_achievement_type").val())}},"arm_require_badges_tootip[]":{required:function(){return"require"==jQuery("#arm_edit_achievement_type").val()}}},submitHandler:function(e){var r,a,_,t,i,n,o,s=jQuery(e).serialize(),d=jQuery(e);return"require"==jQuery("#arm_edit_achievement_type").val()?(_=a=r=0,t=jQuery(e).find(".arm_achieve_num").length,i=jQuery(e).find(".arm_achivement_badge_icon").length,n=jQuery(e).find(".arm_achivement_badges_tootip").length,0<t&&jQuery(e).find(".arm_achieve_num").each(function(){if(""==jQuery(this).val())return jQuery(this).addClass("error arm_invalid"),jQuery("span.arm_invalid").hide(),jQuery(this).focus(),!(r=1);jQuery(this).removeClass("error arm_invalid"),jQuery(this).addClass("valid arm_valid"),jQuery("span.arm_invalid").hide(),r=0}),0<i&&jQuery(e).find(".arm_achivement_badge_icon").each(function(){if(""==jQuery(this).val())return jQuery(this).addClass("error arm_invalid"),jQuery("span.arm_invalid").hide(),jQuery(this).focus(),!(a=1);jQuery(this).removeClass("error arm_invalid"),jQuery(this).addClass("valid arm_valid"),jQuery("span.arm_invalid").hide(),a=0}),0<n&&jQuery(e).find(".arm_achivement_badges_tootip").each(function(){if(""==jQuery(this).val())return jQuery(this).addClass("error arm_invalid"),jQuery("span.arm_invalid").hide(),jQuery(this).focus(),!(_=1);jQuery(this).removeClass("error arm_invalid"),jQuery(this).addClass("valid arm_valid"),jQuery("span.arm_invalid").hide(),_=0}),1!=r&&1!=a&&1!=_&&(d.hasClass("arm_already_clicked")?void 0:(d.find(":input:disabled").removeAttr("disabled").attr("disabled","disabled"),d.addClass("arm_already_clicked").attr("disabled","disabled"),d.find("input[type=submit], button[type=submit]").addClass("arm_already_clicked").attr("disabled","disabled"),d.find(".arm_loader_img").show(),o=jQuery('input[name="arm_wp_nonce"]').val(),jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_save_achievements&"+s+"&_wpnonce="+o,success:function(e){var r;e=arm_convert_json_from_pattern(e),e=jQuery.parseJSON(e),jQuery(".arm_loader_img").fadeOut(),"success"==e.status?(r=""!=e.message?e.message:wentwrong,armToast(r,"success"),jQuery("#arm_edit_achievements_wrapper_frm")[0].reset(),jQuery("#arm_edit_achievements_wrapper_frm").find('input[name="b_action"]').val("update"),jQuery(".arm_edit_achievements_wrapper").bPopup().close(),setTimeout(function(){jQuery("body").css("overflow","auto")},50),jQuery("#armember_datatable").dataTable().fnDestroy(),arm_load_achievements_list_grid()):(r=""!=e.message?e.message:wentwrong,armToast(r,"error"),d.removeClass("arm_already_clicked").removeAttr("disabled","disabled"),d.find("input[type=submit], button[type=submit]").removeClass("arm_already_clicked").removeAttr("disabled","disabled"))}}),!1))):d.hasClass("arm_already_clicked")?void 0:(d.find(":input:disabled").removeAttr("disabled").attr("disabled","disabled"),d.addClass("arm_already_clicked").attr("disabled","disabled"),d.find("input[type=submit], button[type=submit]").addClass("arm_already_clicked").attr("disabled","disabled"),d.find(".arm_loader_img").show(),o=jQuery('input[name="arm_wp_nonce"]').val(),jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_save_achievements&"+s+"&_wpnonce="+o,success:function(e){var r;e=arm_convert_json_from_pattern(e),e=jQuery.parseJSON(e),jQuery(".arm_loader_img").fadeOut(),"success"==e.status?(r=""!=e.message?e.message:wentwrong,armToast(r,"success"),jQuery("#arm_edit_achievements_wrapper_frm")[0].reset(),jQuery("#arm_edit_achievements_wrapper_frm").find('input[name="b_action"]').val("update"),jQuery(".arm_edit_achievements_wrapper").bPopup().close(),setTimeout(function(){jQuery("body").css("overflow","auto"),jQuery("#armember_datatable").dataTable().fnDestroy(),arm_load_achievements_list_grid()},250)):(r=""!=e.message?e.message:wentwrong,armToast(r,"error"),d.removeClass("arm_already_clicked").removeAttr("disabled","disabled"),d.find("input[type=submit], button[type=submit]").removeClass("arm_already_clicked").removeAttr("disabled","disabled"))}}),!1)}}),jQuery(".arm_add_user_badges_wrapper_frm").validate({ignore:"",errorClass:"error arm_invalid",validClass:"valid arm_valid",errorPlacement:function(e,r){e.appendTo(r.parents(".arm_required_wrapper"))},rules:{arm_user_badge_id:"required"},submitHandler:function(e){var r=jQuery(e).serialize(),a=jQuery(e);if(!a.hasClass("arm_already_clicked"))return a.find(":input:disabled").removeAttr("disabled").attr("disabled","disabled"),a.addClass("arm_already_clicked").attr("disabled","disabled"),a.find("input[type=submit], button[type=submit]").addClass("arm_already_clicked").attr("disabled","disabled"),a.find(".arm_loader_img").show(),jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_add_user_badges&"+r,success:function(e){var r;e=arm_convert_json_from_pattern(e),e=jQuery.parseJSON(e),jQuery(".arm_loader_img").fadeOut(),"success"==e.status?(r=""!=e.message?e.message:wentwrong,armToast(r,"success"),jQuery(".add_new_user_badges_wrapper").bPopup().close(),jQuery("#armember_datatable").dataTable().fnDestroy(),arm_user_achievements()):(r=""!=e.message?e.message:wentwrong,armToast(r,"error"),a.removeClass("arm_already_clicked").removeAttr("disabled","disabled"),a.find("input[type=submit], button[type=submit]").removeClass("arm_already_clicked").removeAttr("disabled","disabled"))}}),!1}}),jQuery("#arm_add_new_drip_rule_wrapper_frm").validate({ignore:"",errorClass:"error arm_invalid",validClass:"valid arm_valid",errorPlacement:function(e,r){e.appendTo(r.parents(".arm_required_wrapper"))},rules:{"item_id[]":"required","rule_plans[]":"required","rule_options[days]":{number:!0,required:function(){return"days"==jQuery("#arm_add_drip_type").val()}},"rule_options[from_date]":{date:!0,required:function(){return"dates"==jQuery("#arm_add_drip_type").val()}}},submitHandler:function(e){var r,a=jQuery(e);if(!a.hasClass("arm_already_clicked"))return jQuery(".arm_loader_img").show(),jQuery("#arm_loader_img_add_drip_rule").show(),jQuery(e).find(":input:disabled").removeAttr("disabled").attr("disabled","disabled"),a.addClass("arm_already_clicked").attr("disabled","disabled"),a.find("input[type=submit], button[type=submit]").addClass("arm_already_clicked").attr("disabled","disabled"),e=jQuery(e).serialize(),r=jQuery('input[name="arm_wp_nonce"]').val(),jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_add_drip_rule&"+e+"&_wpnonce="+r,success:function(e){var r;e=arm_convert_json_from_pattern(e),"success"==(e=jQuery.parseJSON(e)).status?(jQuery("#arm_loader_img_add_drip_rule").hide(),r=""!=e.message?e.message:wentwrong,armToast(r,"success"),jQuery("#armember_datatable").dataTable().fnDraw(),jQuery(".arm_add_new_drip_rule_wrapper").bPopup().close(),setTimeout(function(){jQuery("body").css("overflow","auto")},50),jQuery(".arm_loader_img").hide()):(jQuery(".arm_loader_img").hide(),r=""!=e.message?e.message:wentwrong,armToast(r,"error"),a.removeClass("arm_already_clicked").removeAttr("disabled","disabled"),a.find("input[type=submit], button[type=submit]").removeClass("arm_already_clicked").removeAttr("disabled","disabled"))}}),!1}}),jQuery("#arm_edit_drip_rule_wrapper_frm").validate({ignore:"",errorClass:"error arm_invalid",validClass:"valid arm_valid",errorPlacement:function(e,r){e.appendTo(r.parents(".arm_required_wrapper"))},rules:{"rule_plans[]":"required","rule_options[days]":{number:!0,required:function(){return"days"==jQuery("#arm_edit_drip_type").val()}},"rule_options[from_date]":{date:!0,required:function(){return"dates"==jQuery("#arm_edit_drip_type").val()}}},submitHandler:function(e){var r,a=jQuery(e);return a.hasClass("arm_already_clicked")||(r=jQuery(e).serialize(),jQuery(e).find(":input:disabled").removeAttr("disabled").attr("disabled","disabled"),a.addClass("arm_already_clicked").attr("disabled","disabled"),a.find("input[type=submit], button[type=submit]").addClass("arm_already_clicked").attr("disabled","disabled"),e=jQuery('input[name="arm_wp_nonce"]').val(),jQuery(".arm_loader_img").show(),jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_update_drip_rule&"+r+"&_wpnonce="+e,success:function(e){var r;e=arm_convert_json_from_pattern(e),"success"==(e=jQuery.parseJSON(e)).status?(jQuery(".arm_loader_img").hide(),r=""!=e.message?e.message:wentwrong,armToast(r,"success"),jQuery(".arm_edit_drip_rule_wrapper").bPopup().close(),setTimeout(function(){arm_load_drip_rules_list_grid(!1),jQuery("body").css("overflow","auto")},250)):(jQuery(".arm_loader_img").hide(),r=""!=e.message?e.message:wentwrong,armToast(r,"error"),a.removeClass("arm_already_clicked").removeAttr("disabled","disabled"),a.find("input[type=submit], button[type=submit]").removeClass("arm_already_clicked").removeAttr("disabled","disabled"))}})),!1}}),jQuery(document).on("change","#arm_assign_paid_posts",function(){""!=jQuery(this).val()&&(jQuery("#arm_assign_paid_posts").attr("data-msg-required"),jQuery("#invalid_paid_posts").html(""),jQuery("#invalid_paid_posts").hide(),jQuery("#arm_assign_paid_posts_chosen").css("border-color","#CED4DE"))}),jQuery.validator.addMethod("armzeroamount",function(e,r,a){return!(e<=0)},function(e,r){r=jQuery(r).data("armzeroamount-msg");return""!=r?r:"Amount should not be zero"}),jQuery("form#arm_add_edit_paid_post_form").on("click",".arm_save_btn",function(e){jQuery(".paid_subscription_options_recurring_payment_cycle_label,.paid_subscription_options_recurring_payment_cycle_amount").each(function(){jQuery(this).rules("add",{required:!0})}),jQuery(".paid_subscription_options_recurring_payment_cycle_amount").each(function(){jQuery(this).rules("add",{number:!0})}),jQuery(".arm_paid_post_items_input").rules("add",{required:!0}),0<jQuery(".arm_paid_post_plan_amount_multi_currency").length&&jQuery(".arm_paid_post_plan_amount_multi_currency").each(function(){jQuery(this).rules("add",{number:!0,required:function(){return!0}})})}),jQuery("#arm_add_edit_paid_post_form").validate({errorClass:"error arm_invalid",validClass:"valid arm_valid",errorPlacement:function(e,r){e.appendTo(r.parent())},focusInvalid:!1,invalidHandler:function(e,r){r.numberOfInvalids()&&jQuery("#arm_add_edit_paid_post_form").animate({scrollTop:jQuery(r.errorList[0].element).offset().top-150},0)},rules:{arm_paid_post_items_input:"required",plan_name:"required",arm_paid_post_plan:{number:!0,required:function(){return!0}}},submitHandler:function(e){var r,a=jQuery(e);a.hasClass("arm_already_clicked")||(a.find("input[type=submit], button[type=submit]").addClass("arm_already_clicked").attr("disabled","disabled"),e=jQuery("#arm_add_edit_paid_post_form").serialize(),e=wp.hooks.applyFilters("arm_ajax_custom_fields",e),r=jQuery('input[name="arm_wp_nonce"]').val(),jQuery.ajax({type:"POST",url:ajaxurl,data:"action=arm_admin_save_paid_post_detail&"+e+"&_wpnonce="+r,success:function(e){e=arm_convert_json_from_pattern(e),e=jQuery.parseJSON(e),a.find("#arm_loader_img_add_member_loader").hide(),"success"==e.type?(jQuery("#armember_datatable").dataTable().fnDestroy(),arm_load_paid_post_list_grid(),armToast(e.message,"success",1e3,!1),a.find("input[type=submit], button[type=submit]").removeClass("arm_already_clicked").removeAttr("disabled"),jQuery("#arm_add_edit_paid_post_form")[0].reset(),jQuery('input[name="arm_action"]').val("arm_add_update_paid_post_plan"),jQuery(".arm_paid_posts_add_edit_main_wrapper").bPopup({transition:"slideDown",speed:250}).close(),setTimeout(function(){jQuery("body").css("overflow","auto")},250),jQuery("tr.arm_paid_post_form_section").html(e.form_data_html)):armToast(e.msg,"error",1e3,!1)}}))}}),jQuery.validator.addMethod("armgreaterthan",function(e,r,a){return/Invalid|NaN/.test(new Date(e))?isNaN(e)&&isNaN(_(a).val())||Number(e)>Number(_(a).val()):new Date(e)>=new Date(_(a).val())},function(e,r){r=jQuery(r).data("armgreaterthan-msg");return""!=r?r:"Date can not be earlier than {0}"}),jQuery(".arm_add_edit_coupon_wrapper_frm").validate({errorClass:"error arm_invalid",validClass:"valid arm_valid",errorPlacement:function(e,r){e.appendTo(r.parent())},focusInvalid:!1,invalidHandler:function(e,r){r.numberOfInvalids()&&jQuery(".arm_add_edit_coupon_wrapper_frm").animate({scrollTop:jQuery(r.errorList[0].element).offset().top-150},0)},rules:{arm_coupon_code:"required",arm_coupon_start_date:{date:!0,required:function(){return"daterange"==jQuery("#arm_period_types_container input[type=radio]:checked").val()}},arm_coupon_expire_date:{date:!0,armgreaterthan:"#arm_coupon_start_date",required:function(){return"daterange"==jQuery("#arm_period_types_container input[type=radio]:checked").val()}}},submitHandler:function(e){var r=jQuery(e);if(!r.hasClass("arm_already_clicked")){var a,_,e=0,t=jQuery("#form_type").val(),i=new Date;if(i.setHours(0,0,0,0),_="daterange"==jQuery("#arm_period_types_container input[type=radio]:checked").val()?(a=jQuery("#arm_coupon_start_date").val().split("/"),_=jQuery("#arm_coupon_expire_date").val().split("/"),a=new Date(a[2],a[0]-1,a[1]),new Date(_[2],_[0]-1,_[1])):a=i,a<i&&"edit"!=t?(alert(pastStartDateError),jQuery("#arm_coupon_start_date").addClass("error"),e=1):jQuery("#arm_coupon_start_date").removeClass("error"),_<i?(alert(pastExpireDateError),jQuery("#arm_coupon_expire_date").addClass("error"),e=1):jQuery("#arm_coupon_expire_date").removeClass("error"),_<a?(alert(couponExpireDateError),jQuery("#arm_coupon_expire_date").addClass("error"),jQuery("#arm_coupon_start_date").addClass("error"),e=1):(jQuery("#arm_coupon_start_date").removeClass("error"),jQuery("#arm_coupon_expire_date").removeClass("error")),1==e)return!1;jQuery("#arm_loader_img_bulk_coupon_field").length&&jQuery("#arm_loader_img_bulk_coupon_field").show(),r.find("input[type=submit], button[type=submit]").addClass("arm_already_clicked").attr("disabled","disabled");t=jQuery(".arm_add_edit_coupon_wrapper_frm").serialize(),i=jQuery('input[name="arm_wp_nonce"]').val();jQuery("#arm_loader_img_bulk_coupon_field").show(),jQuery.ajax({type:"POST",url:ajaxurl,data:"action=arm_admin_save_coupon_details&"+t+"&_wpnonce="+i,success:function(e){e=arm_convert_json_from_pattern(e),"success"==(e=jQuery.parseJSON(e)).type?(armToast(e.msg,"success",1e3,!1),r.find("input[type=submit], button[type=submit]").removeClass("arm_already_clicked").removeAttr("disabled"),jQuery(".arm_add_edit_coupon_wrapper_frm")[0].reset(),jQuery(".arm_coupon_code_input_field").removeClass("arm_edit_coupon_code_input_field"),jQuery(".arm_coupon_code_input_field").removeAttr("disabled"),jQuery(".coupon_period_options").removeClass("hidden_section"),jQuery(".coupon_period_options").removeAttr("style"),jQuery("#arm_generate_coupon_code").removeAttr("style"),jQuery(".arm_add_edit_coupon_wrapper_frm .error.arm_invalid").each(function(){jQuery("span.error.arm_invalid").html(""),jQuery(this).removeClass("error"),jQuery(this).removeClass("arm_invalid")}),jQuery('input[name="op_type"]').val("add"),jQuery('input[name="arm_coupon_allow_trial"]').prop("checked",!1),jQuery('input[name="arm_coupon_on_each_subscriptions"]').prop("checked",!1),jQuery("#arm_add_edit_coupon_operation").removeAttr("disabled"),jQuery("#arm_add_edit_coupon_operation").removeClass("arm_already_clicked"),jQuery(".arm_add_edit_coupon_main_wrapper").bPopup().close(),setTimeout(function(){jQuery("#armember_datatable").dataTable().fnDestroy(),arm_loadCouponData(),jQuery("body").css("overflow","auto")},250)):(armToast(e.msg,"error",1e3,!1),jQuery(".arm_add_edit_coupon_wrapper_frm")[0].reset(),jQuery(".arm_coupon_code_input_field").removeClass("arm_edit_coupon_code_input_field"),jQuery(".arm_coupon_code_input_field").removeAttr("disabled"),jQuery(".coupon_period_options").removeClass("hidden_section"),jQuery(".coupon_period_options").removeAttr("style"),jQuery("#arm_generate_coupon_code").removeAttr("style"),jQuery(".arm_add_edit_coupon_wrapper_frm .error.arm_invalid").each(function(){jQuery("span.error.arm_invalid").html(""),jQuery(this).removeClass("error"),jQuery(this).removeClass("arm_invalid")}),jQuery('input[name="op_type"]').val("add"),jQuery("#arm_add_edit_coupon_operation").removeAttr("disabled"),jQuery("#arm_add_edit_coupon_operation").removeClass("arm_already_clicked"),jQuery('input[name="arm_coupon_allow_trial"]').prop("checked",!1),jQuery('input[name="arm_coupon_on_each_subscriptions"]').prop("checked",!1),jQuery(".arm_add_edit_coupon_main_wrapper").bPopup({transition:"slideDown"}).close(),setTimeout(function(){jQuery("body").css("overflow","auto")},50)),setTimeout(function(){jQuery("#arm_loader_img_bulk_coupon_field").hide()},50)}})}}}),jQuery(".arm_add_edit_bulk_coupon_wrapper_frm").validate({errorClass:"error arm_invalid",validClass:"valid arm_valid",errorPlacement:function(e,r){e.appendTo(r.parent())},focusInvalid:!1,invalidHandler:function(e,r){r.numberOfInvalids()&&jQuery(".arm_add_edit_bulk_coupon_wrapper_frm").animate({scrollTop:jQuery(r.errorList[0].element).offset().top-150},0)},rules:{arm_coupon_code:"required",arm_blk_coupon_start_date:{date:!0,required:function(){return"daterange"==jQuery("#arm_period_types_container input[type=radio]:checked").val()}},arm_blk_coupon_expire_date:{date:!0,armgreaterthan:"#arm_coupon_start_date",required:function(){return"daterange"==jQuery("#arm_period_types_container input[type=radio]:checked").val()}}},submitHandler:function(e){var r=jQuery(e);if(!r.hasClass("arm_already_clicked")){var a,_,e=0,t=jQuery("#form_type").val(),i=new Date;if(i.setHours(0,0,0,0),_="daterange"==jQuery("#arm_period_types_container input[type=radio]:checked").val()?(a=jQuery("#arm_coupon_start_date").val().split("/"),_=jQuery("#arm_coupon_expire_date").val().split("/"),a=new Date(a[2],a[0]-1,a[1]),new Date(_[2],_[0]-1,_[1])):a=i,a<i&&"edit"!=t?(alert(pastStartDateError),jQuery("#arm_blk_coupon_start_date").addClass("error"),e=1):jQuery("#arm_blk_coupon_start_date").removeClass("error"),_<i?(alert(pastExpireDateError),jQuery("#arm_blk_coupon_expire_date").addClass("error"),e=1):jQuery("#arm_blk_coupon_expire_date").removeClass("error"),_<a?(alert(couponExpireDateError),jQuery("#arm_blk_coupon_expire_date").addClass("error"),jQuery("#arm_blk_coupon_start_date").addClass("error"),e=1):(jQuery("#arm_blk_coupon_start_date").removeClass("error"),jQuery("#arm_blk_coupon_expire_date").removeClass("error")),1==e)return!1;jQuery("#arm_loader_img_bulk_coupon_field").length&&jQuery("#arm_loader_img_bulk_coupon_field").show(),r.find("input[type=submit], button[type=submit]").addClass("arm_already_clicked").attr("disabled","disabled");t=jQuery(".arm_add_edit_bulk_coupon_wrapper_frm").serialize(),i=jQuery('input[name="arm_wp_nonce"]').val();jQuery.ajax({type:"POST",url:ajaxurl,data:"action=arm_admin_save_coupon_details&"+t+"&_wpnonce="+i,success:function(e){e=arm_convert_json_from_pattern(e),"success"==(e=jQuery.parseJSON(e)).type?(jQuery(".arm_bulk_coupon_form_fields_popup_div").bPopup({transition:"slideDown"}).close(),armToast(e.msg,"success",1e3,!1),jQuery("#armember_datatable").dataTable().fnDestroy(),arm_loadCouponData(),r.find("input[type=submit], button[type=submit]").removeClass("arm_already_clicked").removeAttr("disabled"),jQuery(".arm_add_edit_bulk_coupon_wrapper_frm")[0].reset(),jQuery('input[name="op_type"]').val("add")):(jQuery(".arm_bulk_coupon_form_fields_popup_div").bPopup().close(),armToast(e.msg,"error",1e3,!1)),setTimeout(function(){jQuery("body").css("overflow","auto")},50)}})}}}),jQuery("#arm_payment_geteway_form").validate({ignore:"",errorClass:"error arm_invalid",validClass:"valid arm_valid",errorPlacement:function(e,r){"bank_transfer_mode_option"==r[0].id?e.appendTo(r.parents(".arm_transfer_mode_main_container")):e.appendTo(r.parent())},focusInvalid:!1,invalidHandler:function(e,r){r.numberOfInvalids()&&("hidden"==r.errorList[0].element.type?(jQuery(r.errorList[0].element).before("<div id='divTemp'></div>"),jQuery("html, body").animate({scrollTop:jQuery("#divTemp").offset().top-150},0),jQuery("#divTemp").remove()):jQuery("html, body").animate({scrollTop:jQuery(r.errorList[0].element).offset().top-150},0))},rules:{"payment_gateway_settings[paypal][paypal_merchant_email]":{required:function(){return jQuery("#arm_paypal_status").is(":checked")}},"payment_gateway_settings[paypal][sandbox_api_username]":{required:function(){return jQuery("#arm_paypal_status").is(":checked")&&"sandbox"==jQuery("#arm_paypal_mode_container input[type=radio]:checked").val()}},"payment_gateway_settings[paypal][sandbox_api_password]":{required:function(){return jQuery("#arm_paypal_status").is(":checked")&&"sandbox"==jQuery("#arm_paypal_mode_container input[type=radio]:checked").val()}},"payment_gateway_settings[paypal][sandbox_api_signature]":{required:function(){return jQuery("#arm_paypal_status").is(":checked")&&"sandbox"==jQuery("#arm_paypal_mode_container input[type=radio]:checked").val()}},"payment_gateway_settings[paypal][live_api_username]":{required:function(){return jQuery("#arm_paypal_status").is(":checked")&&"live"==jQuery("#arm_paypal_mode_container input[type=radio]:checked").val()}},"payment_gateway_settings[paypal][live_api_password]":{required:function(){return jQuery("#arm_paypal_status").is(":checked")&&"live"==jQuery("#arm_paypal_mode_container input[type=radio]:checked").val()}},"payment_gateway_settings[paypal][live_api_signature]":{required:function(){return jQuery("#arm_paypal_status").is(":checked")&&"live"==jQuery("#arm_paypal_mode_container input[type=radio]:checked").val()}},"payment_gateway_settings[stripe][stripe_secret_key]":{required:function(){return jQuery("#arm_stripe_status").is(":checked")&&"live"==jQuery("#arm_stripe_mode_container input[type=radio]:checked").val()}},"payment_gateway_settings[stripe][stripe_pub_key]":{required:function(){return jQuery("#arm_stripe_status").is(":checked")&&"live"==jQuery("#arm_stripe_mode_container input[type=radio]:checked").val()}},"payment_gateway_settings[stripe][stripe_test_secret_key]":{required:function(){return jQuery("#arm_stripe_status").is(":checked")&&"test"==jQuery("#arm_stripe_mode_container input[type=radio]:checked").val()}},"payment_gateway_settings[stripe][stripe_test_pub_key]":{required:function(){return jQuery("#arm_stripe_status").is(":checked")&&"test"==jQuery("#arm_stripe_mode_container input[type=radio]:checked").val()}},"payment_gateway_settings[stripe][stripe_webhook_verified]":{required:function(){return jQuery("#arm_stripe_status").is(":checked")}},"payment_gateway_settings[stripe][stripe_popup_title]":{required:function(){return jQuery("#arm_stripe_status").is(":checked")&&"popup"==jQuery("#arm_stripe_payment_method_container input[type=radio]:checked").val()}},"payment_gateway_settings[stripe][stripe_popup_button_lbl]":{required:function(){return jQuery("#arm_stripe_status").is(":checked")&&"popup"==jQuery("#arm_stripe_payment_method_container input[type=radio]:checked").val()}},"payment_gateway_settings[authorize_net][autho_api_login_id]":{required:function(){return jQuery("#arm_authorize_net_status").is(":checked")}},"payment_gateway_settings[authorize_net][autho_transaction_key]":{required:function(){return jQuery("#arm_authorize_net_status").is(":checked")}},"payment_gateway_settings[2checkout][username]":{required:function(){return jQuery("#arm_2checkout_status").is(":checked")}},"payment_gateway_settings[2checkout][password]":{required:function(){return jQuery("#arm_2checkout_status").is(":checked")}},"payment_gateway_settings[2checkout][sellerid]":{required:function(){return jQuery("#arm_2checkout_status").is(":checked")}},"payment_gateway_settings[2checkout][private_key]":{required:function(){return jQuery("#arm_2checkout_status").is(":checked")}},"payment_gateway_settings[2checkout][publishable_key]":{required:function(){return jQuery("#arm_2checkout_status").is(":checked")}},"payment_gateway_settings[2checkout][secret_word]":{required:function(){return jQuery("#arm_2checkout_status").is(":checked")}},"payment_gateway_settings[bank_transfer][transaction_id_label]":{required:function(){return jQuery("#arm_bank_transfer_status").is(":checked")&&jQuery("#bank_transfer_transaction_id").is(":checked")}},"payment_gateway_settings[bank_transfer][bank_name_label]":{required:function(){return jQuery("#arm_bank_transfer_status").is(":checked")&&jQuery("#bank_transfer_bank_name").is(":checked")}},"payment_gateway_settings[bank_transfer][account_name_label]":{required:function(){return jQuery("#arm_bank_transfer_status").is(":checked")&&jQuery("#bank_transfer_account_name").is(":checked")}},"payment_gateway_settings[bank_transfer][additional_info_label]":{required:function(){return jQuery("#arm_bank_transfer_status").is(":checked")&&jQuery("#bank_transfer_additional_info").is(":checked")}},"payment_gateway_settings[bank_transfer][fields][transfer_mode_option][]":{required:function(){return jQuery("#arm_bank_transfer_status").is(":checked")&&jQuery("#bank_transfer_mode").is(":checked")}}},submitHandler:function(e){jQuery("#arm_loader_img").show(),"undefined"!=typeof tinyMCE&&jQuery.isFunction(tinyMCE.triggerSave)&&tinyMCE.triggerSave();var r,a=jQuery(e);return a.hasClass("arm_already_clicked")||(r=jQuery(e).find(":input:disabled").removeAttr("disabled"),e=jQuery(e).serialize(),datastr="action=arm_update_pay_gate_settings&"+e,languages_settings="",0<jQuery(".arm_general_settings_multi_languages_tab").length&&(languages_settings=jQuery(".arm_common_setting_multi_language_wrapper input,.arm_common_setting_multi_language_wrapper textarea").serialize(),datastr+="&"+languages_settings),r.attr("disabled","disabled"),a.addClass("arm_already_clicked").attr("disabled","disabled"),a.find("input[type=submit], button[type=submit]").addClass("arm_already_clicked").attr("disabled","disabled"),jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:datastr,success:function(e){e=arm_convert_json_from_pattern(e),"success"==(e=jQuery.parseJSON(e)).message?armToast(saveSettingsSuccess,"success"):armToast(e.message,"error"),setTimeout(function(){jQuery("#arm_loader_img").hide()},1e3)}})),!1}}),_("#arm_facebook_status").on("change",function(){_(this).is(":checked")?_(".arm_facebook_fields_wrapper").slideDown():_(".arm_facebook_fields_wrapper").slideUp()}),_("#arm_twitter_status").on("change",function(){_(this).is(":checked")?_(".arm_twitter_fields_wrapper").slideDown():_(".arm_twitter_fields_wrapper").slideUp()}),_("#arm_linkedin_status").on("change",function(){_(this).is(":checked")?_(".arm_linkedin_fields_wrapper").slideDown():_(".arm_linkedin_fields_wrapper").slideUp()}),_("#arm_google_status").on("change",function(){_(this).is(":checked")?_(".arm_google_fields_wrapper").slideDown():_(".arm_google_fields_wrapper").slideUp()}),_("#arm_vk_status").on("change",function(){_(this).is(":checked")?_(".arm_vk_fields_wrapper").slideDown():_(".arm_vk_fields_wrapper").slideUp()}),_("#arm_insta_status").on("change",function(){_(this).is(":checked")?_(".arm_insta_fields_wrapper").slideDown():_(".arm_insta_fields_wrapper").slideUp()}),_("#arm_tumblr_status").on("change",function(){_(this).is(":checked")?_(".arm_tumblr_fields_wrapper").slideDown():_(".arm_tumblr_fields_wrapper").slideUp()}),jQuery("#arm_social_settings_form").validate({ignore:"",errorClass:"error arm_invalid",validClass:"valid arm_valid",errorPlacement:function(e,r){e.appendTo(r.parent())},focusInvalid:!0,invalidHandler:function(e,r){r.numberOfInvalids()&&("hidden"==r.errorList[0].element.type?(jQuery(r.errorList[0].element).before("<div id='divTemp'>test</div>"),jQuery("html, body").animate({scrollTop:jQuery("#divTemp").offset().top-150},0),jQuery("#divTemp").remove()):jQuery("html, body").animate({scrollTop:jQuery(r.errorList[0].element).offset().top-150},0))},rules:{"arm_social_settings[registration][form_page]":{required:function(){return!jQuery("#arm_one_click_social_signup").is(":checked")&&jQuery("#arm_facebook_status, #arm_twitter_status, #arm_linkedin_status, #arm_vk_status,#arm_tumblr_status").is(":checked")}},"arm_social_settings[registration][form]":{required:function(){return!jQuery("#arm_one_click_social_signup").is(":checked")&&jQuery("#arm_facebook_status, #arm_twitter_status, #arm_linkedin_status, #arm_vk_status,#arm_tumblr_status").is(":checked")}},"arm_social_settings[options][redirect_page_id]":{required:function(){return!!jQuery("#arm_one_click_social_signup").is(":checked")&&jQuery("#arm_facebook_status, #arm_twitter_status, #arm_linkedin_status, #arm_vk_status,#arm_tumblr_status").is(":checked")}},"arm_social_settings[options][facebook][custom_icon]":{required:function(){return jQuery("#arm_facebook_status").is(":checked")&&"custom"==jQuery(".arm_social_login_fb_icons input[type=radio]:checked").val()}},"arm_social_settings[options][facebook][app_id]":{required:function(){return jQuery("#arm_facebook_status").is(":checked")}},"arm_social_settings[options][facebook][app_secret]":{required:function(){return jQuery("#arm_facebook_status").is(":checked")}},"arm_social_settings[options][twitter][custom_icon]":{required:function(){return jQuery("#arm_twitter_status").is(":checked")&&"custom"==jQuery(".arm_social_login_tw_icons input[type=radio]:checked").val()}},"arm_social_settings[options][twitter][customer_key]":{required:function(){return jQuery("#arm_twitter_status").is(":checked")}},"arm_social_settings[options][twitter][customer_secret]":{required:function(){return jQuery("#arm_twitter_status").is(":checked")}},"arm_social_settings[options][linkedin][custom_icon]":{required:function(){return jQuery("#arm_linkedin_status").is(":checked")&&"custom"==jQuery(".arm_social_login_li_icons input[type=radio]:checked").val()}},"arm_social_settings[options][linkedin][client_id]":{required:function(){return jQuery("#arm_linkedin_status").is(":checked")}},"arm_social_settings[options][linkedin][client_secret]":{required:function(){return jQuery("#arm_linkedin_status").is(":checked")}},"arm_social_settings[options][google][client_id]":{required:function(){return jQuery("#arm_google_status").is(":checked")}},"arm_social_settings[options][google][client_secret]":{required:function(){return jQuery("#arm_google_status").is(":checked")}},"arm_social_settings[options][vk][custom_icon]":{required:function(){return jQuery("#arm_vk_status").is(":checked")&&"custom"==jQuery(".arm_social_login_vk_icons input[type=radio]:checked").val()}},"arm_social_settings[options][vk][app_id]":{required:function(){return jQuery("#arm_vk_status").is(":checked")}},"arm_social_settings[options][vk][app_secret]":{required:function(){return jQuery("#arm_vk_status").is(":checked")}},"arm_social_settings[options][insta][client_id]":{required:function(){return jQuery("#arm_insta_status").is(":checked")}},"arm_social_settings[options][insta][client_secret]":{required:function(){return jQuery("#arm_insta_status").is(":checked")}},"arm_social_settings[options][tumblr][custom_icon]":{required:function(){return jQuery("#arm_tumblr_status").is(":checked")&&"custom"==jQuery(".arm_social_login_tu_icons input[type=radio]:checked").val()}},"arm_social_settings[options][tumblr][consumer_key]":{required:function(){return jQuery("#arm_tumblr_status").is(":checked")}},"arm_social_settings[options][tumblr][consumer_secret]":{required:function(){return jQuery("#arm_tumblr_status").is(":checked")}}},submitHandler:function(e){var r,a=jQuery(e).find(":input:disabled").removeAttr("disabled"),_=0;return jQuery("#arm_facebook_status").is(":checked")&&"custom"==jQuery(".arm_social_login_fb_icons input[type=radio]:checked").val()&&1!=arm_file_validation("arm_social_login_fb_custom_icon")&&""!=jQuery("#arm_social_login_fb_custom_icon").val()&&(_=1,jQuery("#arm_social_login_fb_custom_icon").focus()),jQuery("#arm_twitter_status").is(":checked")&&"custom"==jQuery(".arm_social_login_tw_icons input[type=radio]:checked").val()&&1!=arm_file_validation("arm_social_login_tw_custom_icon")&&""!=jQuery("#arm_social_login_tw_custom_icon").val()&&(_=1,jQuery("#arm_social_login_tw_custom_icon").focus()),jQuery("#arm_linkedin_status").is(":checked")&&"custom"==jQuery(".arm_social_login_li_icons input[type=radio]:checked").val()&&1!=arm_file_validation("arm_social_login_li_custom_icon")&&""!=jQuery("#arm_social_login_li_custom_icon").val()&&(_=1,jQuery("#arm_social_login_li_custom_icon").focus()),jQuery("#arm_vk_status").is(":checked")&&"custom"==jQuery(".arm_social_login_vk_icons input[type=radio]:checked").val()&&1!=arm_file_validation("arm_social_login_vk_custom_icon")&&""!=jQuery("#arm_social_login_vk_custom_icon").val()&&(_=1,jQuery("#arm_social_login_vk_custom_icon").focus()),jQuery("#arm_tumblr_status").is(":checked")&&"custom"==jQuery(".arm_social_login_tu_icons input[type=radio]:checked").val()&&1!=arm_file_validation("arm_social_login_tu_custom_icon")&&""!=jQuery("#arm_social_login_tu_custom_icon").val()&&(_=1,jQuery("#arm_social_login_tu_custom_icon").focus()),0<_||(jQuery("#arm_loader_img").show(),"undefined"!=typeof tinyMCE&&jQuery.isFunction(tinyMCE.triggerSave)&&tinyMCE.triggerSave(),(_=jQuery(e)).hasClass("arm_already_clicked")||(a=jQuery(e).find(":input:disabled").removeAttr("disabled"),r=jQuery(e).serialize(),e=jQuery(e).find('input[name="arm_wp_nonce"]').val(),a.attr("disabled","disabled"),_.addClass("arm_already_clicked").attr("disabled","disabled"),_.find("input[type=submit], button[type=submit]").addClass("arm_already_clicked").attr("disabled","disabled"),jQuery.ajax({url:__ARMAJAXURL,type:"POST",data:"action=arm_update_social_settings&"+r+"&_wpnonce="+e,success:function(e){var r;e=arm_convert_json_from_pattern(e),"success"==(e=jQuery.parseJSON(e)).type?(r=""!=e.msg?e.msg:saveSettingsSuccess,armToast(r,"success")):(r=""!=e.msg?e.msg:saveSettingsError,armToast(r,"error")),jQuery("#arm_loader_img").hide()}}))),!1}}),jQuery("#arm_save_social_network_wrapper_frm").validate({ignore:"",errorClass:"error arm_invalid",validClass:"valid arm_valid",errorPlacement:function(e,r){e.appendTo(r.parent())},focusInvalid:!1,invalidHandler:function(e,r){r.numberOfInvalids()&&("hidden"==r.errorList[0].element.type?(jQuery(r.errorList[0].element).parent(".armFileUploadWrapper").find(".armFileUploadContainer").before("<div id='divTemp'>test</div>"),jQuery("html, body").animate({scrollTop:jQuery("#divTemp").offset().top-150},0),jQuery("#divTemp").remove()):jQuery("html, body").animate({scrollTop:jQuery(r.errorList[0].element).offset().top-150},0))},rules:{"arm_social_settings[options][facebook][app_id]":{required:function(){return jQuery("#arm_sn_fb_status").is(":checked")}},"arm_social_settings[options][facebook][app_secret]":{required:function(){return jQuery("#arm_sn_fb_status").is(":checked")}},"arm_social_settings[options][twitter][customer_key]":{required:function(){return jQuery("#arm_sn_tw_status").is(":checked")}},"arm_social_settings[options][twitter][customer_secret]":{required:function(){return jQuery("#arm_sn_tw_status").is(":checked")}},"arm_social_settings[options][linkedin][client_id]":{required:function(){return jQuery("#arm_sn_li_status").is(":checked")}},"arm_social_settings[options][linkedin][client_secret]":{required:function(){return jQuery("#arm_sn_li_status").is(":checked")}},"arm_social_settings[options][vk][app_id]":{required:function(){return jQuery("#arm_sn_vk_status").is(":checked")}},"arm_social_settings[options][vk][app_secret]":{required:function(){return jQuery("#arm_sn_vk_status").is(":checked")}},"arm_social_settings[options][facebook][custom_icon]":{required:function(){return"custom"==jQuery(".arm_icon_facebook:checked").val()}},"arm_social_settings[options][twitter][custom_icon]":{required:function(){return"custom"==jQuery(".arm_icon_twitter:checked").val()}},"arm_social_settings[options][linkedin][custom_icon]":{required:function(){return"custom"==jQuery(".arm_icon_linkedin:checked").val()}},"arm_social_settings[options][vk][custom_icon]":{required:function(){return"custom"==jQuery(".arm_icon_vk:checked").val()}},"arm_social_settings[options][tumblr][custom_icon]":{required:function(){return"custom"==jQuery(".arm_icon_tumblr:checked").val()}},"arm_social_settings[options][tumblr][consumer_key]":{required:function(){return jQuery("#arm_sn_tu_status").is(":checked")}},"arm_social_settings[options][tumblr][consumer_secret]":{required:function(){return jQuery("#arm_sn_tu_status").is(":checked")}}},submitHandler:function(e){var e=jQuery(e).serialize(),r=(jQuery(".arm_loader_img_save_social_network").fadeIn("slow"),jQuery('input[name="arm_wp_nonce"]').val());return jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_update_social_network_from_form&"+e+"&_wpnonce="+r,success:function(e){var _,t;e=arm_convert_json_from_pattern(e),e=jQuery.parseJSON(e),jQuery(".arm_loader_img").fadeOut(),"success"==e.type?(_=[],t="",jQuery(".arm_sn_active_checkbox:checked").each(function(){var e=jQuery(this).attr("data-sn_type"),r=jQuery(".arm_icon_"+e).attr("data-url"),a=jQuery(".arm_icon_"+e+":checked").attr("data-url");void 0===a&&(a=r),"custom"==jQuery(".arm_icon_"+e+":checked").val()&&(a=jQuery('input[name="arm_social_settings[options]['+e+'][custom_icon]"]').val()),_.push(e),t=(t+='<div class="arm_social_link_container arm_social_link_container_'+e+'">')+'<a href="#"><img src="'+a+'" alt="'+e+'"></a></div>'}),jQuery("#arm_form_social_networks").val(_.join(",")),jQuery("#arm_form_social_networks_settings").val(e.old_settings),jQuery(".arm_social_login_btns_wrapper").html(t),jQuery(".add_save_social_network_close_btn").trigger("click")):(e=""!=e.msg?e.msg:saveSettingsError,armToast(e,"error"))}}),!1}}),jQuery("#arm_assign_gift_wrapper_form").validate({ignore:"",errorClass:"error arm_invalid",validClass:"valid arm_valid",errorPlacement:function(e,r){e.appendTo(r.parent())},rules:{arm_gift_id:{required:!0}},focusInvalid:!1,invalidHandler:function(e,r){r.numberOfInvalids()&&jQuery("html, body").animate({scrollTop:jQuery(r.errorList[0].element).offset().top-150},0)},submitHandler:function(e){var r=jQuery(this);if(!r.hasClass("arm_already_clicked"))return jQuery(".arm_add_gift_loader_img").fadeIn(),r.find(":input:disabled").removeAttr("disabled").attr("disabled","disabled"),jQuery("button[name='assigngiftSubmit']").addClass("arm_already_clicked").attr("disabled","disabled"),r=jQuery(e).serialize(),jQuery.ajax({type:"POST",url:__ARMAJAXURL,dataType:"json",data:"action=arm_assign_gift_to_user&"+r,success:function(e){jQuery(".arm_add_gift_loader_img").fadeOut(),"success"==e.status?location.href=e.redirect_to:(e=""!=e.message?e.message:wentwrong,armToast(e,"error"),jQuery("button[name='assigngiftSubmit']").removeClass("arm_already_clicked").removeAttr("disabled","disabled"))}}),!1}})),jQuery(document).on("click","#verify-purchase-code",function(){jQuery("#ajaxurl").val();var _,e=jQuery("#li_customer_name").val(),r=jQuery("#li_customer_email").val(),a=jQuery("#li_license_key").val(),t=jQuery("#li_domain_name").val();return jQuery("#license_error").html("").hide(),""==e?(jQuery("#li_customer_name").css("border-color","#ff0000"),jQuery("#li_customer_name_error").css("display","block")):(jQuery("#li_customer_name").css("border-color","#BCCBDA"),jQuery("#li_customer_name_error").css("display","none")),""==a?(jQuery("#li_license_key").css("border-color","#ff0000"),jQuery("#li_license_key_error").css("display","block")):(jQuery("#li_license_key").css("border-color","#BCCBDA"),jQuery("#li_license_key_error").css("display","none")),""==t?(jQuery("#li_domain_name").css("border-color","#ff0000"),jQuery("#li_domain_name_error").css("display","block")):(jQuery("#li_domain_name").css("border-color","#BCCBDA"),jQuery("#li_domain_name_error").css("display","none")),jQuery("#li_customer_email").css("border-color","#BCCBDA"),jQuery("#li_customer_email_error").css("display","none"),""!=e&&""!=a&&""!=t&&((_=jQuery(this)).prop("disabled",!0),jQuery("#license_loader").css("display","inline-block"),document.getElementById("armresetlicframe").src="https://arformsplugin.com/wp-content/themes/arforms/reset_license_page_armember.php?pcode="+a,jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=armactivatelicense&cust_name="+e+"&cust_email="+r+"&license_key="+a+"&domain_name="+t+"&is_receive_updates=0&_wpnonce="+jQuery('input[name="arm_wp_nonce"]').val(),success:function(e){_.prop("disabled",!1),jQuery("#license_loader").css("display","none");var r,e=e.split("||"),a=e[0],e=e[1];"VERIFIED"==a?(r=jQuery("#license_success").text(),armToast(r,"success"),jQuery("#license_error").css("display","none"),jQuery("#license_reset").css("display","none"),setTimeout(function(){window.location.reload(!0)},2e3)):("THIS PURCHASED CODE IS ALREADY USED FOR ANOTHER DOMAIN"==a.trim()&&(a="<br>This purchase code is already activated at <strong>"+e+"</strong> . Please deactivate license from your currently activated domain by clicking <strong>Remove License</strong> button. <br /> If you still have any difficulties in activation / deactivation of license, than please ",jQuery("#license_reset").css("display","")),jQuery("#license_error").html(a),jQuery("#license_error").css("display","block"),jQuery("#license_success").css("display","none")),setTimeout(function(){jQuery("#license_error").html("").css("display","none"),jQuery("#license_success").html("").css("display","none")},5e3)}})),!1}),jQuery(document).on("click","#renew-license-purchase-code",function(){jQuery("#ajaxurl").val();var e=jQuery("#li_purchase_info").val();return""!=e&&(jQuery("#renew_loader").css("display","block"),jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=armrenewlicense&purchase_info="+e,success:function(e){jQuery("#renew_loader").css("display","none");var r;"VERIFIED"==e?(r=jQuery("#renew_success").text(),armToast(r,"success"),jQuery("#renew_error").css("display","none"),setTimeout(function(){window.location.reload(!0)},2e3)):("NEED TO RENEW"==e?(jQuery("#renew_error_renew").css("display","block"),jQuery("#renew_success").css("display","none"),jQuery("#renew_error").css("display","none")):(msg=e,jQuery("#renew_error").html(msg),jQuery("#renew_error").css("display","block")),jQuery("#renew_success").css("display","none"))}})),!1}),jQuery(document).on("click","#renew-user-badge",function(){jQuery("#ajaxurl").val();var e=jQuery("#li_purchase_val").val();return""!=e&&(jQuery("#renew_user_badge_loader").css("display","inline"),jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=armrenewuserbadge&purchase_info="+e,success:function(e){jQuery("#renew_user_badge_loader").css("display","none");var r;"VERIFIED"==e?(r=jQuery("#renew_user_badge_success").text(),armToast(r,"success"),jQuery("#renew_user_badge_error").css("display","none"),setTimeout(function(){window.location.reload(!0)},2e3)):"NEED TO RENEW"==e?(jQuery("#renew_user_badge_error_renew").css("display",""),jQuery("#renew_user_badge_success").css("display","none"),jQuery("#renew_user_badge_error").css("display","none")):(msg=e,jQuery("#renew_user_badge_error").html(msg),jQuery("#renew_user_badge_error").css("display",""),jQuery("#renew_user_badge_success").css("display","none"))}})),!1}),jQuery(document).on("click",".arm_feature_deactivate_btn,.arm_feature_activate_btn:not(.arm_feature_activation_license)",function(e){var r,a,_=jQuery(this).attr("data-version"),t=jQuery(this).attr("data-arm_version"),i=jQuery(this).attr("data-type"),n=jQuery('input[name="arm_wp_nonce"]').val();t<_&&alert(ADDON_NOT_COMPATIBLE_MESSAGE),"free_addon"==i?(r=jQuery(this),t=jQuery(this).attr("data-plugin").split("/")[0],r.parent().find(".arm_addon_loader").addClass("active"),r.hide(),jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_install_plugin&slug="+t+"&_wpnonce="+n,success:function(e){r.parent().find(".arm_addon_loader").removeClass("active"),r.show(),e.success?(r.removeAttr("id"),r.removeAttr("class"),r.parents(".arm_feature_button_activate_wrapper.arm_install_btn").addClass("hidden_section"),r.parents(".arm_feature_button_activate_wrapper").find(".arm_feature_button_activate_wrapper:not(.arm_install_btn)").removeClass("hidden_section"),armToast(activeAddonSuccess,"success"),armToast(installAddonSuccess,"success")):(armToast(installAddonError,"error"),console.warn(e.data.errorMessage))}})):"paid_addon"==i?(_=jQuery(this).attr("data-href"),window.open(_,"_blank")):"activate_addon"==i?(a=(r=jQuery(this)).attr("data-file"),r.parent().find(".arm_addon_loader").addClass("active"),r.hide(),r.hasClass("arm_feature_deactivate_btn")&&0<r.parent().find(".arm_feature_configure_btn").length&&r.parent().find(".arm_feature_configure_btn").hide(),jQuery.ajax({type:"POST",url:__ARMAJAXURL,dataType:"json",data:"action=arm_active_plugin&slug="+a+"&_wpnonce="+n,success:function(e){r.parent().find(".arm_addon_loader").removeClass("active"),r.show(),r.hasClass("arm_feature_deactivate_btn")&&0<r.parent().find(".arm_feature_configure_btn").length&&r.parent().find(".arm_feature_configure_btn").show(),"success"==e.type?(r.attr("id","arm_feature_deactivate_btn"),r.parents(".arm_feature_list").addClass("active"),r.parent().addClass("hidden_section"),r.parent().parent().find(".arm_feature_button_deactivate_wrapper").removeClass("hidden_section"),armToast(activeAddonSuccess,"success")):"error"==e.type?armToast(e.msg,"error",5e3):armToast(activeAddonError,"error")}})):"deactivate_addon"==i&&(a=(r=jQuery(this)).attr("data-file"),r.parent().find(".arm_addon_loader").addClass("active"),r.hide(),r.hasClass("arm_feature_deactivate_btn")&&0<r.parent().find(".arm_feature_configure_btn").length&&r.parent().find(".arm_feature_configure_btn").hide(),jQuery.ajax({type:"POST",url:__ARMAJAXURL,dataType:"json",data:"action=arm_deactive_plugin&slug="+a+"&_wpnonce="+n,success:function(e){r.parent().find(".arm_addon_loader").removeClass("active"),r.show(),r.hasClass("arm_feature_deactivate_btn")&&0<r.parent().find(".arm_feature_configure_btn").length&&r.parent().find(".arm_feature_configure_btn").show(),"success"==e.type?(r.removeAttr("id","arm_feature_deactivate_btn"),jQuery(".arm_addon_loader_img").hide(),r.parents(".arm_feature_list").removeClass("active"),r.parent().addClass("hidden_section"),r.parent().parent().find(".arm_feature_button_activate_wrapper:not(.arm_install_btn)").removeClass("hidden_section"),armToast(deactiveAddonSuccess,"success")):armToast(e.msg,"error")}}))}),jQuery(document).on("click","#verify-purchase-code-addon",function(){jQuery("#ajaxurl").val();var e=jQuery("#li_customer_name").val(),r=jQuery("#li_customer_email").val(),a=jQuery("#li_license_key").val(),_=jQuery("#li_domain_name").val();return""==e?(jQuery("#li_customer_name").css("border-color","#ff0000"),jQuery("#li_customer_name_error").css("display","block")):(jQuery("#li_customer_name").css("border-color","#BCCBDA"),jQuery("#li_customer_name_error").css("display","none")),""==a?(jQuery("#li_license_key").css("border-color","#ff0000"),jQuery("#li_license_key_error").css("display","block")):(jQuery("#li_license_key").css("border-color","#BCCBDA"),jQuery("#li_license_key_error").css("display","none")),""==_?(jQuery("#li_domain_name").css("border-color","#ff0000"),jQuery("#li_domain_name_error").css("display","block")):(jQuery("#li_domain_name").css("border-color","#BCCBDA"),jQuery("#li_domain_name_error").css("display","none")),""!=e&&""!=a&&""!=_&&(jQuery("#license_loader").css("display","inline"),jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=armactivatelicense&cust_name="+e+"&cust_email="+r+"&license_key="+a+"&domain_name="+_+"&_wpnonce="+jQuery('input[name="arm_wp_nonce"]').val(),success:function(e){jQuery("#license_loader").css("display","none");var e=e.split("||"),r=e[0];e[1];"VERIFIED"==r?(e=jQuery("#license_success").text(),armToast(e,"success"),jQuery("#license_error").css("display","none"),jQuery("#license_reset").css("display","none"),setTimeout(function(){window.location.reload(!0)},2e3)):(jQuery("#license_error").html(r),jQuery("#license_error").css("display",""),jQuery("#license_success").css("display","none"))}})),!1}),jQuery(document).on("click","#license_reset",function(){jQuery("#armresetlicenseform").bPopup({modalClose:!1,escClose:!1})}),jQuery(document).on("click",".arfnewmodalclose",function(){jQuery("#armresetlicenseform").bPopup().close()}),jQuery(document).on("click",".arm_feature_activation_license",function(){jQuery("#arfactlicenseform").bPopup({modalClose:!1,escClose:!1})}),jQuery(document).on("click",".arfnewactmodalclose",function(){jQuery("#arfactlicenseform").bPopup().close()}),jQuery(document).on("change",".arm_drip_expiration_drip_type_immediate",function(){jQuery(this).is(":checked")?jQuery(".arm_drip_expire_after_immediate").removeClass("hidden_section"):jQuery(".arm_drip_expire_after_immediate").addClass("hidden_section")}),jQuery(document).on("change",".arm_drip_expiration_drip_type_days",function(){jQuery(this).is(":checked")?jQuery(".arm_drip_expire_after_days").removeClass("hidden_section"):jQuery(".arm_drip_expire_after_days").addClass("hidden_section")}),jQuery(document).on("change",".arm_drip_type_expire_post_publish",function(){jQuery(this).is(":checked")?jQuery(".arm_drip_expire_post_publish").removeClass("hidden_section"):jQuery(".arm_drip_expire_post_publish").addClass("hidden_section")}),jQuery(document).on("change",".arm_drip_type_expire_post_modify",function(){jQuery(this).is(":checked")?jQuery(".arm_drip_expire_post_modify").removeClass("hidden_section"):jQuery(".arm_drip_expire_post_modify").addClass("hidden_section")}),jQuery(document).on("change","#arm_edit_drip_expiration_immediate",function(){jQuery(this).is(":checked")?jQuery(".arm_edit_drip_expire_after_immediate").removeClass("hidden_section"):jQuery(".arm_edit_drip_expire_after_immediate").addClass("hidden_section")}),jQuery(document).on("change",".arm_edit_drip_expiration_drip_type_days",function(){jQuery(this).is(":checked")?jQuery(".arm_edit_drip_expire_after_days").removeClass("hidden_section"):jQuery(".arm_edit_drip_expire_after_days").addClass("hidden_section")}),jQuery(document).on("change",".arm_edit_drip_type_expire_post_publish",function(){jQuery(this).is(":checked")?jQuery(".arm_edit_drip_expire_post_publish").removeClass("hidden_section"):jQuery(".arm_edit_drip_expire_post_publish").addClass("hidden_section")}),jQuery(document).on("change",".arm_edit_drip_type_expire_post_modify",function(){jQuery(this).is(":checked")?jQuery(".arm_edit_drip_expire_post_modify").removeClass("hidden_section"):jQuery(".arm_edit_drip_expire_post_modify").addClass("hidden_section")}),jQuery(document).on("click","#arm_armember-verify-purchase-code",function(){jQuery("#ajaxurl").val();var a,_=jQuery(this).parents("form").attr("id"),e=jQuery("#"+_+" #li_customer_name").val(),r=jQuery("#"+_+" #arm_license_key").val();jQuery(this).parents("form").find("#arm_package_dactvte").val();return jQuery("#"+_+" #license_error").html("").hide(),""==e?(jQuery("#"+_+" #li_customer_name").css("border-color","#ff0000"),jQuery("#"+_+" #li_customer_name_error").css("display","block")):(jQuery("#"+_+" #li_customer_name").css("border-color","#BCCBDA"),jQuery("#"+_+" #li_customer_name_error").css("display","none")),""==r?(jQuery("#"+_+" #arm_license_key").css("border-color","#ff0000"),jQuery("#"+_+" #arm_license_key_error").css("display","block")):(jQuery("#"+_+" #arm_license_key").css("border-color","#BCCBDA"),jQuery("#"+_+" #arm_license_key_error").css("display","none")),""!=e&&""!=r&&((a=jQuery(this)).prop("disabled",!0),e=jQuery("#"+_).serialize(),e+="&_wpnonce="+jQuery('input[name="arm_wp_nonce"]').val(),jQuery("#"+_+" #license_loader").css("display","inline-block"),e+="&_wpnonce="+jQuery('input[name="arm_wp_nonce"]').val(),jQuery.ajax({type:"POST",dataType:"json",url:__ARMAJAXURL,data:"action=arm_armemberactivatelicense&"+e,success:function(e){a.prop("disabled",!1),jQuery("#"+_+" #license_loader").css("display","none");var r=e.msg;"success"==e.type?(jQuery("#"+_+" #arm_package_dactvte").val(e.arm_license_status),"1"==e.arm_license_status?setTimeout(function(){window.location.reload(!0)},2e3):(jQuery("#"+_+" #arm_license_key").val(""),jQuery("#"+_+" .arm_armember_remove_license_section").css("display","none"),jQuery("#"+_+" .arm_armember_add_license_section").css("display","inline")),armToast(r,"success"),jQuery("#"+_+" #license_error").css("display","none"),jQuery("#"+_+" #license_reset").css("display","none")):(jQuery("#"+_+" #license_error").html(r).css("display","block"),jQuery("#"+_+" #license_success").css("display","none")),setTimeout(function(){jQuery("#"+_+" #license_error").html("").css("display","none"),jQuery("#"+_+" #license_success").html("").css("display","none")},5e3)},error:function(e){jQuery("html").html(e)}})),!1}),jQuery(document).on("click","#arm_armember-remove-verify-purchase-code",function(){var e=jQuery(this).parents("form").attr("id");jQuery("#arm_armember_remove_license_flag").val(e),jQuery("#arm_armember_remove_license_form_message").bPopup({closeClass:"popup_close_btn",onClose:function(){jQuery("#arm_armember_remove_license_flag").val("")}})});var n=!1,o=null;_("#arm_message_type").on("change",function(){var e,r;n||(e=_(this).val(),r=jQuery("#arm_add_message_wrapper_frm"),i(e),"arm_com_add_profile_review"==e?r.find(".arm_profile_receive_new_review_rating_tag,.arm_profile_receive_new_review_title_tag,.arm_profile_receive_new_review_desc_tag").show():r.find(".arm_profile_receive_new_review_rating_tag,.arm_profile_receive_new_review_title_tag,.arm_profile_receive_new_review_desc_tag").hide())});const s=_("#arm_confirm_box_reset_template_confirm_box_pro");_("#arm_email_template_reset_default");_(document).on("click","#arm_email_template_reset_default",function(){s.hasClass("armopen")?s.removeClass("armopen"):s.addClass("armopen").fadeToggle()}),_(document).on("click","#arm_confirmbox_confirm_reset_pro",function(){var r=_("#arm_message_type").val();if(r){if(!r)return armToast("Message type is missing.","error"),void _(".arm_loading").fadeIn("slow");_(".arm_loading").fadeIn("slow"),t(function(){var e=o&&o[r];_(".arm_loading").fadeOut("slow"),e?(a(e),_(".arm_loading").fadeOut("slow",function(){armToast("Template reset to default.","success")})):armToast("Default content not available.","error"),s.removeClass("armopen").toggle("slide")})}});var e=_("#arm_message_type").val()||"on_new_subscription";_("#arm_message_type").val(e),i(e),jQuery(document).on("click","#remove-license-purchase-code",function(){jQuery("#remove-license-purchase-code").prop("disabled",!0);var e=jQuery(this).parents("form").attr("id");jQuery("#arm_armember_remove_license_flag").val(e),jQuery("#arm_armember_remove_license_form_message").bPopup({closeClass:"popup_close_btn",onClose:function(){jQuery("#arm_armember_remove_license_flag").val(""),jQuery("#remove-license-purchase-code").prop("disabled",!1)}})})}),jQuery(document).on("click","#arm_send_test_mail.pro",function(){var e,r,a,_,t,i,n,o,s,d,m,l=0,u=jQuery("#arm_test_email_to").val(),c=jQuery("#arm_test_email_msg").val();if(""==u?(jQuery("#arm_test_email_to").css("border-color","#ff0000"),jQuery("#arm_test_email_to_error").show(),l++):(jQuery("#arm_test_email_to").css("border-color",""),jQuery("#arm_test_email_to_error").hide()),""==c?(jQuery("#arm_test_email_msg").css("border-color","#ff0000"),jQuery("#arm_test_email_msg_error").show(),l++):(jQuery("#arm_test_email_msg").css("border-color",""),jQuery("#arm_test_email_msg_error").hide()),jQuery("#arm_email_server_smtps").is(":checked")&&(e=jQuery("#arm_mail_authentication:checked").val(),i=jQuery("#arm_mail_server").val(),r=jQuery("#arm_port").val(),a=jQuery("#arm_login_name").val(),_=jQuery("#arm_password").val(),t=jQuery("input[name=arm_smtp_enc]:checked").val(),p=jQuery("#arm_email_from_name").val(),y=jQuery("#arm_email_from_email").val(),d=jQuery('input[name="arm_wp_nonce"]').val(),""==p?(jQuery("#arm_email_from_name").css("border-color","#ff0000"),jQuery("#email_from_name_error").show(),l++):(jQuery("#arm_email_from_name").css("border-color",""),jQuery("#email_from_name_error").hide()),""==y?(jQuery("#arm_email_from_email").css("border-color","#ff0000"),jQuery("#email_from_email_error").show(),l++):(jQuery("#arm_email_from_email").css("border-color",""),jQuery("#email_from_email_error").hide()),""==i?(jQuery("#arm_mail_server").css("border-color","#ff0000"),jQuery("#arm_mail_server_error").show(),l++):(jQuery("#arm_mail_server").css("border-color",""),jQuery("#arm_mail_server_error").hide()),""==r?(jQuery("#arm_port").css("border-color","#ff0000"),jQuery("#arm_mail_port_error").show(),l++):(jQuery("#arm_port").css("border-color",""),jQuery("#arm_mail_port_error").hide()),""==a&&1==e?(jQuery("#arm_login_name").css("border-color","#ff0000"),jQuery("#arm_mail_login_name_error").show(),l++):(jQuery("#arm_login_name").css("border-color",""),jQuery("#arm_mail_login_name_error").hide()),""==_&&1==e?(jQuery("#arm_password").css("border-color","#ff0000"),jQuery("#arm_mail_password_error").show(),l++):(jQuery("#arm_password").css("border-color",""),jQuery("#arm_mail_password_error").hide()),""==i?(m=jQuery("#arm_mail_server").offset().top-40,jQuery("html, body").animate({scrollTop:m},0)):""==r?(m=jQuery("#arm_port").offset().top-40,jQuery("html, body").animate({scrollTop:m},0)):""==a&&1==e?(m=jQuery("#arm_login_name").offset().top-40,jQuery("html, body").animate({scrollTop:m},0)):""==_&&1==e?(m=jQuery("#arm_password").offset().top-40,jQuery("html, body").animate({scrollTop:m},0)):""==u?(m=jQuery("#arm_test_email_to").offset().top-40,jQuery("html, body").animate({scrollTop:m},0)):""==c&&(m=jQuery("#arm_test_email_msg").offset().top-40,jQuery("html, body").animate({scrollTop:m},0))),jQuery("#arm_email_server_gm").is(":checked")&&(i="gmail",n=jQuery("#arm_google_client_id").val(),o=jQuery("#arm_google_client_secret").val(),f=jQuery("#arm_google_auth_url").val(),s=jQuery("#arm_google_auth_token").val(),u=jQuery("#arm_test_email_to").val(),c=jQuery("#arm_test_email_msg").val(),p=jQuery("#arm_email_from_name").val(),y=jQuery("#arm_email_from_email").val(),d=jQuery('input[name="arm_wp_nonce"]').val(),""==p?(jQuery("#arm_email_from_name").css("border-color","#ff0000"),jQuery("#email_from_name_error").show(),l++):(jQuery("#arm_email_from_name").css("border-color",""),jQuery("#email_from_name_error").hide()),""==y?(jQuery("#arm_email_from_email").css("border-color","#ff0000"),jQuery("#email_from_email_error").show(),l++):(jQuery("#arm_email_from_email").css("border-color",""),jQuery("#email_from_email_error").hide()),""==n?(jQuery("#arm_google_client_id").css("border-color","#ff0000"),jQuery("#arm_google_client_id_error").show(),l++):(jQuery("#arm_google_client_id").css("border-color",""),jQuery("#arm_google_client_id_error").hide()),""==o?(jQuery("#arm_google_client_secret").css("border-color","#ff0000"),jQuery("#arm_google_client_secret_error").show(),l++):(jQuery("#arm_google_client_secret").css("border-color",""),jQuery("#arm_google_client_secret_error").hide()),""==f?(jQuery("#arm_google_auth_url").css("border-color","#ff0000"),jQuery("#arm_google_auth_url_error").show(),l++):(jQuery("#arm_google_auth_url").css("border-color",""),jQuery("#aarm_google_auth_url_error").hide()),""==s?(jQuery("#arm_google_auth_token").css("border-color","#ff0000"),jQuery("#arm_google_auth_token_error").show(),l++):(jQuery("#arm_google_auth_token").css("border-color",""),jQuery("#arm_google_auth_token_error").hide()),""==n?(m=jQuery("#arm_google_client_id").offset().top-40,jQuery("html, body").animate({scrollTop:m},0)):""==o?(m=jQuery("#arm_google_client_secret").offset().top-40,jQuery("html, body").animate({scrollTop:m},0)):""==f?(m=jQuery("#arm_google_auth_url").offset().top-40,jQuery("html, body").animate({scrollTop:m},0)):""==s?(m=jQuery("#arm_google_auth_token").offset().top-40,jQuery("html, body").animate({scrollTop:m},0)):""==u?(m=jQuery("#arm_test_email_to").offset().top-40,jQuery("html, body").animate({scrollTop:m},0)):""==c&&(m=jQuery("#arm_test_email_msg").offset().top-40,jQuery("html, body").animate({scrollTop:m},0))),0<l)return!1;var p=jQuery("input#arm_test_email_to").val(),y=jQuery("input#arm_email_from_email").val(),f=jQuery("input#arm_email_from_name").val(),u=jQuery("#arm_test_email_msg").val(),c="SMTP Test E-Mail";y&&"gmail"!=i&&(null==e&&(e=0),jQuery("#arm_send_test_mail_loader").show(),jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_send_test_mail&send_to="+p+"&reply_to="+y+"&reply_to_name="+f+"&message="+u+"&subject="+c+"&mail_server="+i+"&mail_login_name="+a+"&mail_port="+r+"&mail_password="+encodeURIComponent(_)+"&mail_enc="+t+"&mail_authentication="+e+"&_wpnonce="+d,success:function(e){e=arm_convert_json_from_pattern(e);e=jQuery.parseJSON(e);"true"==e.success?(jQuery("#arm_error_test_mail").hide(),jQuery("#arm_success_test_mail").show(),jQuery("#arm_success_test_mail").delay(3e3).fadeOut("slow"),jQuery("#arm_test_email_to").val(""),jQuery("#arm_test_email_msg").val("")):""!=e.msg&&(jQuery("#arm_error_test_mail").html(e.msg),jQuery("#arm_error_test_mail").show(),jQuery(".arm_test_email_container").append(e.log)),jQuery("#arm_send_test_mail_loader").hide()}})),y&&"gmail"==i&&(jQuery("#arm_send_test_mail_loader").show(),jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_send_test_gmail&send_to="+p+"&reply_to="+y+"&reply_to_name="+f+"&message="+u+"&subject="+c+"&mail_server="+i+"&client_id="+n+"&client_secret="+o+"&client_token="+s+"&arm_gm_client_auth_url="+s+"&_wpnonce="+d,success:function(e){e=arm_convert_json_from_pattern(e);e=jQuery.parseJSON(e);"true"==e.success?(jQuery("#arm_error_test_mail").hide(),jQuery("#arm_success_test_mail").show(),jQuery("#arm_success_test_mail").delay(3e3).fadeOut("slow"),jQuery("#arm_test_email_to").val(""),jQuery("#arm_test_email_msg").val("")):""!=e.msg&&(jQuery("#arm_error_test_mail").html(e.msg),jQuery("#arm_error_test_mail").show(),jQuery(".arm_test_email_container").append(e.log)),jQuery("#arm_send_test_mail_loader").hide()}}))}),jQuery(document).on("click","#arm_connect_google",function(){var e,r,a,_,t,i,n=0;if(jQuery("#arm_email_server_gm").is(":checked")&&(e=jQuery("#arm_google_client_id").val(),r=jQuery("#arm_google_client_secret").val(),a=jQuery("#arm_google_auth_url").val(),_=jQuery("#arm_google_auth_token").val(),t=jQuery('input[name="arm_wp_nonce"]').val(),""==e?(jQuery("#arm_google_client_id").css("border-color","#ff0000"),jQuery("#arm_google_client_id_error").show(),n++):(jQuery("#arm_google_client_id").css("border-color",""),jQuery("#arm_google_client_id_error").hide()),""==r?(jQuery("#arm_google_client_secret").css("border-color","#ff0000"),jQuery("#arm_google_client_secret_error").show(),n++):(jQuery("#arm_google_client_secret").css("border-color",""),jQuery("#arm_google_client_secret_error").hide()),""==a?(jQuery("#arm_google_auth_url").css("border-color","#ff0000"),jQuery("#arm_google_auth_url_error").show(),n++):(jQuery("#arm_google_auth_url").css("border-color",""),jQuery("#arm_google_auth_url_error").hide()),""==e?(i=jQuery("#arm_google_client_id").offset().top-40,jQuery("html, body").animate({scrollTop:i},0)):""==r?(i=jQuery("#arm_google_client_secret").offset().top-40,jQuery("html, body").animate({scrollTop:i},0)):a&&(i=jQuery("#arm_google_auth_url").offset().top-40,jQuery("html, body").animate({scrollTop:i},0))),0<n)return!1;jQuery("#arm_connect_mail_loader").show(),jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_validate_test_gmail&client_id="+e+"&client_secret="+r+"&auth_url="+a+"&auth_token="+_+"&_wpnonce="+t,success:function(e){window.open(e,"","width=500,height=500"),jQuery("#arm_connect_mail_loader").hide()}})}),jQuery(document).on("change","#template_form_edit_profile_val",function(){var e=jQuery(this).val();jQuery(".arm_image_edit_profile_placeholder_wrapper").hide(),""!=e?jQuery('.arm_image_edit_profile_placeholder_wrapper[data-template-set-id="'+e+'"]').show():jQuery(".arm_image_edit_profile_placeholder_wrapper").hide()}),jQuery(document).on("click",".arm_reset_login_history",function(){jQuery("#arm_reset_history_loader_img").css("display","inline"),clear_login_history("show_toast")}),jQuery(document).on("change",".arm_setup_coupon_chk",function(){jQuery(this).is(":checked")&&(1==jQuery(this).val()?jQuery("#arm_coupon_invitation_code").slideDown("slow"):jQuery("#arm_coupon_invitation_code").slideUp("slow"))}),jQuery(document).on("click","#arm_remove_user_plan2",function(){if(1==jQuery("#arm_user_plan_ul2 .arm_user_plan_change_input").length)return alert(REMOVEPAIDPOSTMESSAGE),!1;jQuery(this).parents("li").html(""),jQuery(this).parents("li").hide(),jQuery(".tipso_bubble").remove()}),jQuery(document).on("click",".arm_remove_user_plan_div_box",function(){var e=jQuery(this).attr("data-index");hideConfirmBoxCallback(),jQuery("#arm_user_plan_div_"+e).remove(),jQuery("#arm_user_paid_post_future_plan_"+e).remove(),jQuery("#arm_user_paid_post_div_"+e).remove(),jQuery("#arm_user_paid_post_date_div_"+e).remove()}),jQuery(document).on("click","#arm_add_new_user_plan_link",function(){var e=jQuery("#arm_total_user_plans").val(),r='<li class="arm_user_plan_li_'+e+'" style="margin-bottom: 10px; float:left;"><div class="arm_user_plns_box arm_subscription_label"><div class="arm_subscription_plan_wrapper"><span class="arm_subscription_paid_post_label">'+SELECTPLANLABEL+'</span> </div><div class="arm_subscription_plan_wrapper arm_subscription_plan_cycle_wrapper"></div><div class="arm_subscription_start_date_wrapper arm_subscription_label_wrapper"><span>'+PLANSTARTDATELABEL+'</span> </div></div><div class="arm_user_plns_box"><div class="arm_subscription_plan_selection"><input type="hidden" class="arm_user_plan_change_input arm_mm_user_plan_change_input_get_cycle" name="arm_user_plan[]" id="arm_user_plan_'+e+'" value="" data-arm-plan-count="'+e+'"/><dl class="arm_selectbox column_level_dd arm_member_form_dropdown"><dt><span>'+SELECTPLANLABEL+'</span><input type="text" style="display:none;" value="" class="arm_autocomplete"/><i class="armfa armfa-caret-down armfa-lg"></i></dt><dd><ul data-id="arm_user_plan_'+e+'">'+PLANLIST+'</ul></dd></dl></div><div class="arm_selected_plan_cycle_'+e+'" style="display:none;margin-left:24px; width:40%;min-width:0;"></div><div class="arm_subscription_start_date_wrapper"><input type="text" value="'+CURRENTDATE+'"  name="arm_subscription_start_date[]" class="arm_member_form_input arm_user_plan_date_picker"/></div><div class="arm_subscription_plan_action_btn"><img src="'+IMAGEURL+'/add_plan.svg"  id="arm_add_new_user_plan_link" title="Add New Plan" onmouseover="this.src=\''+IMAGEURL+"/add_plan_hover.svg';\" onmouseout=\"this.src='"+IMAGEURL+'/add_plan.svg\';" class="arm_helptip_icon tipso_style arm_add_plan_icon"> <img src="'+IMAGEURL+'/remove_plan.svg"  id="arm_remove_user_plan" title="Remove Plan" onmouseover="this.src=\''+IMAGEURL+"/remove_plan_hover.svg';\" onmouseout=\"this.src='"+IMAGEURL+'/remove_plan.svg\';" class="arm_helptip_icon tipso_style arm_add_plan_icon arm_remove_user_plan_icon"></div></div></li>';e++,jQuery("#arm_total_user_plans").val(e),jQuery(".arm_user_plan_ul").append(r),arm_js_init(),jQuery.isFunction(jQuery().datetimepicker)&&(arm_date_picker_format=jQuery(".arm_user_plan_date_picker").data("date_format"),jQuery(".arm_user_plan_date_picker").each(function(){jQuery(".arm_user_plan_date_picker").datetimepicker({useCurrent:!1,format:arm_date_picker_format,locale:""})}))}),jQuery(document).on("click","#arm_add_new_user_plan_link2",function(){var e,r=jQuery("#arm_total_user_posts").val(),a='<li class="arm_user_plan_li_'+ ++r+' arm_margin_bottom_10 arm_float_left" ><div class="arm_user_plns_box arm_subscription_label"><div class="arm_subscription_paid_post_wrapper" bis_skin_checked="1"><span class="arm_subscription_paid_post_label">'+SELECTPOSTLABEL+'</span></div><div class="arm_subscription_plan_wrapper arm_subscription_plan_cycle_wrapper"></div><div class="arm_subscription_start_date_wrapper arm_subscription_label_wrapper" bis_skin_checked="1"><span>'+POSTSTARTDATELABEL+'</span></div></div><div class="arm_user_plns_box"><div class="arm_subscription_paid_post_wrapper"><input type="hidden" class="arm_user_plan_change_input arm_mm_user_post_change_input_get_cycle" name="arm_user_plan2[]" id="arm_user_post_'+r+'" value="" data-arm-plan-count="'+r+'"/><dl class="arm_selectbox column_level_dd arm_member_form_dropdown"><dt><span>'+SELECTPOSTLABEL+'</span><input type="text" style="display:none;" value="" class="arm_autocomplete"/><i class="armfa armfa-caret-down armfa-lg"></i></dt><dd><ul data-id="arm_user_post_'+r+'">'+PLANLIST2+'</ul></dd></dl></div><div class="arm_selected_plan_cycle_'+r+'" style="display:none;margin-left:24px; width:40%; min-width:0;"></div><div class="arm_subscription_start_date_wrapper"><input type="text" value="'+CURRENTDATE+'"  name="arm_subscription_start_date2[]" class="arm_member_form_input arm_user_plan_date_picker"/></div><div class="arm_subscription_plan_action_btn"><img src="'+__ARMLITEIMAGEURL+'/add_plan.svg"  id="arm_add_new_user_plan_link2" title="'+ARMADDPOST+'" onmouseover="this.src=\''+__ARMLITEIMAGEURL+"/add_plan_hover.svg';\" onmouseout=\"this.src='"+__ARMLITEIMAGEURL+'/add_plan.svg\';" class="arm_helptip_icon tipso_style arm_add_plan_icon "> <img src="'+__ARMLITEIMAGEURL+'/remove_plan.svg"  id="arm_remove_user_plan2" title="'+ARMREMOVEPOST+'" onmouseover="this.src=\''+__ARMLITEIMAGEURL+"/remove_plan_hover.svg';\" onmouseout=\"this.src='"+__ARMLITEIMAGEURL+'/remove_plan.svg\';" class="arm_helptip_icon tipso_style arm_add_plan_icon arm_remove_user_plan_icon2 arm_margin_left_10"></div></div></li>';jQuery("#arm_total_user_posts").val(r),jQuery(".arm_user_plan_ul2").append(a),arm_js_init(),jQuery.isFunction(jQuery().datetimepicker)&&(e=jQuery(".arm_user_plan_date_picker").data("date_format"),jQuery(".arm_user_plan_date_picker").each(function(){jQuery(".arm_user_plan_date_picker").datetimepicker({useCurrent:!1,format:armChangeDateFormat(e),locale:""})}))}),jQuery(document).on("click","#arm_add_payment_cycle_recurring",function(){if(1==window.arm_add_subscription_plan_clicked)return!1;var e=jQuery("#arm_total_recurring_plan_cycles").val(),r=jQuery("#arm_total_recurring_plan_cycles_counter").val(),a=(""!=r&&void 0!==r||(r=0),parseInt(r)+1),_=jQuery("#arm_total_recurring_plan_cycles_order").val(),t='<li class="arm_plan_payment_cycle_li paid_subscription_options_recurring_payment_cycles_child_box" id="paid_subscription_options_recurring_payment_cycles_child_box'+a+'"><div class="arm_display_grid arm_payment_cycle_grid"><div class="arm_plan_payment_cycle_label"><div class="arm_plan_payment_cycle_label_input arm_padding_top_12"><input type="hidden" name="arm_subscription_plan_options[payment_cycles]['+a+'][cycle_key]" value="arm'+rand(5)+'"/><input type="text" name="arm_subscription_plan_options[payment_cycles]['+a+'][cycle_label]" value="" class="paid_subscription_options_recurring_payment_cycle_label" data-msg-required="'+LABELERROR+'"/></div></div><div class="arm_plan_payment_cycle_amount"><div class="arm_plan_payment_cycle_amount_input arm_padding_top_12"><span class="arm_plan_currency_symbol arm_plan_currency_symbol_prefix '+CURRENCYPREF+'">'+CURRENCYSYM+'</span><input type="text" name="arm_subscription_plan_options[payment_cycles]['+a+'][cycle_amount]" value="" class="paid_subscription_options_recurring_payment_cycle_amount '+CURRENCYINPUTCLASS+'" data-msg-required="'+AMOUNTERROR+'" onkeypress="javascript:return ArmNumberValidation(event, this)" placeholder=""/><span class="arm_plan_currency_symbol arm_plan_currency_symbol_suffix '+CURRENCYSUF+'">'+CURRENCYSYM+"</span></div></div></div>";for("undefined"!=typeof arm_custom_currency_payment_cycle_amount_field&&(t+=arm_custom_currency_payment_cycle_amount_field.replaceAll("ARMPCYCLEKEY",a)),t+='<div class="arm_plan_payment_cycle_billing_cycle"><div class="arm_plan_payment_cycle_billing_input arm_display_grid arm_padding_top_12"><input type="hidden" id="arm_ipc_billing'+a+'" name="arm_subscription_plan_options[payment_cycles]['+a+'][billing_cycle]" value="1" /><dl class="arm_selectbox column_level_dd arm_margin_0 arm_min_width_50 arm_margin_right_30"><dt><span>1</span><input type="text" style="display:none;" value="" class="arm_autocomplete"/><i class="armfa armfa-caret-down armfa-lg"></i></dt><dd><ul data-id="arm_ipc_billing'+a+'">',i=1;i<=90;i++)t+='<li data-label="'+i+'" data-value="'+i+'">'+i+"</li>";for(t+='</ul></dd></dl><input type="hidden" id="arm_ipc_billing_type'+a+'" name="arm_subscription_plan_options[payment_cycles]['+a+'][billing_type]" value="D" /><dl class="arm_selectbox column_level_dd  arm_width_100_pct"><dt><span>'+DAY+'</span><input type="text" style="display:none;" value="" class="arm_autocomplete"/><i class="armfa armfa-caret-down armfa-lg"></i></dt><dd><ul data-id="arm_ipc_billing_type'+a+'"><li data-label="'+DAY+'" data-value="D">'+DAY+'</li><li data-label="'+MONTH+'" data-value="M">'+MONTH+'</li><li data-label="'+YEAR+'" data-value="Y">'+YEAR+'</li></ul></dd></dl></div></div><div class="arm_plan_payment_cycle_recurring_time"><input type="hidden" id="arm_ipc_recurring'+a+'" name="arm_subscription_plan_options[payment_cycles]['+a+'][recurring_time]" value="infinite"/><dl class="arm_selectbox column_level_dd arm_margin_right_0 arm_padding_top_12"><dt><span>'+INFINITE+'</span><input type="text" style="display:none;" value="" class="arm_autocomplete"/><i class="armfa armfa-caret-down armfa-lg"></i></dt><dd><ul data-id="arm_ipc_recurring'+a+'"><li data-label="'+INFINITE+'" data-value="infinite">'+INFINITE+"</li>",i=2;i<=30;i++)t+='<li data-label="'+i+'" data-value="'+i+'">'+i+"</li>";t+='</ul></dd></dl></div></div><div class="arm_plan_payment_cycle_action_buttons arm_padding_top_12 hidden_section"><div class="arm_plan_cycle_plus_icon arm_helptip_icon tipso_style arm_add_plan_icon" title="'+ADDCYCLE+'" id="arm_add_payment_cycle_recurring" data-field_index="'+a+'"></div><div class="arm_plan_cycle_minus_icon arm_helptip_icon tipso_style arm_add_plan_icon arm_remove_user_plan_icon" title="'+REMOVECYCLE+'" id="arm_remove_recurring_payment_cycle" data-index="'+a+'"></div><div class="arm_plan_cycle_sortable_icon"></div></div><input type="hidden" name="arm_subscription_plan_options[payment_cycles]['+a+'][payment_cycle_order]" value="'+_+'" class="arm_module_payment_cycle_order"></li>',jQuery(".arm_plan_payment_cycle_ul").append(t),e++,_++,r++,jQuery("#arm_total_recurring_plan_cycles").val(e),jQuery("#arm_total_recurring_plan_cycles_counter").val(a),jQuery("#arm_total_recurring_plan_cycles_order").val(_),arm_tooltip_init()}),jQuery(document).on("click","#arm_login_conditional_redirection_add_new_condition",function(){var e,r=jQuery("#arm_total_login_conditional_redirection_condition").val(),a=jQuery("#arm_order_login_conditional_redirection_condition").val(),_=jQuery("#arm_all_plans").html(),t=jQuery.parseJSON(_),_=jQuery("#arm_all_pages").html(),n=jQuery.parseJSON(_),o='<li class="arm_form_main_content arm_margin_bottom_20" id="arm_login_conditional_redirection_box'+a+'"><div class="arm_login_redirection_condition_sortable_icon ui-sortable-handle armhelptip" title="'+ARM_SET_REDIRECTION_PRIORITY+'"></div><a class="arm_remove_login_redirection_condition" href="javascript:void(0)" data-index="'+a+'"><img src="'+ARM_RR_CLOSE_IMG+'" onmouseover="this.src=\''+ARM_RR_CLOSE_IMG_HOVER+"'\" onmouseout=\"this.src='"+ARM_RR_CLOSE_IMG+'\'"></a><div class="arm_login_conditional_redirection_row"><div class="arm_form_header_label arm_padding_top_15 arm_padding_bottom_15 arm_font_size_16">'+IF_USER_HAVE+'</div><div class="arm_email_setting_flex_group arm_padding_left_30 arm_padding_right_30"><div id="arm_condition_redirect_login_plan_td_'+a+'" class="arm_width_50_pct arm_form_field_block"><span class="arm_rr_login_condition_lbl">'+ARM_MEMBERSHIP_PLAN+'</span><br/><input type="hidden" id="arm_conditional_redirect_plan_id_'+a+'" name="arm_redirection_settings[login][conditional_redirect]['+a+'][plan_id]" value="0" /><dl class="arm_selectbox column_level_dd arm_width_100_pct arm_margin_top_12"><dt><span>'+__SELECT_PLAN+'</span><input type="text" style="display:none;" value="" class="arm_autocomplete arm_padding_top_0 arm_padding_bottom_0"/><i class="armfa armfa-caret-down armfa-lg"></i></dt><dd><ul data-id="arm_conditional_redirect_plan_id_'+a+'"><li data-label="'+__SELECT_PLAN+'" data-value="0">'+__SELECT_PLAN+'</li><li data-label="'+__No_PLAN+'" data-value="-2">'+__No_PLAN+'</li><li data-label="'+__ANY_PLAN+'" data-value="-3">'+__ANY_PLAN+'</li><ol class="arm_selectbox_heading">'+CHOOSEPLAN+"</ol>";for(e in t){var s=t[e],d=s.arm_subscription_plan_id,s=s.arm_subscription_plan_name;o+='<li data-label="'+s+'" data-value="'+d+'">'+s+"</li>"}for(o+='</ul></dd></dl><span class="arm_rsc_error arm_redirection_settings_condition_plan_id_'+a+'">'+ARM_RSC_PLAN_ID+'</span></div><div  class="arm_login_redirection_and_lbl">'+PLAN_AND+'</div><div class="arm_login_redirection_action arm_width_50_pct arm_form_field_block"><span class="arm_rr_login_condition_lbl">'+ARM_ACTION+'</span><div class="arm_rr_login_condidtional_grid_sec arm_display_grid"><input type="hidden" id="arm_conditional_redirect_condition_'+a+'" class="arm_redirection_condition_input" name="arm_redirection_settings[login][conditional_redirect]['+a+'][condition]" value="" data-key="'+a+'" /><dl class="arm_selectbox column_level_dd arm_width_100_pct arm_margin_top_12"><dt><span>'+SELECT_CONDITION+'</span><input type="text" style="display:none;" value="" class="arm_autocomplete arm_padding_top_0 arm_padding_bottom_0"/><i class="armfa armfa-caret-down armfa-lg"></i></dt><dd><ul data-id="arm_conditional_redirect_condition_'+a+'"><li data-label="'+SELECT_CONDITION+'" data-value="">'+SELECT_CONDITION+'</li><li data-label="'+FIRST_TIME+'" data-value="first_time">'+FIRST_TIME+'</li><li data-label="'+IN_TRIAL+'" data-value="in_trial">'+IN_TRIAL+'</li><li data-label="'+GRACE+'" data-value="not_in_trial">'+GRACE+'</li><li data-label="'+FAILED_PAYMENT+'" data-value="failed_payment">'+FAILED_PAYMENT+'</li><li data-label="'+PENDING+'" data-value="pending">'+PENDING+'</li><li data-label="'+BEFORE_EXPIRE+'" data-value="before_expire">'+BEFORE_EXPIRE+'</li></ul></dd></dl><div id="arm_redirection_expiration_days_'+a+'" class="arm_redirection_expiration_days hidden_section" ><input type="hidden" id="arm_conditional_redirect_expire_'+a+'" name="arm_redirection_settings[login][conditional_redirect]['+a+'][expire]" value="0" /><dl class="arm_selectbox column_level_dd arm_width_90 arm_min_width_60 arm_margin_right_10"><dt><span>0</span><input type="text" style="display:none;" value="" class="arm_autocomplete arm_padding_top_0"/><i class="armfa armfa-caret-down armfa-lg"></i></dt><dd><ul data-id="arm_conditional_redirect_expire_'+a+'">',i=0;i<=30;i++)o+='<li data-label="'+i+'" data-value="'+i+'">'+i+"</li>";for(e in o+="</ul></dd></dl>"+DAYS+'</div></div></div></div><div class=""><div class="arm_form_header_label arm_padding_top_15 arm_padding_bottom_15 arm_font_size_16">'+THEN_REDIRECT_TO+'</div><div colspan="3" class="arm_padding_left_30 arm_padding_right_30 arm_padding_bottom_24 arm_flex arm_flex_direction_col"><span class="arm_rr_login_condition_lbl">'+__SELECT_PAGE+'</span><input type="hidden" id="arm_login_conditional_redirection_url_'+a+'" name="arm_redirection_settings[login][conditional_redirect]['+a+'][url]" value="0" /><dl class="arm_selectbox column_level_dd arm_width_100_pct arm_margin_top_12"><dt class="arm_login_conditional_redirection_page_dd"><span>'+__SELECT_PAGE+'</span><input type="text" style="display:none;" value="" class="arm_autocomplete"/><i class="armfa armfa-caret-down armfa-lg"></i></dt><dd><ul data-id="arm_login_conditional_redirection_url_'+a+'"><li data-label="'+__SELECT_PAGE+'" data-value="0">'+__SELECT_PAGE+"</li>",n){var m=n[e],l=m.ID,m=m.post_title;o+='<li data-label="'+m+'" data-value="'+l+'">'+m+"</li>"}o+='</ul></dd></dl><span class="arm_rsc_error arm_redirection_settings_condition_url_'+a+'">'+ARM_RSC_PAGE+"</span></div></div></li>",jQuery(".arm_login_conditional_redirection_ul").append(o),r++,a++,jQuery("#arm_total_login_conditional_redirection_condition").val(r),jQuery("#arm_order_login_conditional_redirection_condition").val(a),arm_tooltip_init()}),jQuery(document).on("click","#arm_setup_signup_conditional_redirection_add_new_condition",function(){var e,r=jQuery("#arm_total_setup_signup_conditional_redirection_condition").val(),a=jQuery("#arm_order_setup_signup_conditional_redirection_condition").val(),_=jQuery("#arm_all_plans").html(),t=jQuery.parseJSON(_),_=jQuery("#arm_all_pages").html(),i=jQuery.parseJSON(_),n='<li id="arm_setup_signup_conditional_redirection_box'+a+'" class="arm_email_setting_flex_group arm_margin_top_28"><div class="arm_form_field_block"><label>'+IF_PLAN_IS+'</label><div><input type="hidden" id="arm_conditional_redirect_setup_signup_plan_'+a+'" name="arm_redirection_settings[setup_signup][conditional_redirect]['+a+'][plan_id]" value="0" /><dl class="arm_selectbox column_level_dd arm_width_100_pct arm_margin_top_12"><dt class="arm_signup_redirection_dt"><span></span><input type="text" style="display:none;" value="" class="arm_autocomplete"/><i class="armfa armfa-caret-down armfa-lg"></i></dt><dd><ul data-id="arm_conditional_redirect_setup_signup_plan_'+a+'"><li data-label="Select Plan" data-value="0">Select Plan</li><li data-label="Any Plan" data-value="-3">Any Plan</li>';for(e in t){var o=t[e],s=o.arm_subscription_plan_id,o=o.arm_subscription_plan_name;n+='<li data-label="'+o+'" data-value="'+s+'">'+o+"</li>"}for(e in n+='</ul></dd></dl><span class="arm_rsc_error arm_conditional_redirect_setup_signup_plan_require_'+a+'">Please select plan.</span></div></div><div class="arm_form_field_block"><label>'+THEN_REDIRECT_TO+'</label><div colspan="3"><input type="hidden" id="arm_setup_signup_conditional_redirection_url_'+a+'" name="arm_redirection_settings[setup_signup][conditional_redirect]['+a+'][url]" value="0" /><dl class="arm_selectbox column_level_dd arm_width_100_pct arm_margin_top_12"><dt><span>Select Page</span><input type="text" style="display:none;" value="Select Page" class="arm_autocomplete"/><i class="armfa armfa-caret-down armfa-lg"></i></dt><dd><ul data-id="arm_setup_signup_conditional_redirection_url_'+a+'"><li data-label="Select Page" data-value="0">Select Page</li>',i){var d=i[e],m=d.ID,d=d.post_title;n+='<li data-label="'+d+'" data-value="'+m+'">'+d+"</li>"}n+='</ul></dd></dl><span class="arm_rsc_error arm_setup_signup_conditional_redirection_url_require_'+a+'">Please select a page.</span></div></div><div class="arm_plan_payment_cycle_action_buttons arm_margin_top_35"><div id="arm_setup_signup_conditional_redirection_add_new_condition" class="arm_setup_signup_conditional_redirection_add_new_condition arm_plan_cycle_plus_icon " href="javascript:void(0)" data-field_index="'+a+'"></div><div class="arm_remove_setup_signup_redirection_condition arm_plan_cycle_minus_icon arm_margin_0" href="javascript:void(0)" data-index="'+a+'"></div></div></li>',jQuery(".arm_setup_signup_conditional_redirection_ul").append(n),r++,a++,jQuery("#arm_total_setup_signup_conditional_redirection_condition").val(r),jQuery("#arm_order_setup_signup_conditional_redirection_condition").val(a),arm_selectbox_init()}),jQuery(document).on("click","#arm_setup_change_conditional_redirection_add_new_condition",function(){var e,r=jQuery("#arm_total_setup_change_conditional_redirection_condition").val(),a=jQuery("#arm_order_setup_change_conditional_redirection_condition").val(),_=jQuery("#arm_all_plans").html(),t=jQuery.parseJSON(_),_=jQuery("#arm_all_pages").html(),i=jQuery.parseJSON(_),n='<li id="arm_setup_change_conditional_redirection_box'+a+'" class="arm_email_setting_flex_group arm_margin_top_28"><div class="arm_form_field_block"><label>'+IF_PLAN_IS+'</label><div><input type="hidden" id="arm_conditional_redirect_setup_change_plan_'+a+'" name="arm_redirection_settings[setup_change][conditional_redirect]['+a+'][plan_id]" value="0" /><dl class="arm_selectbox column_level_dd arm_width_100_pct arm_margin_top_12"><dt class="arm_setup_change_redirection_dt"><span>Select Plan</span><input type="text" style="display:none;" value="" class="arm_autocomplete"/><i class="armfa armfa-caret-down armfa-lg"></i></dt><dd><ul data-id="arm_conditional_redirect_setup_change_plan_'+a+'"><li data-label="Select Plan" data-value="0">Select Plan</li><li data-label="Any Plan" data-value="-3">Any Plan</li>';for(e in t){var o=t[e],s=o.arm_subscription_plan_id,o=o.arm_subscription_plan_name;n+='<li data-label="'+o+'" data-value="'+s+'">'+o+"</li>"}for(e in n+='</ul></dd></dl><span class="arm_rsc_error arm_conditional_redirect_setup_change_plan_require_'+a+'">Please select plan.</span></div></div><div class="arm_form_field_block"><label>'+THEN_REDIRECT_TO+'</label><div><input type="hidden" id="arm_setup_change_conditional_redirection_url_'+a+'" name="arm_redirection_settings[setup_change][conditional_redirect]['+a+'][url]" value="0" /><dl class="arm_selectbox column_level_dd arm_width_100_pct arm_margin_top_12"><dt><span>Select Page</span><input type="text" style="display:none;" value="Select Page" class="arm_autocomplete"/><i class="armfa armfa-caret-down armfa-lg"></i></dt><dd><ul data-id="arm_setup_change_conditional_redirection_url_'+a+'"><li data-label="Select Page" data-value="0">Select Page</li>',i){var d=i[e],m=d.ID,d=d.post_title;n+='<li data-label="'+d+'" data-value="'+m+'">'+d+"</li>"}n+='</ul></dd></dl><span class="arm_rsc_error arm_setup_change_conditional_redirection_url_require_'+a+'">Please select a page.</span></div></div><div class="arm_plan_payment_cycle_action_buttons arm_margin_top_35"><div id="arm_setup_change_conditional_redirection_add_new_condition" class="arm_setup_change_conditional_redirection_add_new_condition arm_plan_cycle_plus_icon " href="javascript:void(0)" data-field_index="'+a+'"></div><div class="arm_remove_setup_change_redirection_condition arm_plan_cycle_minus_icon arm_margin_0" href="javascript:void(0)" data-index="'+a+'"></div></div></li>',jQuery(".arm_setup_change_conditional_redirection_ul").append(n),r++,a++,jQuery("#arm_total_setup_change_conditional_redirection_condition").val(r),jQuery("#arm_order_setup_change_conditional_redirection_condition").val(a),arm_selectbox_init()}),jQuery(document).on("click","#arm_setup_renew_conditional_redirection_add_new_condition",function(){var e,r=jQuery("#arm_total_setup_renew_conditional_redirection_condition").val(),a=jQuery("#arm_order_setup_renew_conditional_redirection_condition").val(),_=jQuery("#arm_all_plans").html(),t=jQuery.parseJSON(_),_=jQuery("#arm_all_pages").html(),i=jQuery.parseJSON(_),n='<li id="arm_setup_renew_conditional_redirection_box'+a+'" class="arm_margin_top_24"><div class="arm_email_setting_flex_group arm_width_100_pct arm_conditional_redirect"><div class="arm_form_field_block"><label>'+IF_PLAN_IS+'</label><div><input type="hidden" id="arm_conditional_redirect_setup_renew_plan_'+a+'" name="arm_redirection_settings[setup_renew][conditional_redirect]['+a+'][plan_id]" value="0" /><dl class="arm_selectbox column_level_dd arm_width_100_pct arm_margin_top_12"><dt class="arm_setup_renew_redirection_dt"><span>'+__SELECT_PLAN+'</span><input type="text" style="display:none;" value="" class="arm_autocomplete"/><i class="armfa armfa-caret-down armfa-lg"></i></dt><dd><ul data-id="arm_conditional_redirect_setup_renew_plan_'+a+'"><li data-label="'+__SELECT_PLAN+'" data-value="0">'+__SELECT_PLAN+'</li><li data-label="'+__ANY_PLAN+'" data-value="-3">'+__ANY_PLAN+"</li>";for(e in t){var o=t[e],s=o.arm_subscription_plan_id,o=o.arm_subscription_plan_name;n+='<li data-label="'+o+'" data-value="'+s+'">'+o+"</li>"}for(e in n+='</ul></dd></dl><span class="arm_rsc_error arm_conditional_redirect_setup_renew_plan_require_'+a+'">'+ARM_RSC_PLAN_ID+'</span></div></div><div class="arm_form_field_block"><label>'+THEN_REDIRECT_TO+'</label><div><input type="hidden" id="arm_setup_renew_conditional_redirection_url_'+a+'" name="arm_redirection_settings[setup_renew][conditional_redirect]['+a+'][url]" value="0" /><dl class="arm_selectbox column_level_dd arm_width_100_pct arm_margin_top_12"><dt><span>'+__SELECT_PAGE+'</span><input type="text" style="display:none;" value="Select Page" class="arm_autocomplete"/><i class="armfa armfa-caret-down armfa-lg"></i></dt><dd><ul data-id="arm_setup_renew_conditional_redirection_url_'+a+'"><li data-label="'+__SELECT_PAGE+'" data-value="0">'+__SELECT_PAGE+"</li>",i){var d=i[e],m=d.ID,d=d.post_title;n+='<li data-label="'+d+'" data-value="'+m+'">'+d+"</li>"}n+='</ul></dd></dl><span class="arm_rsc_error arm_setup_renew_conditional_redirection_url_require_'+a+'">'+ARM_RSC_PAGE+'</span></div></div><div class="arm_plan_payment_cycle_action_buttons arm_margin_top_35"><div id="arm_setup_renew_conditional_redirection_add_new_condition" class="arm_plan_cycle_plus_icon arm_plan_cycle_plus_icon_new" href="javascript:void(0)" data-field_index="'+a+'"></div><div class="arm_remove_setup_renew_redirection_condition arm_plan_cycle_minus_icon arm_margin_0" href="javascript:void(0)" data-index="'+a+'"></div></div></div></li>',jQuery(".arm_setup_renew_conditional_redirection_ul").append(n),r++,a++,jQuery("#arm_total_setup_renew_conditional_redirection_condition").val(r),jQuery("#arm_order_setup_renew_conditional_redirection_condition").val(a),arm_selectbox_init()}),jQuery(document).on("click","#arm_signup_conditional_redirection_add_new_condition",function(){var e,r=jQuery("#arm_total_signup_conditional_redirection_condition").val(),a=jQuery("#arm_order_signup_conditional_redirection_condition").val(),_=jQuery("#arm_all_signup_forms").html(),t=jQuery.parseJSON(_),_=jQuery("#arm_all_pages").html(),i=jQuery.parseJSON(_),n='<li id="arm_signup_conditional_redirection_box'+a+'" class="arm_email_setting_flex_group arm_condition_group arm_margin_top_28"><div class="arm_form_field_block"><div>'+IF_FORM_IS+'</div><div><input type="hidden" class="arm_form_conditional_redirect" id="arm_conditional_redirect_form_id_'+a+'" name="arm_redirection_settings[signup][conditional_redirect]['+a+'][form_id]" value="0" /><dl class="arm_selectbox column_level_dd arm_margin_top_12 arm_width_100_pct"><dt class="arm_signup_redirection_dt"><span></span><input type="text" style="display:none;" value="" class="arm_autocomplete"/><i class="armfa armfa-caret-down armfa-lg"></i></dt><dd><ul data-id="arm_conditional_redirect_form_id_'+a+'"><li data-label="'+SELECT_FORM+'" data-value="0">'+SELECT_FORM+'</li><li data-label="'+ALL_FORM+'" data-value="-2">'+ALL_FORM+"</li>";for(e in t){var o=t[e],s=o.arm_form_id,o=o.arm_form_label+" (ID: "+s+")";n+='<li data-label="'+o+'" data-value="'+s+'">'+o+"</li>"}for(e in n+='</ul></dd></dl><span class="arm_rsc_error arm_redirection_settings_signup_condition_form_'+a+'">'+ARM_RSC_FORM_ID+'</span></div></div><div class="arm_form_field_block"><div>'+THEN_REDIRECT_TO+'</div><div><input type="hidden" id="arm_signup_conditional_redirection_url_'+a+'" name="arm_redirection_settings[signup][conditional_redirect]['+a+'][url]" value="0" /><dl class="arm_selectbox column_level_dd arm_margin_top_12 arm_width_100_pct"><dt><span>'+__SELECT_PAGE+'</span><input type="text" style="display:none;" value="" class="arm_autocomplete"/><i class="armfa armfa-caret-down armfa-lg"></i></dt><dd><ul data-id="arm_signup_conditional_redirection_url_'+a+'"><li data-label="'+__SELECT_PAGE+'" data-value="0">'+__SELECT_PAGE+"</li>",i){var d=i[e],m=d.ID,d=d.post_title;n+='<li data-label="'+d+'" data-value="'+m+'">'+d+"</li>"}n+='</ul></dd></dl><span class="arm_rsc_error arm_redirection_settings_signup_condition_url_'+a+'">'+ARM_RSC_PAGE+'</span></div></div><div class="arm_plan_payment_cycle_action_buttons arm_margin_top_35"><div id="arm_signup_conditional_redirection_add_new_condition" class="arm_plan_cycle_plus_icon arm_plan_cycle_plus_icon_new" href="javascript:void(0)" data-field_index="'+a+'"></div><div class="arm_remove_signup_redirection_condition arm_plan_cycle_minus_icon arm_margin_0" href="javascript:void(0)" data-index="'+a+'"></div></div></li>',jQuery(".arm_signup_conditional_redirection_ul").append(n),r++,a++,jQuery("#arm_total_signup_conditional_redirection_condition").val(r),jQuery("#arm_order_signup_conditional_redirection_condition").val(a),arm_selectbox_init()}),jQuery(document).on("click","#arm_edit_profile_conditional_redirection_add_new_condition",function(){var e,r=jQuery("#arm_total_edit_profile_conditional_redirection_condition").val(),a=jQuery("#arm_order_edit_profile_conditional_redirection_condition").val(),_=jQuery("#arm_all_edit_profile_forms").html(),t=jQuery.parseJSON(_),_=jQuery("#arm_all_pages").html(),i=jQuery.parseJSON(_),n='<li id="arm_edit_profile_conditional_redirection_box'+a+'" class="arm_email_setting_flex_group arm_condition_group arm_margin_top_28"><div class="arm_form_field_block"><div>'+IF_EDIT_PROFILE_FORM_IS+'</div><div><input type="hidden" class="arm_form_conditional_redirect" id="arm_conditional_redirect_form_id_'+a+'" name="arm_redirection_settings[edit_profile][conditional_redirect]['+a+'][form_id]" value="0" /><dl class="arm_selectbox column_level_dd arm_margin_top_12 arm_width_100_pct"><dt class="arm_signup_redirection_dt"><span></span><input type="text" style="display:none;" value="" class="arm_autocomplete"/><i class="armfa armfa-caret-down armfa-lg"></i></dt><dd><ul data-id="arm_conditional_redirect_form_id_'+a+'"><li data-label="'+SELECT_FORM+'" data-value="0">'+SELECT_FORM+'</li><li data-label="'+ALL_FORM+'" data-value="-2">'+ALL_FORM+"</li>";for(e in t){var o=t[e],s=o.arm_form_id,o=o.arm_form_label+" (ID: "+s+")";n+='<li data-label="'+o+'" data-value="'+s+'">'+o+"</li>"}for(e in n+='</ul></dd></dl><span class="arm_rsc_error arm_redirection_settings_edit_profile_condition_form_'+a+'">'+ARM_EDIT_PROFILE_FORM_ID+'</span></div></div><div class="arm_form_field_block"><div>'+THEN_REDIRECT_TO+'</div><div><input type="hidden" id="arm_edit_profile_conditional_redirection_url_'+a+'" name="arm_redirection_settings[edit_profile][conditional_redirect]['+a+'][url]" value="0" /><dl class="arm_selectbox column_level_dd arm_margin_top_12 arm_width_100_pct"><dt><span>'+__SELECT_PAGE+'</span><input type="text" style="display:none;" value="" class="arm_autocomplete"/><i class="armfa armfa-caret-down armfa-lg"></i></dt><dd><ul data-id="arm_edit_profile_conditional_redirection_url_'+a+'"><li data-label="'+__SELECT_PAGE+'" data-value="0">'+__SELECT_PAGE+"</li>",i){var d=i[e],m=d.ID,d=d.post_title;n+='<li data-label="'+d+'" data-value="'+m+'">'+d+"</li>"}n+='</ul></dd></dl><span class="arm_rsc_error arm_redirection_settings_edit_profile_condition_url_'+a+'">'+ARM_RSC_PAGE+'</span></div></div><div class="arm_plan_payment_cycle_action_buttons arm_margin_top_35"><div id="arm_edit_profile_conditional_redirection_add_new_condition" class="arm_plan_cycle_plus_icon arm_plan_cycle_plus_icon_new" href="javascript:void(0)" data-field_index="'+a+'"></div><div class="arm_remove_edit_profile_redirection_condition arm_plan_cycle_minus_icon arm_margin_0" href="javascript:void(0)" data-index="'+a+'"></div></div></li>',jQuery(".arm_edit_profile_conditional_redirection_ul").append(n),r++,a++,jQuery("#arm_total_edit_profile_conditional_redirection_condition").val(r),jQuery("#arm_order_edit_profile_conditional_redirection_condition").val(a),arm_selectbox_init()}),jQuery(document).on("click","#arm_remove_recurring_payment_cycle",function(e){e.stopPropagation();e=jQuery(".paid_subscription_options_recurring_payment_cycle_label").length;if(1==e)return alert(EMESSAGE),!1;jQuery(this).attr("data-index");jQuery(this).closest("li").remove(),e--,jQuery("#arm_total_recurring_plan_cycles").val(e),jQuery(".tipso_bubble").remove();var e=jQuery(".arm_plan_payment_cycle_ul"),r=e.find("li.arm_plan_payment_cycle_li").index(),e=e.find("li.arm_plan_payment_cycle_li .arm_plan_cycle_no").attr("data-index");if(jQuery(".arm_plan_payment_cycle_ul li:nth-child("+(r+1)+")").find(".arm_plan_cycle_no").html(r+1),jQuery(".arm_plan_payment_cycle_ul li:nth-child("+(r+1)+")").find(".arm_plan_cycle_no").attr("data-index",r),e<r)for(var a=r;0<a;a--)jQuery(".arm_plan_payment_cycle_ul li:nth-child("+a+")").find(".arm_plan_cycle_no").html(a),jQuery(".arm_plan_payment_cycle_ul li:nth-child("+a+")").find(".arm_plan_cycle_no").attr("data-index",a-1);else for(a=r+2;a<=jQuery(".arm_plan_payment_cycle_ul li").length;a++)jQuery(".arm_plan_payment_cycle_ul li:nth-child("+a+")").find(".arm_plan_cycle_no").html(a),jQuery(".arm_plan_payment_cycle_ul li:nth-child("+a+")").find(".arm_plan_cycle_no").attr("data-index",a-1)}),jQuery(document).on("click",".arm_remove_login_redirection_condition",function(e){e.stopPropagation();e=jQuery(".arm_login_conditional_redirection_page_dd").length;if(1==e)return alert(REMESSAGE),!1;jQuery(this).parent().remove(),e--,jQuery("#arm_total_login_conditional_redirection_condition").val(e)}),jQuery(document).on("click",".arm_remove_signup_redirection_condition",function(e){e.stopPropagation();e=parseInt(jQuery("#arm_total_signup_conditional_redirection_condition").val(),10);if(1===e)return alert(REMESSAGE),!1;jQuery(this).closest("li").remove(),e--,jQuery("#arm_total_signup_conditional_redirection_condition").val(e)}),jQuery(document).on("click",".arm_remove_edit_profile_redirection_condition",function(e){e.stopPropagation();e=parseInt(jQuery("#arm_total_edit_profile_conditional_redirection_condition").val(),10);if(1==e)return alert(REMESSAGE),!1;jQuery(this).closest("li").remove(),e--,jQuery("#arm_total_edit_profile_conditional_redirection_condition").val(e)}),jQuery(document).on("click",".arm_remove_setup_signup_redirection_condition",function(e){e.stopPropagation();e=jQuery("#arm_total_setup_signup_conditional_redirection_condition").val();if(1==e)return alert(REMESSAGE),!1;jQuery(this).parents("li").remove(),e--,jQuery("#arm_total_setup_signup_conditional_redirection_condition").val(e)}),jQuery(document).on("click",".arm_remove_setup_change_redirection_condition",function(e){e.stopPropagation();e=jQuery("#arm_total_setup_change_conditional_redirection_condition").val();if(1==e)return alert(REMESSAGE),!1;jQuery(this).parents("li").remove(),e--,jQuery("#arm_total_setup_change_conditional_redirection_condition").val(e)}),jQuery(document).on("click",".arm_remove_setup_renew_redirection_condition",function(e){e.stopPropagation();e=jQuery("#arm_total_setup_renew_conditional_redirection_condition").val();if(1==e)return alert(REMESSAGE),!1;jQuery(this).parents("li").remove(),e--,jQuery("#arm_total_setup_renew_conditional_redirection_condition").val(e)}),jQuery(document).on("click",".arm_member_save_post",function(){var e=jQuery(this).parents(".arm_user_plan_row"),t=jQuery(this).attr("data-user_id"),r=jQuery(this).attr("data-plan_id"),a=jQuery("#arm_subscription_expiry_date_"+r+"_"+t).val(),_=jQuery('input[name="arm_wp_nonce"]').val(),i=(e.find(".arm_edit_user_plan_loader").show(),e.find(".arm_member_save_post").hide(),e.find(".arm_member_cancel_save_plan").hide(),jQuery("#arm_manage_plan_"+t).closest("tr")[0]);jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_user_plan_action&arm_action=edit&arm_paid_post_request=1&user_id="+t+"&plan_id="+r+"&expiry_date="+a+"&_wpnonce="+_,success:function(e){var r,a,_;e=arm_convert_json_from_pattern(e),"success"==(e=jQuery.parseJSON(e)).type?(armToast(e.msg,"success"),r=(a=e.content.split("^|^"))[0],""!=(a=a[1])&&jQuery(".arm_manage_post_username").html("( "+a+" )"),jQuery(".arm_member_manage_post_detail_popup_text").html(r),arm_selectbox_init(),jQuery.isFunction(jQuery().datetimepicker)&&(a=jQuery(".arm_user_add_plan_date_picker").data("date_format"),jQuery(".arm_user_add_plan_date_picker").datetimepicker({useCurrent:!1,format:armChangeDateFormat(a),locale:""})),1==e.multiple_membership?(_=jQuery("#arm_paid_post_counter_value").val(),_='<a href"javascript:void(0)" class="arm_open_paid_plan_popup" data-id="'+t+'">'+_+"</a>",jQuery("#armember_datatable").dataTable().fnUpdate(_,i,6,0)):(_=jQuery("#arm_paid_post_counter_value").val(),_='<a href"javascript:void(0)" class="arm_open_paid_plan_popup" data-id="'+t+'">'+_+"</a>",jQuery("#armember_datatable").dataTable().fnUpdate(_,i,6,0),jQuery("#armember_datatable").dataTable().fnUpdate(e.user_role,i,8,0),jQuery("#armember_datatable").dataTable().fnUpdate(e.membership_type,i,5,0)),jQuery("#armember_datatable").dataTable().fnAdjustColumnSizing(!1),jQuery(".arm_plan_loading_grid").fadeOut("slow"),0<jQuery(".arm_child_row_div_"+t).length&&format(["","",t]),jQuery(".arm_user_plan_expiry_date_picker").each(function(){var e=jQuery(this).data("date_format");jQuery(".arm_user_plan_expiry_date_picker").datetimepicker({useCurrent:!1,format:armChangeDateFormat(e),locale:""})}),jQuery.isFunction(jQuery().tipso)&&jQuery(".armhelptip").each(function(){jQuery(this).tipso({position:"top",size:"small",background:"#939393",color:"#ffffff",width:!1,maxWidth:400,useTitle:!0})})):(armToast(e.msg,"error"),jQuery(".arm_plan_loading_grid").fadeOut("slow"))}})}),jQuery(document).on("click",".arm_post_status_change",function(){hideConfirmBoxCallback(),jQuery(".arm_add_plan").hide(),jQuery(".arm_add_new_plan").show();var e=jQuery("#arm_edit_plan_user_id").val(),r=jQuery(this).attr("data-item_id"),a=(jQuery("#arm_manage_plan_"+e).closest("tr")[0],jQuery('input[name="arm_wp_nonce"]').val());jQuery(".arm_plan_loading_grid").fadeIn("slow"),jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_user_plan_action&arm_action=status&arm_paid_post_request=1&user_id="+e+"&plan_id="+r+"&_wpnonce="+a,success:function(e){var r,a;e=arm_convert_json_from_pattern(e),"success"==(e=jQuery.parseJSON(e)).type?(armToast(e.msg,"success"),r=(a=e.content.split("^|^"))[0],""!=(a=a[1])&&jQuery(".arm_manage_post_username").html("( "+a+" )"),jQuery(".arm_member_manage_post_detail_popup_text").html(r),arm_selectbox_init(),jQuery.isFunction(jQuery().datetimepicker)&&(a=jQuery(".arm_user_add_plan_date_picker").data("date_format"),jQuery(".arm_user_add_plan_date_picker").datetimepicker({useCurrent:!1,format:armChangeDateFormat(a),locale:""})),jQuery.isFunction(jQuery().tipso)&&jQuery(".armhelptip").each(function(){jQuery(this).tipso({position:"top",size:"small",background:"#939393",color:"#ffffff",width:!1,maxWidth:400,useTitle:!0})})):(armToast(e.msg,"error"),jQuery(".arm_plan_loading_grid").fadeOut("slow"))},error:function(e){jQuery(".arm_plan_loading_grid").fadeOut("slow")}})}),jQuery(document).on("click",".arm_member_paid_plan_delete_btn",function(){hideConfirmBoxCallback(),jQuery(".arm_add_plan").hide(),jQuery(".arm_add_new_plan").show();var t=jQuery("#arm_delete_paid_post_plan").val(),e=jQuery(this).attr("data-item_id"),i=jQuery("#arm_manage_plan_"+t).closest("tr")[0],r=jQuery('input[name="arm_wp_nonce"]').val();jQuery(".arm_member_manage_post_detail_popup_text").html('<div style="width: 100%; margin: 45px auto;"> <img src="'+__ARMLITEIMAGEURL+'/arm_loader.gif"></div>'),jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_user_plan_action&arm_action=delete&arm_paid_post_request=1&user_id="+t+"&plan_id="+e+"&_wpnonce="+r,success:function(e){var r,a,_;e=arm_convert_json_from_pattern(e),"success"==(e=jQuery.parseJSON(e)).type?(armToast(e.msg,"success"),r=(a=e.content.split("^|^"))[0],""!=(a=a[1])&&jQuery(".arm_manage_post_username").html("( "+a+" )"),jQuery(".arm_member_manage_post_detail_popup_text").html(r),arm_selectbox_init(),jQuery.isFunction(jQuery().datetimepicker)&&(a=jQuery(".arm_user_add_plan_date_picker").data("date_format"),jQuery(".arm_user_add_plan_date_picker").datetimepicker({useCurrent:!1,format:armChangeDateFormat(a),locale:""}),jQuery(".arm_user_plan_expiry_date_picker").datetimepicker({useCurrent:!1,format:armChangeDateFormat(a),locale:""})),1==e.multiple_membership?(_=jQuery("#arm_paid_post_counter_value").val(),_='<a href"javascript:void(0)" class="arm_open_paid_plan_popup" data-id="'+t+'">'+_+"</a>",jQuery("#armember_datatable").dataTable().fnUpdate(_,i,6,0)):(_=jQuery("#arm_paid_post_counter_value").val(),_='<a href"javascript:void(0)" class="arm_open_paid_plan_popup" data-id="'+t+'">'+_+"</a>",jQuery("#armember_datatable").dataTable().fnUpdate(_,i,6,0),jQuery("#armember_datatable").dataTable().fnUpdate(e.user_role,i,8,0),jQuery("#armember_datatable").dataTable().fnUpdate(e.membership_type,i,5,0)),jQuery("#armember_datatable").dataTable().fnAdjustColumnSizing(!1),0<jQuery(".arm_child_row_div_"+t).length&&format(["","",t]),jQuery.isFunction(jQuery().tipso)&&jQuery(".armhelptip").each(function(){jQuery(this).tipso({position:"top",size:"small",background:"#939393",color:"#ffffff",width:!1,maxWidth:400,useTitle:!0})})):armToast(e.msg,"error")}})}),jQuery(document).on("click",".arm_member_add_paid_plan_save_btn",function(){var t=jQuery("form#arm_member_manage_plan_user_form");if(!t.hasClass("arm_already_clicked"))if(""!=jQuery(this).parents(".arm_member_manage_post_detail_popup_text").find(".arm_user_plan_change_input").val()){if(jQuery(".arm_error_select_plan").hide(),0<jQuery("#arm_user_plan_cycle_input").length){if(""==jQuery("#arm_user_plan_cycle_input").val())return jQuery(".arm_error_select_plan_cycle").show(),!1;jQuery(".arm_error_select_plan_cycle").hide()}var e=jQuery("form#arm_member_manage_plan_user_form").serialize(),i=jQuery("#arm_add_paid_post_plan").val(),n=jQuery("#arm_manage_plan_"+i).closest("tr")[0],r=jQuery('input[name="arm_wp_nonce"]').val();jQuery(".arm_loader_img_user_add_plan").show(),t.addClass("arm_already_clicked").attr("disabled","disabled"),t.find(".arm_member_add_paid_plan_save_btn, .arm_cancel_btn").addClass("arm_already_clicked").attr("disabled","disabled"),jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_user_plan_action&arm_action=add&arm_paid_post_request=1&user_id="+i+"&"+e+"&_wpnonce="+r,success:function(e){var r,a,_;e=arm_convert_json_from_pattern(e),"success"==(e=jQuery.parseJSON(e)).type?(armToast(e.msg,"success"),r=(a=e.content.split("^|^"))[0],a[1],jQuery(".arm_member_manage_post_detail_popup_text").html(r),arm_selectbox_init(),jQuery.isFunction(jQuery().datetimepicker)&&(a=jQuery(".arm_user_add_plan_date_picker").data("date_format"),jQuery(".arm_user_add_plan_date_picker").datetimepicker({useCurrent:!1,format:armChangeDateFormat(a),locale:""}),jQuery(".arm_user_plan_expiry_date_picker").datetimepicker({useCurrent:!1,format:armChangeDateFormat(a),locale:""})),1==e.multiple_membership?armEnabledPayPerPost?(_=jQuery("#arm_paid_post_counter_value").val(),_='<a href"javascript:void(0)" class="arm_open_paid_plan_popup" data-id="'+i+'">'+_+"</a>",jQuery("#armember_datatable").dataTable().fnUpdate(_,n,6,0)):jQuery("#armember_datatable").dataTable().fnUpdate(e.membership_plan,n,6,0):armEnabledPayPerPost?(_=jQuery("#arm_paid_post_counter_value").val(),_='<a href"javascript:void(0)" class="arm_open_paid_plan_popup" data-id="'+i+'">'+_+"</a>",jQuery("#armember_datatable").dataTable().fnUpdate(_,n,6,0)):(jQuery("#armember_datatable").dataTable().fnUpdate(e.user_role,n,8,0),jQuery("#armember_datatable").dataTable().fnUpdate(e.membership_plan,n,5,0)),jQuery("#armember_datatable").dataTable().fnAdjustColumnSizing(!1),jQuery(".arm_loader_img_user_add_plan").hide()):armToast(e.msg,"error"),t.removeClass("arm_already_clicked").removeAttr("disabled","disabled"),t.find(".arm_member_add_paid_plan_save_btn, .arm_cancel_btn").removeClass("arm_already_clicked").removeAttr("disabled","disabled"),0<jQuery(".arm_child_row_div_"+i).length&&format(["","",i]),jQuery.isFunction(jQuery().tipso)&&jQuery(".armhelptip").each(function(){jQuery(this).tipso({position:"top",size:"small",background:"#939393",color:"#ffffff",width:!1,maxWidth:400,useTitle:!0})}),jQuery(".arm_import_user_list_detail_popup_wrapper").removeClass("arm_add_plan_form")}})}else jQuery(".arm_error_select_plan").show();return!1}),jQuery(document).on("click",".arm_redirection_settings_btn.arm_pro",function(){var e=jQuery("#arm_redirection_settings").serialize(),r=jQuery(this),a=jQuery("#arm_redirection_settings").find('input[name="arm_wp_nonce"]').val();if(!r.hasClass("arm_already_clicked")){var _=0,t=jQuery(".arm_redirection_settings_login_radio_type:checked").val(),i=jQuery(".arm_redirection_settings_login_radio:checked").val(),n=jQuery(".arm_redirection_settings_signup_redirection_type:checked").val(),o=jQuery(".arm_redirection_settings_signup_radio:checked").val(),s=jQuery(".arm_redirection_settings_edit_profile_redirection_type:checked").val(),d=jQuery(".arm_redirection_settings_edit_profile_radio:checked").val(),m=jQuery(".arm_redirection_settings_setup_signup_radio:checked").val(),l=jQuery(".arm_redirection_settings_setup_change_radio:checked").val(),u=jQuery(".arm_redirection_settings_setup_renew_radio:checked").val(),c=jQuery(".arm_redirection_settings_social_radio:checked").val(),p=jQuery(".arm_redirection_settings_setup_paid_post_radio:checked").val(),y=jQuery(".arm_redirection_settings_setup_gift_radio:checked").val(),f=jQuery("#redirect_url").val(),j=jQuery("#arm_redirect_restricted_specific:checked").val();"specific"!=j||""!=f&&0!=f?(jQuery(".arm_redirection_access_rules_specific").find("dt").removeClass("arm_required"),jQuery(".arm_redirection_access_rules_non_loggedin_specific_blank_error").fadeOut()):(jQuery(".arm_redirection_access_rules_specific").find("dt").addClass("arm_required"),jQuery(window.opera?"html":"html, body").animate({scrollTop:jQuery(".arm_redirection_access_rules_specific").offset().top-200},0),_++,jQuery(".arm_redirection_access_rules_non_loggedin_specific_blank_error").fadeIn());var f=1==jQuery("ul[data-id=redirect_url]").find('li[data-value="'+f+'"]').attr("data-protected"),Q=jQuery(".arm_redirection_access_rules_specific"),f=(f&&"specific"==j?(Q.find("dt").addClass("arm_required"),jQuery(window.opera?"html":"html, body").animate({scrollTop:Q.offset().top-200},0),jQuery(".arm_redirection_access_rules_non_loggedin_specific_error").fadeIn(),_++):(Q.find("dt").removeClass("arm_required"),jQuery(".arm_redirection_access_rules_non_loggedin_specific_error").fadeOut()),jQuery("#redirect_url_logged_in").val()),j=jQuery("#arm_redirect_logged_in_restricted_specific:checked").val();"specific"!=j||""!=f&&0!=f?(jQuery(".arm_redirection_access_rules_logged_in_specific").find("dt").removeClass("arm_required"),jQuery(".arm_redirection_access_rules_loggedin_specific_blank_error").fadeOut()):(jQuery(".arm_redirection_access_rules_logged_in_specific").find("dt").addClass("arm_required"),jQuery(window.opera?"html":"html, body").animate({scrollTop:jQuery(".arm_redirection_access_rules_logged_in_specific").offset().top-200},0),_++,jQuery(".arm_redirection_access_rules_loggedin_specific_blank_error").fadeIn());Q=1==jQuery("ul[data-id=redirect_url]").find('li[data-value="'+f+'"]').attr("data-protected"),f=jQuery(".arm_redirection_access_rules_logged_in_specific"),Q=(Q&&"specific"==j?(f.find("dt").addClass("arm_required"),jQuery(window.opera?"html":"html, body").animate({scrollTop:f.offset().top-200},0),jQuery(".arm_redirection_access_rules_loggedin_specific_error").fadeIn(),_++):(f.find("dt").removeClass("arm_required"),jQuery(".arm_redirection_access_rules_loggedin_specific_error").fadeOut()),jQuery("#redirect_url_pending").val()),j=jQuery("#arm_redirect_pending_restricted_specific:checked").val();"specific"!=j||""!=Q&&0!=Q?(jQuery(".arm_redirection_access_rules_pending_specific").find("dt").removeClass("arm_required"),jQuery(".arm_redirection_access_rules_pending_specific_blank_error").fadeOut()):(jQuery(".arm_redirection_access_rules_pending_specific").find("dt").addClass("arm_required"),jQuery(window.opera?"html":"html, body").animate({scrollTop:jQuery(".arm_redirection_access_rules_pending_specific").offset().top-200},0),_++,jQuery(".arm_redirection_access_rules_pending_specific_blank_error").fadeIn());f=1==jQuery("ul[data-id=redirect_url_pending]").find('li[data-value="'+Q+'"]').attr("data-protected"),Q=jQuery(".arm_redirection_access_rules_pending_specific"),f=(f&&"specific"==j?(Q.find("dt").addClass("arm_required"),jQuery(window.opera?"html":"html, body").animate({scrollTop:Q.offset().top-200},0),jQuery(".arm_redirection_access_rules_pending_specific_error").fadeIn(),_++):(Q.find("dt").removeClass("arm_required"),jQuery(".arm_redirection_access_rules_pending_specific_error").fadeOut("fast")),jQuery("#redirect_url_drip").val()),j=jQuery("#arm_redirect_drip_restricted_specific:checked").val();"specific"!=j||""!=f&&0!=f?(jQuery(".arm_redirection_access_rules_drip_specific").find("dt").removeClass("arm_required"),jQuery(".arm_redirection_access_rules_drip_specific_blank_error").fadeOut()):(jQuery(".arm_redirection_access_rules_drip_specific").find("dt").addClass("arm_required"),jQuery(window.opera?"html":"html, body").animate({scrollTop:jQuery(".arm_redirection_access_rules_drip_specific").offset().top-200},0),_++,jQuery(".arm_redirection_access_rules_drip_specific_blank_error").fadeIn());Q=1==jQuery("ul[data-id=redirect_url_drip]").find('li[data-value="'+f+'"]').attr("data-protected"),f=jQuery(".arm_redirection_access_rules_drip_specific");if(Q&&"specific"==j?(f.find("dt").addClass("arm_required"),jQuery(window.opera?"html":"html, body").animate({scrollTop:f.offset().top-200},0),jQuery(".arm_redirection_access_rules_drip_specific_error").fadeIn(),_++):(f.find("dt").removeClass("arm_required"),jQuery(".arm_redirection_access_rules_drip_specific_error").fadeOut("fast")),"page"==c?""==jQuery("#arm_form_action_social_page").val()?(jQuery("#arm_redirection_social_settings_page").find("dt").addClass("arm_required"),jQuery(window.opera?"html":"html, body").animate({scrollTop:jQuery("#arm_redirection_social_settings_page").offset().top-200},0),_++,jQuery(".arm_redirection_social_page_selection").fadeIn()):(jQuery("#arm_redirection_social_settings_page").find("dt").removeClass("arm_required"),jQuery(".arm_redirection_social_page_selection").fadeOut()):""==jQuery(".arm_social_redirection_url").val()?(jQuery(".arm_social_redirection_url").addClass("arm_required"),jQuery(window.opera?"html":"html, body").animate({scrollTop:jQuery("#arm_redirection_social_settings_url").offset().top-200},0),_++,jQuery(".arm_redirection_social_url_selection").fadeIn()):(jQuery(".arm_social_redirection_url").removeClass("arm_required"),jQuery(".arm_redirection_social_url_selection").fadeOut()),"page"==u)""==jQuery("#arm_form_action_setup_renew_page").val()?(jQuery("#arm_redirection_settings_setup_renew_page").find("dt").addClass("arm_required"),jQuery(window.opera?"html":"html, body").animate({scrollTop:jQuery("#arm_redirection_settings_setup_renew_page").offset().top-200},0),_++,jQuery(".arm_form_action_setup_renew_page_require").fadeIn()):(jQuery("#arm_redirection_settings_setup_renew_page").find("dt").removeClass("arm_required"),jQuery(".arm_form_action_setup_renew_page_require").fadeOut());else if("url"==u)""==jQuery(".arm_setup_renew_redirection_url").val()?(jQuery(".arm_setup_renew_redirection_url").addClass("arm_required"),jQuery(window.opera?"html":"html, body").animate({scrollTop:jQuery("#arm_redirection_settings_setup_renew_url").offset().top-200},0),_++,jQuery(".arm_setup_renew_redirection_url_require").fadeIn()):(jQuery(".arm_setup_renew_redirection_url").removeClass("arm_required"),jQuery(".arm_setup_renew_redirection_url_require").fadeOut());else if("conditional_redirect"==u)for(var g=jQuery("#arm_order_setup_renew_conditional_redirection_condition").val(),h=0;h<=g;h++)jQuery("#arm_conditional_redirect_setup_renew_plan_"+h).length&&("0"==jQuery("#arm_conditional_redirect_setup_renew_plan_"+h).val()||""==jQuery("#arm_conditional_redirect_setup_renew_plan_"+h).val()?(jQuery("#arm_setup_renew_conditional_redirection_box"+h).find("dt").addClass("arm_required"),jQuery(window.opera?"html":"html, body").animate({scrollTop:jQuery("#arm_setup_renew_conditional_redirection_box"+h).offset().top-200},0),_++,jQuery(".arm_conditional_redirect_setup_renew_plan_require_"+h).fadeIn()):(jQuery("#arm_setup_renew_conditional_redirection_box"+h).find("dt").removeClass("arm_required"),jQuery(".arm_conditional_redirect_setup_renew_plan_require_"+h).fadeOut())),jQuery("#arm_setup_renew_conditional_redirection_url_"+h).length&&(""==jQuery("#arm_setup_renew_conditional_redirection_url_"+h).val()||"0"==jQuery("#arm_setup_renew_conditional_redirection_url_"+h).val()?(jQuery("#arm_setup_renew_conditional_redirection_url_"+h).addClass("arm_required"),jQuery(window.opera?"html":"html, body").animate({scrollTop:jQuery("#arm_setup_renew_conditional_redirection_box"+h).offset().top-200},0),_++,jQuery(".arm_setup_renew_conditional_redirection_url_require_"+h).fadeIn()):(jQuery("#arm_setup_renew_conditional_redirection_url_"+h).removeClass("arm_required"),jQuery(".arm_setup_renew_conditional_redirection_url_require_"+h).fadeOut()));if("page"==l)""==jQuery("#arm_form_action_setup_change_page").val()?(jQuery("#arm_redirection_settings_setup_change_page").find("dt").addClass("arm_required"),jQuery(window.opera?"html":"html, body").animate({scrollTop:jQuery("#arm_redirection_settings_setup_change_page").offset().top-200},0),_++,jQuery(".arm_form_action_setup_change_page_require").fadeIn()):(jQuery("#arm_redirection_settings_setup_change_page").find("dt").removeClass("arm_required"),jQuery(".arm_form_action_setup_change_page_require").fadeOut());else if("url"==l)""==jQuery(".arm_setup_change_redirection_url").val()?(jQuery(".arm_setup_change_redirection_url").addClass("arm_required"),jQuery(window.opera?"html":"html, body").animate({scrollTop:jQuery("#arm_redirection_settings_setup_change_url").offset().top-200},0),_++,jQuery(".arm_form_action_setup_change_url_require").fadeIn()):(jQuery(".arm_setup_change_redirection_url").removeClass("arm_required"),jQuery(".arm_form_action_setup_change_url_require").fadeOut());else if("conditional_redirect"==l)for(g=jQuery("#arm_order_setup_change_conditional_redirection_condition").val(),h=0;h<=g;h++)jQuery("#arm_conditional_redirect_setup_change_plan_"+h).length&&("0"==jQuery("#arm_conditional_redirect_setup_change_plan_"+h).val()||""==jQuery("#arm_conditional_redirect_setup_change_plan_"+h).val()?(jQuery("#arm_setup_change_conditional_redirection_box"+h).find("dt").addClass("arm_required"),jQuery(window.opera?"html":"html, body").animate({scrollTop:jQuery("#arm_setup_change_conditional_redirection_box"+h).offset().top-200},0),_++,jQuery(".arm_conditional_redirect_setup_change_plan_require_"+h).fadeIn()):(jQuery("#arm_setup_change_conditional_redirection_box"+h).find("dt").removeClass("arm_required"),jQuery(".arm_conditional_redirect_setup_change_plan_require_"+h).fadeOut())),jQuery("#arm_setup_change_conditional_redirection_url_"+h).length&&(""==jQuery("#arm_setup_change_conditional_redirection_url_"+h).val()||"0"==jQuery("#arm_setup_change_conditional_redirection_url_"+h).val()?(jQuery("#arm_setup_change_conditional_redirection_url_"+h).addClass("arm_required"),jQuery(window.opera?"html":"html, body").animate({scrollTop:jQuery("#arm_setup_change_conditional_redirection_box"+h).offset().top-200},0),_++,jQuery(".arm_setup_change_conditional_redirection_url_require_"+h).fadeIn()):(jQuery("#arm_setup_change_conditional_redirection_url_"+h).removeClass("arm_required"),jQuery(".arm_setup_change_conditional_redirection_url_require_"+h).fadeOut()));if("page"==m)""==jQuery("#arm_form_action_setup_signup_page").val()?(jQuery("#arm_redirection_settings_setup_signup_page").find("dt").addClass("arm_required"),jQuery(window.opera?"html":"html, body").animate({scrollTop:jQuery("#arm_redirection_settings_setup_change_page").offset().top-200},0),_++,jQuery(".arm_form_action_setup_signup_page_require").fadeIn()):(jQuery("#arm_redirection_settings_setup_signup_page").find("dt").removeClass("arm_required"),jQuery(".arm_form_action_setup_signup_page_require").fadeOut());else if("url"==m)""==jQuery(".arm_setup_signup_redirection_url").val()?(jQuery(".arm_setup_signup_redirection_url").addClass("arm_required"),jQuery(window.opera?"html":"html, body").animate({scrollTop:jQuery("#arm_redirection_settings_setup_signup_url").offset().top-200},0),_++,jQuery(".arm_setup_signup_redirection_url_require").fadeIn()):(jQuery(".arm_setup_signup_redirection_url").removeClass("arm_required"),jQuery(".arm_setup_signup_redirection_url_require").fadeOut());else if("conditional_redirect"==m)for(g=jQuery("#arm_order_setup_signup_conditional_redirection_condition").val(),h=0;h<=g;h++)jQuery("#arm_conditional_redirect_setup_signup_plan_"+h).length&&("0"==jQuery("#arm_conditional_redirect_setup_signup_plan_"+h).val()||"0"==jQuery("#arm_conditional_redirect_setup_signup_plan_"+h).val()?(jQuery("#arm_setup_signup_conditional_redirection_box"+h).find("dt").addClass("arm_required"),jQuery(window.opera?"html":"html, body").animate({scrollTop:jQuery("#arm_setup_signup_conditional_redirection_box"+h).offset().top-200},0),_++,jQuery(".arm_conditional_redirect_setup_signup_plan_require_"+h).fadeIn()):(jQuery("#arm_setup_signup_conditional_redirection_box"+h).find("dt").removeClass("arm_required"),jQuery(".arm_conditional_redirect_setup_signup_plan_require_"+h).fadeOut())),jQuery("#arm_setup_signup_conditional_redirection_url_"+h).length&&(""==jQuery("#arm_setup_signup_conditional_redirection_url_"+h).val()||"0"==jQuery("#arm_setup_signup_conditional_redirection_url_"+h).val()?(jQuery("#arm_setup_signup_conditional_redirection_url_"+h).addClass("arm_required"),jQuery(window.opera?"html":"html, body").animate({scrollTop:jQuery("#arm_setup_signup_conditional_redirection_box"+h).offset().top-200},0),_++,jQuery(".arm_setup_signup_conditional_redirection_url_require_"+h).fadeIn()):(jQuery("#arm_setup_signup_conditional_redirection_url_"+h).removeClass("arm_required"),jQuery(".arm_setup_signup_conditional_redirection_url_require_"+h).fadeOut()));if("1"==p&&(""==jQuery("#arm_form_action_setup_paid_post_page").val()?(jQuery("#arm_redirection_settings_setup_paid_post_1").find("dt").addClass("arm_required"),jQuery(window.opera?"html":"html, body").animate({scrollTop:jQuery("#arm_redirection_settings_setup_paid_post_1").offset().top-200},0),_++,jQuery(".arm_form_action_setup_paid_post_page_require").fadeIn()):(jQuery("#arm_redirection_settings_setup_paid_post_1").find("dt").removeClass("arm_required"),jQuery(".arm_form_action_setup_paid_post_page_require").fadeOut())),"page"==y?""==jQuery("#arm_form_action_setup_gift_page").val()?(jQuery("#arm_redirection_settings_setup_gift_page").find("dt").addClass("arm_required"),jQuery(window.opera?"html":"html, body").animate({scrollTop:jQuery("#arm_redirection_settings_setup_gift_page").offset().top-200},0),_++,jQuery(".arm_form_action_setup_gift_page_require").fadeIn()):(jQuery("#arm_redirection_settings_setup_gift_page").find("dt").removeClass("arm_required"),jQuery(".arm_form_action_setup_gift_page_require").fadeOut()):"url"==y&&(""==jQuery(".arm_setup_gift_redirection_url").val()?(jQuery(".arm_setup_gift_redirection_url").addClass("arm_required"),jQuery(window.opera?"html":"html, body").animate({scrollTop:jQuery("#arm_redirection_settings_setup_gift_url").offset().top-200},0),_++,jQuery(".arm_setup_gift_redirection_url_require").show()):(jQuery(".arm_setup_gift_redirection_url").removeClass("arm_required"),jQuery(".arm_setup_gift_redirection_url_require").fadeOut())),""==jQuery(".arm_setup_gift_default_redirection").val()?(jQuery(".arm_setup_gift_default_redirection").addClass("arm_required"),jQuery(window.opera?"html":"html, body").animate({scrollTop:jQuery("#arm_setup_gift_default_redirection").offset().top-200},0),_++,jQuery(".arm_redirection_gift_signup_url_selection_require").fadeIn()):(jQuery(".arm_setup_gift_default_redirection").removeClass("arm_required"),jQuery(".arm_redirection_gift_signup_url_selection_require").fadeOut()),""==jQuery(".arm_setup_signup_default_redirection").val()?(jQuery(".arm_setup_signup_default_redirection").addClass("arm_required"),jQuery(window.opera?"html":"html, body").animate({scrollTop:jQuery("#arm_setup_signup_default_redirection").offset().top-200},0),_++,jQuery(".arm_redirection_plan_signup_url_selection_require").fadeIn()):(jQuery(".arm_setup_signup_default_redirection").removeClass("arm_required"),jQuery(".arm_redirection_plan_signup_url_selection_require").fadeOut()),""==jQuery(".arm_setup_change_default_redirection").val()?(jQuery(".arm_setup_change_default_redirection").addClass("arm_required"),jQuery(window.opera?"html":"html, body").animate({scrollTop:jQuery("#arm_setup_change_default_redirection").offset().top-200},0),_++,jQuery(".arm_redirection_plan_signup_url_selection_require").fadeIn()):(jQuery(".arm_setup_change_default_redirection").removeClass("arm_required"),jQuery(".arm_redirection_plan_signup_url_selection_require").fadeOut()),""==jQuery(".arm_setup_renew_default_redirection").val()?(jQuery(".arm_setup_renew_default_redirection").addClass("arm_required"),jQuery(window.opera?"html":"html, body").animate({scrollTop:jQuery("#arm_setup_renew_default_redirection").offset().top-200},0),_++,jQuery(".arm_redirection_plan_signup_url_selection_require").fadeIn()):(jQuery(".arm_setup_renew_default_redirection").removeClass("arm_required"),jQuery(".arm_redirection_plan_signup_url_selection_require").fadeOut()),"common"==n)"page"==o?""==jQuery("#form_action_signup_page").val()?(jQuery("#arm_redirection_signup_settings_page").find("dt").addClass("arm_required"),jQuery(window.opera?"html":"html, body").animate({scrollTop:jQuery("#arm_redirection_signup_settings_page").offset().top-200},0),_++,jQuery(".arm_redirection_signup_page_selection").fadeIn()):(jQuery("#arm_redirection_signup_settings_page").find("dt").removeClass("arm_required"),jQuery(".arm_redirection_signup_page_selection").fadeOut()):"referral"==o?""==jQuery(".arm_signup_redirection_referel").val()?(jQuery(".arm_signup_redirection_referel").addClass("arm_required"),jQuery(window.opera?"html":"html, body").animate({scrollTop:jQuery("#arm_redirection_signup_settings_referral").offset().top-200},0),_++,jQuery(".arm_redirection_signup_referel_selection").fadeIn()):(jQuery(".arm_signup_redirection_referel").removeClass("arm_required"),jQuery(".arm_redirection_signup_referel_selection").fadeOut()):""==jQuery(".arm_signup_redirection_url").val()?(jQuery(".arm_signup_redirection_url").addClass("arm_required"),jQuery(window.opera?"html":"html, body").animate({scrollTop:jQuery("#arm_redirection_signup_settings_url").offset().top-200},0),_++,jQuery(".arm_redirection_signup_url_selection").fadeIn()):(jQuery(".arm_signup_redirection_url").removeClass("arm_required"),jQuery(".arm_redirection_signup_url_selection").fadeOut());else{for(var v=jQuery("#arm_order_signup_conditional_redirection_condition").val(),h=0;h<=v;h++)jQuery("#arm_conditional_redirect_form_id_"+h).length&&("0"==jQuery("#arm_conditional_redirect_form_id_"+h).val()?(jQuery("#arm_signup_conditional_redirection_box"+h).find("dt").addClass("arm_required"),jQuery("#arm_conditional_redirect_form_id_"+h).addClass("arm_required"),jQuery(window.opera?"html":"html, body").animate({scrollTop:jQuery("#arm_signup_conditional_redirection_box"+h).offset().top-200},0),_++,jQuery(".arm_redirection_settings_signup_condition_form_"+h).fadeIn()):(jQuery("#arm_signup_conditional_redirection_box"+h).find("dt").removeClass("arm_required"),jQuery(".arm_redirection_settings_signup_condition_form_"+h).fadeOut())),jQuery("#arm_signup_conditional_redirection_url_"+h).length&&(""==jQuery("#arm_signup_conditional_redirection_url_"+h).val()||"0"==jQuery("#arm_signup_conditional_redirection_url_"+h).val()?(jQuery("#arm_signup_conditional_redirection_url_"+h).addClass("arm_required"),jQuery(window.opera?"html":"html, body").animate({scrollTop:jQuery("#arm_signup_conditional_redirection_box"+h).offset().top-200},0),_++,jQuery(".arm_redirection_settings_signup_condition_url_"+h).fadeIn()):(jQuery("#arm_signup_conditional_redirection_url_"+h).removeClass("arm_required"),jQuery(".arm_redirection_settings_signup_condition_url_"+h).fadeOut()));""==jQuery(".arm_signup_redirection_conditional_redirection").val()?(jQuery(".arm_signup_redirection_conditional_redirection").addClass("arm_required"),jQuery(window.opera?"html":"html, body").animate({scrollTop:jQuery(".arm_signup_conditional_redirection_main_div").offset().top-200},0),_++,jQuery(".arm_redirection_signup_conditional_redirection_selection").fadeIn()):(jQuery(".arm_signup_redirection_conditional_redirection").removeClass("arm_required"),jQuery(".arm_redirection_signup_conditional_redirection_selection").fadeOut())}if("common"==s)"page"==d?""==jQuery("#form_action_edit_profile_page").val()?(jQuery("#arm_redirection_edit_profile_settings_page").find("dt").addClass("arm_required"),jQuery(window.opera?"html":"html, body").animate({scrollTop:jQuery("#arm_redirection_edit_profile_settings_page").offset().top-200},0),_++,jQuery(".arm_redirection_edit_profile_page_selection").fadeIn()):(jQuery("#arm_redirection_edit_profile_settings_page").find("dt").removeClass("arm_required"),jQuery(".arm_redirection_edit_profile_page_selection").fadeOut()):""==jQuery(".arm_edit_profile_redirection_url").val()?(jQuery(".arm_edit_profile_redirection_url").addClass("arm_required"),jQuery(window.opera?"html":"html, body").animate({scrollTop:jQuery("#arm_redirection_edit_profile_settings_url").offset().top-200},0),_++,jQuery(".arm_redirection_edit_profile_url_selection").fadeIn()):(jQuery(".arm_edit_profile_redirection_url").removeClass("arm_required"),jQuery(".arm_redirection_edit_profile_url_selection").fadeOut());else if("formwise"==s){for(var b=jQuery("#arm_order_edit_profile_conditional_redirection_condition").val(),h=0;h<=b;h++)jQuery("#arm_conditional_redirect_form_id_"+h).length&&("0"==jQuery("#arm_conditional_redirect_form_id_"+h).val()?(jQuery("#arm_edit_profile_conditional_redirection_box"+h).find("dt").addClass("arm_required"),jQuery("#arm_conditional_redirect_form_id_"+h).addClass("arm_required"),jQuery(window.opera?"html":"html, body").animate({scrollTop:jQuery("#arm_edit_profile_conditional_redirection_box"+h).offset().top-200},0),_++,jQuery(".arm_redirection_settings_edit_profile_condition_form_"+h).fadeIn()):(jQuery("#arm_edit_profile_conditional_redirection_box"+h).find("dt").removeClass("arm_required"),jQuery(".arm_redirection_settings_edit_profile_condition_form_"+h).fadeOut())),jQuery("#arm_edit_profile_conditional_redirection_url_"+h).length&&(""==jQuery("#arm_edit_profile_conditional_redirection_url_"+h).val()?(jQuery("#arm_edit_profile_conditional_redirection_url_"+h).addClass("arm_required"),jQuery(window.opera?"html":"html, body").animate({scrollTop:jQuery("#arm_edit_profile_conditional_redirection_box"+h).offset().top-200},0),_++,jQuery(".arm_redirection_settings_edit_profile_condition_url_"+h).fadeIn()):(jQuery("#arm_edit_profile_conditional_redirection_url_"+h).removeClass("arm_required"),jQuery(".arm_redirection_settings_edit_profile_condition_url_"+h).fadeOut()));""==jQuery(".arm_edit_profile_redirection_conditional_redirection").val()?(jQuery(".arm_edit_profile_redirection_conditional_redirection").addClass("arm_required"),jQuery(window.opera?"html":"html, body").animate({scrollTop:jQuery(".arm_edit_profile_conditional_redirection_main_div").offset().top-200},0),_++,jQuery(".arm_redirection_edit_profile_conditional_redirection_selection").fadeIn()):(jQuery(".arm_edit_profile_redirection_conditional_redirection").removeClass("arm_required"),jQuery(".arm_redirection_edit_profile_conditional_redirection_selection").fadeOut())}if("fixed"==t)"page"==i?""==jQuery("#arm_login_redirection_page").val()?(jQuery("#arm_redirection_login_settings_page").find("dt").addClass("arm_required"),jQuery(window.opera?"html":"html, body").animate({scrollTop:jQuery("#arm_redirection_login_settings_page").offset().top-200},0),_++,jQuery(".arm_redirection_login_page_selection").fadeIn()):(jQuery("#arm_redirection_login_settings_page").find("dt").removeClass("arm_required"),jQuery(".arm_redirection_login_page_selection").fadeOut()):"url"==i?""==jQuery(".arm_login_redirection_url").val()?(jQuery(".arm_login_redirection_url").addClass("arm_required"),jQuery(window.opera?"html":"html, body").animate({scrollTop:jQuery("#arm_redirection_login_settings_url").offset().top-200},0),_++,jQuery(".arm_redirection_login_url_selection").fadeIn()):(jQuery(".arm_login_redirection_url").removeClass("arm_required"),jQuery(".arm_redirection_login_url_selection").fadeOut()):"referral"==i&&(""==jQuery(".arm_login_redirection_referel").val()?(jQuery(".arm_login_redirection_referel").addClass("arm_required"),jQuery(window.opera?"html":"html, body").animate({scrollTop:jQuery("#arm_redirection_login_settings_referral").offset().top-200},0),_++,jQuery(".arm_redirection_login_referel_selection").fadeIn()):(jQuery(".arm_login_redirection_referel").removeClass("arm_required"),jQuery(".arm_redirection_login_referel_selection").fadeOut()));else{for(var w=jQuery("#arm_order_login_conditional_redirection_condition").val(),h=0;h<=w;h++)jQuery("#arm_conditional_redirect_plan_id_"+h).length&&("0"==jQuery("#arm_conditional_redirect_plan_id_"+h).val()?(jQuery("#arm_condition_redirect_login_plan_td_"+h).find("dt").addClass("arm_required"),jQuery(window.opera?"html":"html, body").animate({scrollTop:jQuery("#arm_login_conditional_redirection_box"+h).offset().top-200},0),_++,jQuery(".arm_redirection_settings_condition_plan_id_"+h).fadeIn()):(jQuery("#arm_condition_redirect_login_plan_td_"+h).find("dt").removeClass("arm_required"),jQuery(".arm_redirection_settings_condition_plan_id_"+h).fadeOut())),jQuery("#arm_login_conditional_redirection_url_"+h).length&&("0"==jQuery("#arm_login_conditional_redirection_url_"+h).val()||""==jQuery("#arm_login_conditional_redirection_url_"+h).val()?(jQuery("#arm_login_conditional_redirection_url_"+h).addClass("arm_required"),jQuery(window.opera?"html":"html, body").animate({scrollTop:jQuery("#arm_login_conditional_redirection_box"+h).offset().top-200},0),_++,jQuery(".arm_redirection_settings_condition_url_"+h).fadeIn()):(jQuery("#arm_login_conditional_redirection_url_"+h).removeClass("arm_required"),jQuery(".arm_redirection_settings_condition_url_"+h).fadeOut()));""==jQuery(".arm_login_redirection_conditional_redirection").val()?(jQuery(".arm_login_redirection_conditional_redirection").addClass("arm_required"),jQuery(window.opera?"html":"html, body").animate({scrollTop:jQuery("#arm_redirection_login_settings_conditional_redirect").offset().top-200},0),_++,jQuery(".arm_redirection_login_conditional_redirection_selection").fadeIn()):(jQuery(".arm_login_redirection_conditional_redirection").removeClass("arm_required"),jQuery(".arm_redirection_login_conditional_redirection_selection").fadeOut())}if(0<_)return!1;r.addClass("arm_already_clicked"),r.attr("disabled","disabled"),jQuery("#arm_loader_img").show(),jQuery.ajax({url:__ARMAJAXURL,type:"POST",data:"action=arm_update_redirect_settings&"+e+"&_wpnonce="+a,success:function(e){var r;e=arm_convert_json_from_pattern(e),"success"==(e=jQuery.parseJSON(e)).type?(r=""!=e.msg?e.msg:saveSettingsSuccess,armToast(r,"success")):(r=""!=e.msg?e.msg:saveSettingsError,armToast(r,"error")),jQuery("#arm_loader_img").hide()}})}return!1}),jQuery(document).on("change",".arm_redirection_settings_edit_profile_radio",function(){var e;jQuery(this).is(":checked")&&(e=jQuery(this).val(),jQuery(".arm_edit_profile_settings_common").hide(),jQuery("#arm_redirection_edit_profile_settings_"+e).show())}),jQuery(document).on("change",".arm_redirection_settings_setup_change_radio",function(){var e;jQuery(this).is(":checked")&&(e=jQuery(this).val(),jQuery(".arm_redirection_settings_setup_change").hide(),jQuery("#arm_redirection_settings_setup_change_"+e).show())}),jQuery(document).on("change",".arm_redirection_settings_setup_renew_radio",function(){var e;jQuery(this).is(":checked")&&(e=jQuery(this).val(),jQuery(".arm_redirection_settings_setup_renew").hide(),jQuery("#arm_redirection_settings_setup_renew_"+e).show())}),jQuery(document).on("change",".arm_redirection_settings_setup_paid_post_radio",function(){var e;jQuery(this).is(":checked")&&(e=jQuery(this).val(),jQuery(".arm_redirection_settings_setup_paid_post").hide(),jQuery("#arm_redirection_settings_setup_paid_post_"+e).show())}),jQuery(document).on("change",".arm_redirection_settings_setup_gift_radio",function(){var e;jQuery(this).is(":checked")&&(e=jQuery(this).val(),jQuery(".arm_redirection_settings_setup_gift").hide(),jQuery("#arm_redirection_settings_setup_gift_"+e).show())}),jQuery(document).on("change",".arm_redirection_settings_edit_profile_redirection_type",function(){var e;jQuery(this).is(":checked")&&(e=jQuery(this).val(),jQuery(".arm_redirection_settings_edit_profile").hide(),jQuery(".arm_redirection_edit_profile_"+e+"_settings").show(),"common"==e&&jQuery(".arm_redirection_settings_edit_profile_radio").trigger("change"))}),jQuery(document).on("change",".arm_rule_item_type_input",function(){var e=jQuery(this).val(),r=(jQuery("#arm_add_drip_type").val(),jQuery(this).attr("data-type"));return jQuery("#arm_drip_rule_items").html("").hide(),"custom_content"==e?(jQuery(".arm_drip_custom_content_opts").show(),jQuery(".arm_drip_post_type_opts").hide(),jQuery("#arm_drip_rule_items_input").removeAttr("required"),jQuery(".arm_drip_enable_post_type_opts").addClass("hidden_section"),jQuery(".arm_drip_rule_enable_opts").is(":checked")?(jQuery(".arm_drip_rule_enable_opts").prop("checked",!1),jQuery(".arm_drip_enable_show_before_subsription").removeClass("hidden_section")):jQuery(".arm_drip_enable_show_before_subsription").addClass("hidden_section"),jQuery('ul[data-id="arm_add_drip_type"] li[data-value="post_publish"]').remove(),jQuery('ul[data-id="arm_add_drip_type"] li[data-value="post_modify"]').remove()):(jQuery(".arm_drip_custom_content_opts").hide(),jQuery(".arm_drip_post_type_opts").show(),jQuery("#arm_drip_rule_items_input").attr("required","required"),jQuery(".arm_rule_item_type_text").text(r),jQuery(".arm_drip_enable_post_type_opts").removeClass("hidden_section"),jQuery(".arm_drip_rule_enable_type_text").text(r),jQuery(".arm_drip_rule_enable_opts").is(":checked")?jQuery(".arm_drip_enable_type_options_container").removeClass("hidden_section"):jQuery(".arm_drip_enable_type_options_container").addClass("hidden_section"),0==jQuery('ul[data-id="arm_add_drip_type"] li[data-value="post_publish"]').length&&jQuery('ul[data-id="arm_add_drip_type"]').append('<li data-label="'+Post_Publish+'" data-value="post_publish">'+Post_Publish+"</li>"),0==jQuery('ul[data-id="arm_add_drip_type"] li[data-value="post_modify"]').length&&jQuery('ul[data-id="arm_add_drip_type"]').append('<li data-label="'+Post_Modify+'" data-value="post_modify">'+Post_Modify+"</li>")),!1}),jQuery(document).on("change",".arm_drip_rule_enable_opts",function(){jQuery(this).val();var e=jQuery(this).parents(".arm_drip_enable_post_type_opts");return jQuery(this).is(":checked")?e.find(".arm_drip_enable_type_options_container").removeClass("hidden_section"):e.find(".arm_drip_enable_type_options_container").addClass("hidden_section"),!1}),jQuery(document).on("change","#arm_drip_rule_post_types",function(){jQuery("#arm_drip_rule_post_types option").removeAttr("disabled"),jQuery("#arm_drip_rule_post_types").trigger("chosen:updated"),setTimeout(function(){(arm_drip_rule_post_type=jQuery("#arm_drip_rule_post_types").val()).forEach(function(e){(0==e?jQuery("#arm_drip_rule_post_types option").not(":first-child"):jQuery("#arm_drip_rule_post_types option:first-child")).attr("disabled","true")}),jQuery("#arm_drip_rule_post_types").trigger("chosen:updated")},5)}),jQuery(document).on("click","#arm_add_display_member_field",function(e){var r=jQuery(this).attr("data-code");jQuery(".display_member_add_field_input[id='"+r+"']").focus()}),jQuery(document).on("click","#arm_edit_display_member_field",function(e){var r=jQuery(this).attr("data-code");jQuery(".display_member_field_input[id='"+r+"']").focus()}),jQuery(document).on("click",".arm_remove_default_cover_photo_wrapper:not(.arm_card_logo_remove):not(.arm_card_background_remove):not(.arm_stripe_popup_icon_remove):not(.arm_card_icon_remove)",function(){jQuery("#armTempEditFileUpload_hidden").val(DEFAULT_COVER),jQuery(this).hide(),jQuery(".arm_default_cover_photo_wrapper").show(),jQuery(".arm_profile_picture_block.armCoverPhoto").css("background-image","url("+DEFAULT_COVER+")"),jQuery(".arm_profile_picture_block.armCoverPhoto").css("background-repeat","no-repeat"),jQuery(".arm_profile_picture_block.armCoverPhoto").css("background-position","center center")}),jQuery(document).on("change",".arm_user_plan_change_input_get_cycle.arm_add_edit_user_plan_change_input",function(e){var r=jQuery(this).val(),a=jQuery(this).attr("data-manage-plan-grid"),_=jQuery('input[name="arm_wp_nonce"]').val();jQuery(".arm_plan_start_date_box").css("display","inline-block"),""!=r&&void 0!==r&&jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_manage_plan_get_cycle&plan_id="+r+"&arm_manage_plan_grid="+a+"&_wpnonce="+_,success:function(e){e=arm_convert_json_from_pattern(e),"success"==(e=jQuery.parseJSON(e)).type?(jQuery(".arm_add_member_page").find("#arm_user_plan_ul .arm_user_plan_li_0 .arm_subscription_plan_cycle_wrapper").html(e.cycle_label_html),jQuery(".arm_add_member_page").find(".arm_choose_payment_cycle_label").html(e.cycle_label_html),jQuery(".arm_add_member_page").find(".arm_subscription_plan_cycle_label_wrapper").html(e.cycle_label_html),jQuery(".arm_add_member_page").find(".arm_add_plan_filter_label").html(e.cycle_label_html),jQuery(".arm_add_member_page").find(".arm_selected_plan_cycle").html(e.content),jQuery(".arm_add_member_page").find(".arm_selected_plan_cycle").show(),jQuery(".arm_add_member_page").find(".arm_selected_plan_cycle").css("display","flex"),jQuery(".arm_add_member_page").find(".arm_membership_plan_section").hasClass("arm_width_40_pct")||jQuery(".arm_add_member_page").find(".arm_membership_plan_section").addClass("arm_width_40_pct"),jQuery(".arm_add_member_page").find(".arm_plan_start_date_box").hasClass("arm_width_40_pct")||jQuery(".arm_add_member_page").find(".arm_plan_start_date_box").addClass("arm_width_40_pct"),jQuery(".arm_add_member_page").find("#arm_user_plan_ul .arm_user_plan_li_0").addClass("arm_plan_cycle_active"),jQuery(".arm_add_member_page").find("#arm_user_plan_ul .arm_user_plan_li_0 .arm_subscription_label .arm_subscription_plan_wrapper").addClass("arm_cycle_active"),arm_selectbox_init()):(jQuery(".arm_add_member_page").find("#arm_user_plan_ul .arm_user_plan_li_0").find(".arm_subscription_plan_cycle_wrapper").html(""),jQuery(".arm_add_member_page").find(".arm_selected_plan_cycle").html(""),jQuery(".arm_add_member_page").find(".arm_selected_plan_cycle").hide(),jQuery(".arm_add_member_page").find("#arm_user_plan_ul .arm_user_plan_li_0").removeClass("arm_plan_cycle_active"),jQuery(".arm_add_member_page").find("#arm_user_plan_ul .arm_user_plan_li_0 .arm_subscription_label .arm_subscription_plan_wrapper").removeClass("arm_cycle_active"),jQuery(".arm_add_member_page").find(".arm_membership_plan_section").removeClass("arm_width_40_pct"),jQuery(".arm_add_member_page").find(".arm_plan_start_date_box").removeClass("arm_width_40_pct"))}})}),jQuery(document).on("change",".arm_member_manage_plan_detail_popup .arm_user_plan_change_input_get_cycle",function(){var e,r=jQuery(this).val(),a=jQuery('input[name="arm_wp_nonce"]').val();jQuery(".arm_plan_start_date_box").css("display","inline-block"),""!=r&&void 0!==r&&(e=jQuery(this).attr("data-manage-plan-grid"),jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_manage_plan_get_cycle&plan_id="+r+"&arm_manage_plan_grid="+e+"&_wpnonce="+a,success:function(e){e=arm_convert_json_from_pattern(e),"success"==(e=jQuery.parseJSON(e)).type?(jQuery(".arm_member_manage_plan_detail_popup ").find("#arm_user_plan_ul .arm_user_plan_li_0 .arm_subscription_plan_cycle_wrapper").html(e.cycle_label_html),jQuery(".arm_member_manage_plan_detail_popup ").find(".arm_choose_payment_cycle_label").html(e.cycle_label_html),jQuery(".arm_member_manage_plan_detail_popup ").find(".arm_subscription_plan_cycle_label_wrapper").html(e.cycle_label_html),jQuery(".arm_member_manage_plan_detail_popup ").find(".arm_add_plan_filter_label").html(e.cycle_label_html),jQuery(".arm_member_manage_plan_detail_popup ").find(".arm_selected_plan_cycle").html(e.content),jQuery(".arm_member_manage_plan_detail_popup ").find(".arm_selected_plan_cycle").show(),jQuery(".arm_member_manage_plan_detail_popup ").find(".arm_membership_plan_section").hasClass("arm_width_40_pct")||jQuery(".arm_member_manage_plan_detail_popup ").find(".arm_membership_plan_section").addClass("arm_width_40_pct"),jQuery(".arm_member_manage_plan_detail_popup ").find(".arm_plan_start_date_box").hasClass("arm_width_40_pct")||jQuery(".arm_member_manage_plan_detail_popup ").find(".arm_plan_start_date_box").addClass("arm_width_40_pct"),jQuery(".arm_member_manage_plan_detail_popup ").find("#arm_user_plan_ul .arm_user_plan_li_0").addClass("arm_plan_cycle_active"),jQuery(".arm_member_manage_plan_detail_popup ").find("#arm_user_plan_ul .arm_user_plan_li_0 .arm_subscription_label .arm_subscription_plan_wrapper").addClass("arm_cycle_active"),arm_selectbox_init()):(jQuery(".arm_member_manage_plan_detail_popup ").find("#arm_user_plan_ul .arm_user_plan_li_0 .arm_subscription_plan_cycle_wrapper").html(""),jQuery(".arm_member_manage_plan_detail_popup ").find(".arm_selected_plan_cycle").html(""),jQuery(".arm_member_manage_plan_detail_popup ").find(".arm_selected_plan_cycle").hide(),jQuery(".arm_member_manage_plan_detail_popup ").find("#arm_user_plan_ul .arm_user_plan_li_0").removeClass("arm_plan_cycle_active"),jQuery(".arm_member_manage_plan_detail_popup").find("#arm_user_plan_ul .arm_user_plan_li_0 .arm_subscription_label .arm_subscription_plan_wrapper").removeClass("arm_cycle_active"),jQuery(".arm_member_manage_plan_detail_popup").find(".arm_membership_plan_section").removeClass("arm_width_40_pct"),jQuery(".arm_member_manage_plan_detail_popup").find(".arm_plan_start_date_box").removeClass("arm_width_40_pct"))}}))}),jQuery(document).on("change",".arm_add_new_subscription_wrapper .arm_user_plan_change_input_get_cycle",function(){var e,r=jQuery(this).val(),a=jQuery('input[name="arm_wp_nonce"]').val();jQuery(".arm_plan_start_date_box").css("display","inline-block"),""!=r&&void 0!==r&&(e=jQuery(this).attr("data-manage-plan-grid"),jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_manage_plan_get_cycle&plan_id="+r+"&arm_manage_plan_grid="+e+"&_wpnonce="+a,success:function(e){e=arm_convert_json_from_pattern(e),"success"==(e=jQuery.parseJSON(e)).type?(jQuery(".arm_add_new_subscription_wrapper ").find("#arm_user_plan_ul .arm_user_plan_li_0 .arm_subscription_plan_cycle_wrapper").html(e.cycle_label_html),jQuery(".arm_add_new_subscription_wrapper ").find(".arm_choose_payment_cycle_label").html(e.cycle_label_html),jQuery(".arm_add_new_subscription_wrapper ").find(".arm_subscription_plan_cycle_label_wrapper").html(e.cycle_label_html),jQuery(".arm_add_new_subscription_wrapper ").find(".arm_add_plan_filter_label").html(e.cycle_label_html),jQuery(".arm_add_new_subscription_wrapper ").find(".arm_selected_plan_cycle").html(e.content),""!=e.content?jQuery(".arm_add_new_subscription_wrapper ").find(".arm_selected_plan_cycle").show():(jQuery(".arm_add_new_subscription_wrapper ").find(".arm_selected_plan_cycle").html(""),jQuery(".arm_add_new_subscription_wrapper ").find(".arm_selected_plan_cycle").hide()),jQuery(".arm_add_new_subscription_wrapper ").find(".arm_membership_plan_section").hasClass("arm_width_40_pct")||jQuery(".arm_add_new_subscription_wrapper ").find(".arm_membership_plan_section").addClass("arm_width_40_pct"),jQuery(".arm_add_new_subscription_wrapper ").find(".arm_plan_start_date_box").hasClass("arm_width_40_pct")||jQuery(".arm_add_new_subscription_wrapper ").find(".arm_plan_start_date_box").addClass("arm_width_40_pct"),jQuery(".arm_add_new_subscription_wrapper ").find("#arm_user_plan_ul .arm_user_plan_li_0").addClass("arm_plan_cycle_active"),jQuery(".arm_add_new_subscription_wrapper ").find("#arm_user_plan_ul .arm_user_plan_li_0 .arm_subscription_label .arm_subscription_plan_wrapper").addClass("arm_cycle_active"),arm_selectbox_init()):(jQuery(".arm_add_new_subscription_wrapper ").find("#arm_user_plan_ul .arm_user_plan_li_0 .arm_subscription_plan_cycle_wrapper").html(""),jQuery(".arm_add_new_subscription_wrapper ").find(".arm_selected_plan_cycle").html(""),jQuery(".arm_add_new_subscription_wrapper ").find(".arm_selected_plan_cycle").hide(),jQuery(".arm_add_new_subscription_wrapper ").find("#arm_user_plan_ul .arm_user_plan_li_0").removeClass("arm_plan_cycle_active"),jQuery(".arm_add_new_subscription_wrapper").find("#arm_user_plan_ul .arm_user_plan_li_0 .arm_subscription_label .arm_subscription_plan_wrapper").removeClass("arm_cycle_active"),jQuery(".arm_add_new_subscription_wrapper").find(".arm_membership_plan_section").removeClass("arm_width_40_pct"),jQuery(".arm_add_new_subscription_wrapper").find(".arm_plan_start_date_box").removeClass("arm_width_40_pct"))}}))}),jQuery(document).on("change",".arm_member_paid_post_popup .arm_user_plan_change_input_get_cycle",function(){var e,r=jQuery(this).val(),a=jQuery('input[name="arm_wp_nonce"]').val();jQuery(".arm_plan_start_date_box").css("display","inline-block"),""!=r&&void 0!==r&&(e=jQuery(this).attr("data-manage-plan-grid"),jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_manage_plan_get_cycle&plan_id="+r+"&arm_manage_plan_grid="+e+"&_wpnonce="+a,success:function(e){e=arm_convert_json_from_pattern(e),"success"==(e=jQuery.parseJSON(e)).type?(jQuery(".arm_member_paid_post_popup ").find("#arm_user_plan_ul .arm_user_plan_li_0 .arm_subscription_plan_cycle_wrapper").html(e.cycle_label_html),jQuery(".arm_member_paid_post_popup ").find(".arm_choose_payment_cycle_label").html(e.cycle_label_html),jQuery(".arm_member_paid_post_popup ").find(".arm_subscription_plan_cycle_label_wrapper").html(e.cycle_label_html),jQuery(".arm_member_paid_post_popup ").find(".arm_add_plan_filter_label").html(e.cycle_label_html),jQuery(".arm_member_paid_post_popup ").find(".arm_selected_plan_cycle").html(e.content),jQuery(".arm_member_paid_post_popup ").find(".arm_selected_plan_cycle").show(),jQuery(".arm_member_paid_post_popup ").find(".arm_membership_plan_section").hasClass("arm_width_40_pct")||jQuery(".arm_member_paid_post_popup ").find(".arm_membership_plan_section").addClass("arm_width_40_pct"),jQuery(".arm_member_paid_post_popup ").find(".arm_plan_start_date_box").hasClass("arm_width_40_pct")||jQuery(".arm_member_paid_post_popup ").find(".arm_plan_start_date_box").addClass("arm_width_40_pct"),jQuery(".arm_member_paid_post_popup ").find("#arm_user_plan_ul .arm_user_plan_li_0").addClass("arm_plan_cycle_active"),jQuery(".arm_member_paid_post_popup ").find("#arm_user_plan_ul .arm_user_plan_li_0 .arm_subscription_label .arm_subscription_plan_wrapper").addClass("arm_cycle_active"),arm_selectbox_init()):(jQuery(".arm_member_paid_post_popup ").find("#arm_user_plan_ul .arm_user_plan_li_0 .arm_subscription_plan_cycle_wrapper").html(""),jQuery(".arm_member_paid_post_popup ").find(".arm_selected_plan_cycle").html(""),jQuery(".arm_member_paid_post_popup ").find(".arm_selected_plan_cycle").hide(),jQuery(".arm_member_paid_post_popup ").find("#arm_user_plan_ul .arm_user_plan_li_0").removeClass("arm_plan_cycle_active"),jQuery(".arm_member_paid_post_popup").find("#arm_user_plan_ul .arm_user_plan_li_0 .arm_subscription_label .arm_subscription_plan_wrapper").removeClass("arm_cycle_active"),jQuery(".arm_member_paid_post_popup").find(".arm_membership_plan_section").removeClass("arm_width_40_pct"),jQuery(".arm_member_paid_post_popup").find(".arm_plan_start_date_box").removeClass("arm_width_40_pct"))}}))}),jQuery(document).on("change",".arm_mm_user_plan_change_input_get_cycle",function(){var e=jQuery(this).val(),r=jQuery(this).attr("data-arm-plan-count"),a=jQuery('input[name="arm_wp_nonce"]').val();return""!=e&&void 0!==e&&jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_manage_plan_get_cycle&plan_id="+e+"&arm_manage_plan_grid=0&_wpnonce="+a,success:function(e){e=arm_convert_json_from_pattern(e),"success"==(e=jQuery.parseJSON(e)).type?(jQuery("#arm_user_plan_ul .arm_user_plan_li_"+r).hasClass("arm_plan_cycle_active")||jQuery("#arm_user_plan_ul .arm_user_plan_li_"+r).addClass("arm_plan_cycle_active"),jQuery("#arm_user_plan_ul").find(".arm_selected_plan_cycle_"+r).html(e.content),jQuery("#arm_user_plan_ul .arm_user_plan_li_"+r).find(".arm_subscription_plan_cycle_wrapper").html(e.cycle_label_html),jQuery(".arm_choose_payment_cycle_label").html(e.cycle_label_html),jQuery(".arm_subscription_plan_cycle_label_wrapper").html(e.cycle_label_html),jQuery(".arm_add_plan_filter_label").html(e.cycle_label_html),jQuery("#arm_user_plan_ul").find(".arm_selected_plan_cycle_"+r).show(),jQuery("#arm_user_plan_ul .arm_user_plan_li_"+r+" .arm_subscription_label .arm_subscription_plan_wrapper").addClass("arm_cycle_active"),arm_selectbox_init()):(jQuery("#arm_user_plan_ul .arm_user_plan_li_"+r).removeClass("arm_plan_cycle_active"),jQuery("#arm_user_plan_ul .arm_user_plan_li_"+r).find(".arm_subscription_plan_cycle_wrapper").html(""),jQuery("#arm_user_plan_ul").find(".arm_selected_plan_cycle_"+r).html(""),jQuery("#arm_user_plan_ul").find(".arm_selected_plan_cycle_"+r).hide(),jQuery("#arm_user_plan_ul .arm_user_plan_li_"+r+" .arm_subscription_label .arm_subscription_plan_wrapper").removeClass("arm_cycle_active"))}}),!1}),jQuery(document).on("change",".arm_mm_user_post_change_input_get_cycle",function(){var e=jQuery(this).val(),r=jQuery(this).attr("data-arm-plan-count"),a=jQuery('input[name="arm_wp_nonce"]').val();return""!=e&&void 0!==e&&jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_manage_plan_get_cycle&plan_id="+e+"&arm_manage_plan_grid=0&_wpnonce="+a,success:function(e){e=arm_convert_json_from_pattern(e),"success"==(e=jQuery.parseJSON(e)).type?(jQuery("#arm_user_plan_ul2 .arm_user_plan_li_"+r).hasClass("arm_plan_cycle_active")||jQuery("#arm_user_plan_ul2 .arm_user_plan_li_"+r).addClass("arm_plan_cycle_active"),jQuery("#arm_user_plan_ul2").find(".arm_selected_plan_cycle_"+r).html(e.content),jQuery("#arm_user_plan_ul2").find(".arm_selected_plan_cycle_"+r).css("display","flex"),jQuery("#arm_user_plan_ul2 .arm_user_plan_li_"+r).find(".arm_subscription_plan_cycle_wrapper").html(e.cycle_label_html),jQuery(".arm_choose_payment_cycle_label").html(e.cycle_label_html),jQuery(".arm_subscription_plan_cycle_label_wrapper").html(e.cycle_label_html),jQuery(".arm_add_plan_filter_label").html(e.cycle_label_html),jQuery("#arm_user_plan_ul2 .arm_user_plan_li_"+r+" .arm_subscription_label .arm_subscription_paid_post_wrapper").addClass("arm_cycle_active"),arm_selectbox_init()):(jQuery("#arm_user_plan_ul2 .arm_user_plan_li_"+r).removeClass("arm_plan_cycle_active"),jQuery("#arm_user_plan_ul2 .arm_user_plan_li_"+r).find(".arm_subscription_plan_cycle_wrapper").html(""),jQuery("#arm_user_plan_ul2").find(".arm_selected_plan_cycle_"+r).html(""),jQuery("#arm_user_plan_ul2").find(".arm_selected_plan_cycle_"+r).hide(),jQuery("#arm_user_plan_ul2 .arm_user_plan_li_"+r+" .arm_subscription_label .arm_subscription_paid_post_wrapper").removeClass("arm_cycle_active"))}}),!1}),jQuery(document).on("change","#arm_reset_login_attempts_users",function(){jQuery("#arm_reset_login_attempts_users option").removeAttr("disabled"),jQuery("#arm_reset_login_attempts_users").trigger("chosen:updated"),setTimeout(function(){null!=(arm_user_id_type=jQuery("#arm_reset_login_attempts_users").val())&&arm_user_id_type.forEach(function(e){("all"==e?jQuery("#arm_reset_login_attempts_users option").not(":first-child"):jQuery("#arm_reset_login_attempts_users option:first-child")).attr("disabled","true")}),jQuery("#arm_reset_login_attempts_users").trigger("chosen:updated")},5)}),jQuery(document).on("change","#arm_opt_ins_cl_mode",function(e){return e.stopPropagation(),jQuery(this).is(":checked")?jQuery(".arm_opt_ins_cl_form_fields_wrapper").show():jQuery(".arm_opt_ins_cl_form_fields_wrapper").hide(),!1}),jQuery(document).on("change",".arm_tax_type_radio",function(e){return"common_tax"==jQuery(this).val()?(jQuery(".arm_enable_country_tax").addClass("hidden_section"),jQuery(".arm_enable_common_tax").removeClass("hidden_section")):(jQuery(".arm_enable_common_tax").addClass("hidden_section"),jQuery(".arm_enable_country_tax").removeClass("hidden_section")),jQuery("#arm_selected_tax_type").val(jQuery(this).val()),!1}),jQuery(document).on("change","#arm_country_tax_field",function(){var t=ARM_COUNTRY_DEFAULT_OPT,e="<li data-label='"+t+"' data-value=''>"+t+"</li>";""!=jQuery(this).val()?(jQuery("#arm_country_tax_loader").removeClass("hidden_section"),jQuery.ajax({type:"GET",url:__ARMAJAXURL,data:"action=get_field_option&meta="+jQuery(this).val(),success:function(e){if(e=arm_convert_json_from_pattern(e),1<=(e=jQuery.parseJSON(e)).length)for(var r="",a=0;a<e.length;a++){var _=label=e[a];0<=e[a].indexOf(":")&&(label=e[a].substr(0,e[a].indexOf(":")),_=e[a].substr(e[a].indexOf(":")+1,e[a].length)),r+="<li data-label='"+label+"' data-value='"+_+"'>"+label+"</li>"}jQuery(".arm_tax_country_list_dl dd ul").html("").html(r),t=jQuery(".arm_tax_country_list_dl:first").find("li:first").text(),jQuery(".arm_country_tax_field_inpt").val(jQuery(".arm_tax_country_list_dl:first").find("li:first").attr("data-value")),jQuery(".arm_tax_country_list_dl dt span").text(t),jQuery(".arm_tax_country_list_dl dt .arm_autocomplete").val(t),jQuery("#arm_country_tax_loader").addClass("hidden_section")}})):(jQuery(".arm_tax_country_list_dl dd ul").html("").html(e),jQuery(".arm_country_tax_field_inpt").val(""),jQuery(".arm_tax_country_list_dl dt span").text(t),jQuery(".arm_tax_country_list_dl dt .arm_autocomplete").val(t))}),jQuery(document).on("click",".arm_country_tax_plus_icon",function(e){e.stopPropagation();var e=jQuery(".arm_country_tr:last"),r=parseInt(e.attr("data-ttl-tr"))+1;return e.after(jQuery(".arm_country_tr:first").prop("outerHTML")),(e=jQuery(".arm_country_tr:last")).find(".arm_country_tax_field_inpt").attr("id","arm_country_tax_field_list_"+r),e.find(".arm_tax_country_list_dl ul").attr("data-id","arm_country_tax_field_list_"+r),e.find(".arm_country_tax_unit_inpt").attr("id","arm_country_tax_unit_"+r),e.find(".arm_tax_country_unit_dl ul").attr("data-id","arm_country_tax_unit_"+r),e.attr("data-ttl-tr",r),!1}),jQuery(document).on("click",".arm_country_tax_minus_icon",function(e){return e.stopPropagation(),1==jQuery(".arm_tax_country_list_wrapper").length?alert(EMESSAGE):(jQuery(this).parents(".arm_country_tr").remove(),jQuery(".tipso_bubble").remove()),!1}),jQuery(document).on("click","#arm_add_membership_card",function(){jQuery("#arm_add_membership_card_template_form")[0].reset(),jQuery(".arm_membership_template_belt").addClass("hidden_section"),jQuery(".arm_member_profile_action_belt").removeClass("hidden_section"),jQuery(".arm_member_profile_action_belt .arm_membership_card").removeClass("hidden_section"),jQuery(".arm_member_profile_action_belt .arm_membership_directory").hasClass("hidden_section")||jQuery(".arm_member_profile_action_belt .arm_membership_directory").addClass("hidden_section"),jQuery(".arm_profiles_directories_content").removeClass("arm_visible"),jQuery(".arm_add_membership_card_templates").addClass("arm_visible");var e=jQuery(".arm_visible").outerHeight();jQuery(".arm_profiles_directories_templates_container").css("height",e),jQuery(".arm_card_selecred_img img").attr("src","").css("display","none"),jQuery(".arm_add_temp_preview_btn").addClass("arm_membership_card_prv_btn"),jQuery(".arm_add_temp_preview_btn").attr("data-type","arm_card"),jQuery(".arm_add_template_submit").addClass("arm_add_membership_card_template_submit").attr("data-type","arm_card"),jQuery(window.opera?"html":"html, body").animate({scrollTop:jQuery(".arm_member_profile_action_belt").offset().top-32},0),jQuery(".arm_sticky_bottom_belt").show()}),jQuery(document).on("click",".arm_add_membership_card_template_submit",function(e){e.stopPropagation();var r,a,_,t=jQuery("#arm_add_membership_card_template_form"),e=jQuery('input[name="arm_wp_nonce"]').val();return t.hasClass("arm_already_clicked")||(t.addClass("arm_already_clicked").attr("disabled","disabled"),t.find("input[type=submit], button[type=submit]").addClass("arm_already_clicked").attr("disabled","disabled"),r=jQuery(this).attr("data-type"),a=jQuery("input[name='membership_card_template_options[arm_card]']:checked").val(),_=jQuery("#arm_add_membership_card_template_form :input").serialize(),jQuery.ajax({type:"POST",url:__ARMAJAXURL,async:!1,data:"action=arm_add_membership_card_template&temp_type="+r+"&slug="+a+"&"+_+"&_wpnonce="+e,success:function(e){e=arm_convert_json_from_pattern(e),"success"==(e=jQuery.parseJSON(e)).type?(jQuery(this).removeClass(".arm_add_membership_card_template_submit"),location.href=e.redirect_to):(e=""!=e.message?e.message:addTemplateError,armToast(e,"error"),t.removeClass("arm_already_clicked").removeAttr("disabled","disabled"),t.find("input[type=submit], button[type=submit]").removeClass("arm_already_clicked").removeAttr("disabled","disabled"))}})),!1}),jQuery(document).on("change",".arm_membership_catd_temp_type_radio",function(){jQuery(".arm_membership_card_opt_lbl").removeClass("arm_active_temp"),jQuery(this).parents(".arm_membership_card_opt_lbl").addClass("arm_active_temp");var e=jQuery(this).attr("data-card_type"),r="#ffffff",a="#005AEE",_="#1A2538",t="#2F3F5C",i="Roboto",n="Roboto",o="Roboto",s="30",d="16",m="16";"membershipcard2"==jQuery(this).val()?(a="#2b1e42",t=_=r="#ffffff",o=n=i="Raleway",s="24",m=d="16"):"membershipcard3"==jQuery(this).val()&&(a="#4cabe5",t=_=r="#003058",o=n=i="Roboto",s="20",m=d="14"),jQuery("#arm_title_color_"+e).val(r),jQuery("#arm_bg_color_"+e).val(a),jQuery("#arm_label_color_"+e).val(_),jQuery("#arm_font_color_"+e).val(t),jQuery("#arm_title_color_"+e).colpickSetColor(r),jQuery("#arm_bg_color_"+e).colpickSetColor(a),jQuery("#arm_label_color_"+e).colpickSetColor(_),jQuery("#arm_font_color_"+e).colpickSetColor(t),jQuery("#arm_template_font_family_title_font_"+e).val(i),jQuery("#arm_template_font_size_title_font_"+e).val(s),jQuery("#arm_template_font_family_label_font_"+e).val(n),jQuery("#arm_template_font_size_label_font_"+e).val(d),jQuery("#arm_template_font_family_content_font_"+e).val(o),jQuery("#arm_template_font_size_content_font_"+e).val(m),arm_selectbox_init()}),jQuery(document).on("click",".arm_membership_card_template_edit_link",function(){jQuery(".arm_edit_membership_card_templates .popup_wrapper_inner").html(""),jQuery(".arm_edit_membership_card_templates").css("height","100vh"),arm_popup_initialize(".arm_edit_membership_card_templates",160,0,"slideDown");var e=jQuery(this).attr("data-id"),r=jQuery('input[name="arm_wp_nonce"]').val();if(jQuery(".arm_loading").fadeIn("slow"),0!=e)return jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_membership_card_template_edit_popup&temp_id="+e+"&_wpnonce="+r,success:function(e){var r;e=arm_convert_json_from_pattern(e),"success"==(e=jQuery.parseJSON(e)).status?(jQuery(".arm_loading").fadeOut(),jQuery(".arm_edit_membership_card_templates .popup_wrapper_inner").html(e.popup),jQuery(".popup_content_html").html("").html(e.popup_content),arm_selectbox_init(),armProfileFieldsSortableInit(),setTimeout(function(){initArmFileUpload()},300),"undefined"!=typeof CodeMirror&&(r=jQuery(".arm_edit_membership_card_templates .arm_codemirror_field"),CodeMirror.fromTextArea(r[0],{mode:"css",lineNumbers:!0,autoRefresh:!0}).on("change",function(e){e=e.getValue();r.val(e)}))):(e=""!=e.message?e.message:noTemplateError,armToast(e,"error")),arm_js_init(),arm_colpick_init()}}),!1}),jQuery(document).on("click",".arm_pdtemp_edit_close_btn",function(){jQuery(".arm_edit_membership_card_templates").animate({height:0},250),setTimeout(function(){jQuery(".arm_edit_membership_card_templates").bPopup().close(),jQuery("body").css("overflow","auto")},250)}),jQuery(document).on("change","input[name='membership_card_template_options[show_badges]']",function(){jQuery(this).prop("checked")?jQuery(".arm_membership_card_badge_label").removeClass("hidden_section"):jQuery(".arm_membership_card_badge_label").addClass("hidden_section")}),jQuery(document).on("change","input[name='membership_card_template_options[display_avatar]']",function(){jQuery(this).prop("checked")&&"0"==jQuery(this).val()?jQuery(".arm_membership_card_display_avatar_label").removeClass("hidden_section"):jQuery(".arm_membership_card_display_avatar_label").addClass("hidden_section")}),jQuery(document).on("change","input[name='membership_card_template_options[show_joining]']",function(){jQuery(this).prop("checked")?jQuery(".arm_membership_card_join_date_label").removeClass("hidden_section"):jQuery(".arm_membership_card_join_date_label").addClass("hidden_section")}),jQuery(document).on("change","input[name='membership_card_template_options[expiry_date]']",function(){jQuery(this).prop("checked")?jQuery(".arm_membership_card_expiry_date_label").removeClass("hidden_section"):jQuery(".arm_membership_card_expiry_date_label").addClass("hidden_section")}),jQuery(document).on("change","input[name='membership_card_template_options[user_id]']",function(){jQuery(this).prop("checked")?jQuery(".arm_membership_card_user_id_label").removeClass("hidden_section"):jQuery(".arm_membership_card_user_id_label").addClass("hidden_section")}),jQuery(document).on("click","#arm_mctemp_edit_submit",function(e){e.stopPropagation();var r,a=jQuery("#arm_membership_card_template_edit_form"),e=jQuery('input[name="arm_wp_nonce"]').val();return a.hasClass("arm_already_clicked")||(a.addClass("arm_already_clicked").attr("disabled","disabled"),a.find("input[type=submit], button[type=submit]").addClass("arm_already_clicked").attr("disabled","disabled"),a.find("input[name='membership_card_template_options[arm_card]']:checked").val(),r=jQuery("#arm_membership_card_template_edit_form :input").serialize(),jQuery.ajax({type:"POST",url:__ARMAJAXURL,async:!1,data:"action=arm_edit_membership_card&"+r+"&_wpnonce="+e,success:function(e){var r;e=arm_convert_json_from_pattern(e),"success"==(e=jQuery.parseJSON(e)).type?(jQuery(".arm_edit_membership_card_templates").bPopup().close(),setTimeout(function(){jQuery("body").css("overflow","auto")},50),r=""!=e.message?e.message:"",armToast(r,"success")):(r=""!=e.message?e.message:addTemplateError,armToast(r,"error"),a.removeClass("arm_already_clicked").removeAttr("disabled","disabled"),a.find("input[type=submit], button[type=submit]").removeClass("arm_already_clicked").removeAttr("disabled","disabled"))}})),!1}),jQuery(document).on("click",".arm_membership_card_prv_btn",function(){var e=jQuery("#arm_add_membership_card_template_form"),r=e.find(".arm_membership_card_opt_lbl.arm_active_temp .arm_membership_catd_temp_type_radio").val(),a=jQuery('input[name="arm_wp_nonce"]').val(),_=jQuery("#arm_temp_display_avatar_add:checked").val(),t={},i=(jQuery(".arm_card_fields_checkbox").each(function(){var e;jQuery(this).is(":checked")&&(e=jQuery(this).val(),t[e]=e)}),{});return jQuery(".display_member_field_input").each(function(){var e=jQuery(this).val(),r=(r=jQuery(this).attr("id")).replace("_label","");i[r]=e}),""!=r&&void 0!==r&&(jQuery(".arm_loading").fadeIn("slow"),e={color:{title_color:jQuery("#arm_title_color_add").val(),bg_color:jQuery("#arm_bg_color_add").val(),label_color:jQuery("#arm_label_color_add").val(),font_color:jQuery("#arm_font_color_add").val()},font:{title_font:{font_family:jQuery("#arm_template_font_family_title_font_add").val(),font_size:jQuery("#arm_template_font_size_title_font_add").val(),font_bold:jQuery("#arm_template_font_bold_title_font_add").val(),font_italic:jQuery("#arm_template_font_italic_title_font_add").val(),font_decoration:jQuery("#arm_mcard_font_decoration_title_font_add").val()},label_font:{font_family:jQuery("#arm_template_font_family_label_font_add").val(),font_size:jQuery("#arm_template_font_size_label_font_add").val(),font_bold:jQuery("#arm_template_font_bold_label_font_add").val(),font_italic:jQuery("#arm_template_font_italic_label_font_add").val(),font_decoration:jQuery("#arm_mcard_font_decoration_label_font_add").val()},content_font:{font_family:jQuery("#arm_template_font_family_content_font_add").val(),font_size:jQuery("#arm_template_font_size_content_font_add").val(),font_bold:jQuery("#arm_template_font_bold_content_font_add").val(),font_italic:jQuery("#arm_template_font_italic_content_font_add").val(),font_decoration:jQuery("#arm_mcard_font_decoration_content_font_add").val()}},other_opts:{card_plan:e.find("#arm_membersip_card_plans").val(),custom_css:e.find("textarea[name='membership_card_template_options[custom_css]']").val(),company_logo:e.find(".arm_card_logo_file_url").val(),card_background:e.find(".arm_card_background_file_url").val(),card_width:e.find("#arm_membership_card_width_input").val(),card_height:e.find("#arm_membership_card_height_input").val(),display_avatar:_}},arm_get_card_preview({action:"arm_membership_card_preview",temp_slug:r,css:JSON.stringify(e),card_selected_fields:JSON.stringify(t),card_selected_fields_label:JSON.stringify(i),_wpnonce:a})),!1}),jQuery(document).on("click",".arm_view_membership_card_btn",function(){var e=jQuery('input[name="arm_wp_nonce"]').val();arm_get_card_preview({action:"arm_membership_all_card_preview",arm_member_id:jQuery(this).attr("data-id"),_wpnonce:e})}),jQuery(document).on("click",".arm_mcard_preview_nav",function(){jQuery(".arm_loading").fadeIn("slow");var e=jQuery('input[name="arm_wp_nonce"]').val();arm_get_card_preview({action:"arm_membership_card_preview",temp_slug:jQuery(this).attr("data-slug"),arm_mcard_id:jQuery(this).attr("data-id"),_wpnonce:e})}),jQuery(document).on("click",".arm_card_background_remove",function(){var e=jQuery(this).parents("form");e.find(".arm_card_background_file_url").val(""),e.find("[data-avatar-type='arm_mcard_bg_img']").val(""),jQuery(this).addClass("hidden_section"),e.find(".arm_card_background_wrapper .armFileUploadBG").attr("data-arm_clicked","not"),e.find(".arm_card_background_wrapper").removeClass("hidden_section"),e.find(".arm_card_bg_selected_img img").attr("src","").css("display","none"),jQuery(".arm_membership_card_display_bg_img_label").find(".arm_old_file_url").addClass("hidden_section"),jQuery("#armTempEditFileUploadBG_add").removeAttr("disabled")}),jQuery(document).on("click",".arm_card_logo_remove",function(){var e=jQuery(this).parents("form");e.find(".arm_card_logo_file_url").val(""),e.find("[data-avatar-type='arm_mcard_logo']").val(""),jQuery(this).addClass("hidden_section"),e.find(".arm_card_logo_wrapper .armFileUpload").attr("data-arm_clicked","not"),e.find(".arm_card_logo_wrapper").removeClass("hidden_section"),e.find(".arm_card_selecred_img img").attr("src","").css("display","none"),jQuery(".arm_membership_card_display_avatar_label").find(".arm_old_file_url").addClass("hidden_section"),jQuery("#armTempEditFileUpload_add").removeAttr("disabled")}),jQuery(document).on("click",".arm_stripe_popup_icon_remove",function(){var e=jQuery(this).parents("form");e.find(".arm_stripe_popup_icon_file_url").val(""),jQuery(this).addClass("hidden_section"),e.find(".arm_stripe_popup_icon_wrapper .arm_stripe_popup_icon").attr("data-arm_clicked","not"),e.find(".arm_stripe_popup_icon_wrapper").removeClass("hidden_section"),jQuery(".arm_stripe_popup_icon_selected_img").addClass("hidden_section"),e.find(".arm_stripe_popup_icon_selected_img img").attr("src","").css("display","none"),jQuery(".arm_stripe_file_name").html(""),jQuery(".arm_stripe_popup_icon_containe").removeClass("arm_file_display"),jQuery("#arm_stripe_popup_icon_input").removeAttr("disabled")}),jQuery(document).on("click",".arm_card_icon_remove",function(){var e=jQuery(this).parents("form");e.find(".arm_card_icon_file_url").val(""),e.find("#arm_card_icon_input").val(""),jQuery(this).addClass("hidden_section"),e.find(".arm_card_icon_wrapper .arm_card_icon").attr("data-arm_clicked","not"),e.find(".arm_card_icon_wrapper").removeClass("hidden_section"),jQuery(".arm_card_icon_selected_img").addClass("arm_default_image_card"),jQuery(".arm_card_icon_selected_img img").addClass("arm_default_image_card")}),jQuery(document).on("click",".arm_achieve_add_plus_icon",function(e){e.stopPropagation();jQuery(".arm_add_achievements_wrapper div.arm_achievement_has_complete:last").after(jQuery(".arm_add_achievements_wrapper div.arm_achievement_has_complete:first").prop("outerHTML"));var e=jQuery(this).parents(".arm_add_achievements_wrapper"),r=e.find("div.arm_achievement_has_complete:last"),a=e.find("#arm_require_achive_counter").val(),a=parseInt(a)+1;e.find("#arm_require_achive_counter").val(a);return r.find("input.arm_achivement_badge_icon").attr("id","arm_require_achive_badges_id_"+a),r.find("dl.arm_achievement_badge_select dd ul").attr("data-id","arm_require_achive_badges_id_"+a),!1}),jQuery(document).on("click",".arm_achieve_add_minus_icon",function(e){if(e.stopPropagation(),1==jQuery(".arm_add_achievements_wrapper div.arm_achievement_has_complete").length)return alert("Minimum one required"),!1;var e=jQuery(this).parents(".arm_add_achievements_wrapper"),r=e.find("#arm_require_achive_counter").val();return arm_achieve_count=parseInt(r)-1,e.find("input#arm_require_achive_counter").val(arm_achieve_count),jQuery(this).parents(".arm_add_achievements_wrapper div.arm_achievement_has_complete").remove(),jQuery(".tipso_bubble").remove(),!1}),jQuery(document).on("click",".arm_achieve_edit_plus_icon",function(e){e.stopPropagation();jQuery(".arm_edit_achievements_wrapper div.arm_achievement_has_complete:last").after(jQuery(".arm_edit_achievements_wrapper div.arm_achievement_has_complete:first").prop("outerHTML"));var e=jQuery(this).parents(".arm_edit_achievements_wrapper"),r=e.find("div.arm_achievement_has_complete:last"),a=e.find("#arm_require_achive_counter").val();return arm_achieve_count=parseInt(a)+1,e.find("#arm_require_achive_counter").val(arm_achieve_count),r.find("input.arm_achivement_badge_icon").attr("id","arm_require_achive_badges_id_"+arm_achieve_count),r.find("dl.arm_achievement_badge_select dd ul").attr("data-id","arm_require_achive_badges_id_"+arm_achieve_count),!1}),jQuery(document).on("click",".arm_achieve_edit_minus_icon",function(e){if(e.stopPropagation(),1==jQuery(".arm_edit_achievements_wrapper div.arm_achievement_has_complete").length)return alert("Minimum one required"),!1;var e=jQuery(this).parents(".arm_edit_achievements_wrapper"),r=e.find("#arm_require_achive_counter").val();return arm_achieve_count=parseInt(r)-1,e.find("input#arm_require_achive_counter").val(arm_achieve_count),jQuery(this).parents(".arm_edit_achievements_wrapper div.arm_achievement_has_complete").remove(),jQuery(".tipso_bubble").remove(),!1}),jQuery(document).on("click",".arm_selectbox.arm_achive_badges_edit_selectbox,.arm_selectbox.arm_achievement_badge_select",function(e){jQuery(this).find("dd ul").toggle()}),jQuery(document).on("click",".arm_achievement_badge_select dt",function(e){var r=jQuery(this);0==r.parent().find("dd ul").is(":visible")?(jQuery("dd ul").not(this).hide(),r.find("span").show(),r.find("input").hide(),r.find("input").focus()):r.parent().find("dd ul").show(),r.parent().find("dd ul li:not(.field_inactive)").show()}),jQuery(document).on("click",".arm_achievement_badge_select ul li",function(){var e=jQuery(this).parents("div.arm_achievement_has_complete").find("input.arm_achivement_badge_icon").attr("id"),r=jQuery(this).attr("data-value");jQuery("#"+e).val(r)}),jQuery(document).on("click",".arm_login_history_search_btn",function(){var e=jQuery(this).parents("div.arm_all_loginhistory_filter_wrapper").find("input#arm_log_history_search_user").val(),r=jQuery(this).parents(".arm_all_loginhistory_main_wrapper"),a=jQuery('input[name="arm_wp_nonce"]').val();return jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_login_history_search_action&arm_log_history_search_user="+e+"&_wpnonce="+a,beforeSend:function(){r.css("opacity","0.4")},success:function(e){return e=arm_convert_json_from_pattern(e),r.css("opacity","1"),r.replaceWith(e),arm_tooltip_init(),!1}}),!1}),jQuery(document).on("click",".arm_login_history_page_search_btn",function(){jQuery(this).parents("div.arm_all_loginhistory_filter_wrapper");var e=jQuery("input#arm_log_history_search_user").val(),r=jQuery("input.arm_login_history_type").val(),a=jQuery(".arm_all_loginhistory_wrapper"),_=jQuery('input[name="arm_wp_nonce"]').val();return jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_login_history_page_search_action&arm_login_history_page_search_user="+e+"&arm_failed_login_filter="+r+"&_wpnonce="+_,beforeSend:function(){a.css("opacity","0.4"),jQuery(".arm_loading").show()},success:function(e){return e=arm_convert_json_from_pattern(e),a.css("opacity","1"),a.replaceWith(e),arm_tooltip_init(),jQuery(".arm_loading").hide(),!1}}),!1}),jQuery(function(){var _;jQuery.isFunction(jQuery().autocomplete)&&(_=jQuery('input[name="arm_wp_nonce"]').val(),0<jQuery("#arm_user_multi_auto_selection").length&&(jQuery("#arm_user_multi_auto_selection").autocomplete({minLength:0,delay:500,appendTo:".arm_multiauto_user_field",source:function(e,r){var a=jQuery("#arm_display_admin_user").val();jQuery.ajax({type:"POST",url:ajaxurl,data:"action=get_arm_member_list&txt="+e.term+"&arm_display_admin_user="+a+"&_wpnonce="+_,beforeSend:function(){},success:function(e){e=arm_convert_json_from_pattern(e),"success"==(e=jQuery.parseJSON(e)).status&&(0==jQuery("#arm_users_multiauto_items .arm_users_multiauto_itembox").length&&(jQuery("#arm_users_multiauto_items").html(""),jQuery("#arm_user_multi_auto_selection").attr("required","required")),r(e.data))}})},focus:function(){return!1},select:function(e,r){var a,r=r.item;return jQuery("#arm_user_multi_auto_selection").val(""),0<jQuery("#arm_users_multiauto_items .arm_users_multiauto_itembox_"+r.id).length||(a='<div class="arm_users_multiauto_itembox arm_users_multiauto_itembox_'+r.id+'">',a=(a+='<input type="hidden" class="arm_user_multiauto_id_hidden" name="arm_user_ids[]" value="'+r.id+'"/>')+"<label>"+r.label+'<span class="arm_remove_user_multiauto_selected_itembox">x</span></label></div>',jQuery("#arm_users_multiauto_items").append(a),jQuery("#arm_user_multi_auto_selection").removeAttr("required")),jQuery("#arm_users_multiauto_items").show(),!1}}).data("uiAutocomplete")._renderItem=function(e,r){var a="ui-menu-item",a=(0<jQuery("#arm_users_multiauto_items .arm_users_multiauto_itembox_"+r.id).length&&(a+=" ui-menu-item-selected"),'<li class="'+a+'" data-value="'+r.value+'" data-id="'+r.id+'" ><a>'+r.label+"</a></li>");return jQuery(a).appendTo(e)})),jQuery(document).on("click",".arm_remove_user_multiauto_selected_itembox",function(){return jQuery(this).parents(".arm_users_multiauto_itembox").remove(),0==jQuery("#arm_users_multiauto_items .arm_users_multiauto_itembox").length&&(jQuery("#arm_user_multi_auto_selection").attr("required","required"),jQuery("#arm_users_multiauto_items").hide()),!1})}),jQuery(document).on("change","#arm_view_profile_link",function(){this.checked?jQuery("#arm_view_profile_link_label").show():jQuery("#arm_view_profile_link_label").hide()}),jQuery(document).on("click",".arm_paid_post_members_list_detail",function(){var e=jQuery(this).attr("data-list_id"),r=(jQuery(this).attr("data-list_type"),jQuery(this).attr("data-paid-post-name")),a=jQuery('input[name="arm_wp_nonce"]').val();return""!=e&&0!=e&&(jQuery(".arm_members_list_detail_popup_text").hide(0),arm_popup_initialize(".arm_members_list_detail_popup",160,0,"slideDown"),""!=r&&jQuery(".arm_member_paid_post_name").html(" ( "+r+" ) "),jQuery("#arm_loading_grid_members").fadeIn("slow"),jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_get_paid_post_members_data&post_id="+e+"&_wpnonce="+a,success:function(e){e=arm_convert_json_from_pattern(e),jQuery(".arm_members_list_detail_popup_text").show(0),jQuery("#arm_loading_grid_members").fadeOut();var e=jQuery.parseJSON(e);"success"==e.status&&(e=e.data,jQuery("#armember_datatable_1").DataTable({sDom:'t<"footer"ipl>',sPaginationType:"four_button",bJQueryUI:!0,bPaginate:!0,bAutoWidth:!1,sScrollX:"100%",bScrollCollapse:!0,aaData:e,aoColumnDefs:[{bVisible:!1,aTargets:[]},{bSortable:!1}],aaSorting:[],aLengthMenu:[10,25,50,100,150,200],oLanguage:{sInfo:__ARM_Showing+" _START_ "+__ARM_to+" _END_ "+__ARM_of+" _TOTAL_ "+__ARM_members,sInfoEmpty:__ARM_Showing_empty,sLengthMenu:__ARM_Show+"_MENU_",sEmptyTable:__ARM_NO_FOUNT,sZeroRecords:__ARM_NO_MATCHING}}))},error:function(e){jQuery("#arm_loading_grid_members").fadeOut()}})),!1}),jQuery(document).on("click",".add_new_paid_post_close_btn",function(){jQuery(".arm_add_new_paid_post_wrapper").bPopup().close()}),jQuery(document).on("change",".arm_paid_post_item_type_input",function(){var e=jQuery(this).val(),r=(jQuery("#arm_add_paid_post_type").val(),jQuery(this).attr("data-type")),r=(jQuery("#arm_paid_post_items").html("").hide(),jQuery("#arm_paid_post_items_input").attr("required","required"),jQuery(".arm_paid_post_item_type_text").text(r),jQuery(".arm_drip_enable_post_type_opts").removeClass("hidden_section"),jQuery(".arm_drip_rule_enable_type_text").text(r),jQuery('input[name="_wpnonce"]').val());return void 0===r&&(r=jQuery('input[name="arm_wp_nonce"]').val()),jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_paid_post_pages_lists&post_type="+e+"&_wpnonce="+r,success:function(e){e=arm_convert_json_from_pattern(e),e=jQuery.parseJSON(e),jQuery(".arm_loading").hide(),"success"==e.status&&(jQuery(".arm_paid_posts_add_edit_main_wrapper").find('ul[data-id="arm_paid_post_items_input"]').html(e.paid_post_html),jQuery(".arm_paid_posts_add_edit_main_wrapper").find('ul[data-id="arm_paid_post_items_input"] li:first-child').trigger("click"),jQuery(".arm_paid_posts_add_edit_main_wrapper").trigger("click"))}}),!1}),jQuery(document).on("click",".arm_paid_post_delete_btn",function(){var _=jQuery(this).attr("data-item_id"),e=jQuery('input[name="arm_wp_nonce"]').val();""!=_&&0!=_&&jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_delete_single_paid_post&act=delete&id="+_+"&_wpnonce="+e,success:function(e){var r,a;e=arm_convert_json_from_pattern(e),"success"==(e=jQuery.parseJSON(e)).type?(a=""!=e.msg?e.msg:delPaidPostSuccess,armToast(a,"success"),r=jQuery(".row_"+_)[0],arm_load_paid_post_list_filtered_grid(r)):(a=""!=e.msg?e.msg:delPaidPostError,armToast(a,"error"))}}),hideConfirmBoxCallback()}),jQuery(document).on("click",".edit_paid_post_close_btn",function(){jQuery(".arm_edit_paid_post_wrapper").bPopup().close()}),jQuery(document).on("click","#arm_pay_per_post_settings_btn",function(){"undefined"!=typeof tinyMCE&&tinyMCE.activeEditor&&!tinyMCE.activeEditor.isHidden()&&(e=tinymce.activeEditor.getContent(),jQuery("textarea[name='arm_general_settings[arm_pay_per_post_default_content]']").val(e));var e=jQuery("#arm_pay_per_post_settings").serialize(),r=jQuery("#arm_pay_per_post_settings").find('input[name="arm_wp_nonce"]').val(),e=(datastr="action=arm_update_pay_per_post_settings&"+e,languages_settings="",0<jQuery(".arm_general_settings_multi_languages_tab").length&&(languages_settings=jQuery(".arm_common_setting_multi_language_wrapper input,.arm_common_setting_multi_language_wrapper textarea").serialize(),datastr+="&"+languages_settings),datastr+="&_wpnonce="+r,jQuery(this));e.hasClass("arm_already_clicked")||(jQuery("#arm_loader_img").show(),e.addClass("arm_already_clicked"),e.attr("disabled","disabled"),jQuery.ajax({url:__ARMAJAXURL,type:"POST",data:datastr,success:function(e){var r,a;e=arm_convert_json_from_pattern(e),"success"==(e=jQuery.parseJSON(e)).type?(void 0!==e.arm_pay_per_post_buynow_var&&""!==e.arm_pay_per_post_buynow_var&&(a=jQuery("#arm_pay_per_post_allow_fancy_url:checked").val(),r=e.arm_pay_per_post_buynow_var,1==a?jQuery("#armpay_per_post_buynow_url_example").text(__ARMSITEURL+"/"+r+"/{post_id}"):jQuery("#armpay_per_post_buynow_url_example").text(__ARMSITEURL+"/?"+r+"={post_id}")),a=""!=e.msg?e.msg:saveSettingsSuccess,armToast(a,"success"),"1"==jQuery("#is_reload_page").val()&&location.reload()):(a=""!=e.msg?e.msg:saveSettingsError,armToast(a,"error")),jQuery("#arm_loader_img").hide()}}))}),jQuery(document).on("change",".arm_plan_type_chk",function(){var e=jQuery(this).val();"1"==e?(jQuery(".arm_transaction_membership_plan_wrapper").addClass("hidden_section"),jQuery("#arm_plan_id").removeAttr("required","required"),jQuery(".arm_transaction_paid_post_plan_wrapper ").removeAttr("form-required"),jQuery("#arm_paid_post_plan_auto_selection").attr("required","required"),jQuery(".arm_transaction_paid_post_plan_wrapper").removeClass("hidden_section"),jQuery(".arm_transaction_membership_gift_wrapper").addClass("hidden_section"),jQuery("#arm_gift_id").removeAttr("required","required")):"2"==e?(jQuery(".arm_transaction_membership_plan_wrapper").addClass("hidden_section"),jQuery("#arm_plan_id").removeAttr("required","required"),jQuery(".arm_transaction_paid_post_plan_wrapper ").removeAttr("form-required"),jQuery("#arm_paid_post_plan_auto_selection").removeAttr("required","required"),jQuery(".arm_transaction_paid_post_plan_wrapper").addClass("hidden_section"),jQuery(".arm_transaction_membership_gift_wrapper").removeClass("hidden_section"),jQuery("#arm_gift_id").attr("required","required")):(jQuery(".arm_transaction_membership_plan_wrapper").removeClass("hidden_section"),jQuery(".arm_transaction_paid_post_plan_wrapper ").attr("form-required"),jQuery("#arm_plan_id").attr("required","required"),jQuery("#arm_paid_post_plan_auto_selection").removeAttr("required","required"),jQuery(".arm_transaction_paid_post_plan_wrapper").addClass("hidden_section"),jQuery(".arm_transaction_membership_gift_wrapper").addClass("hidden_section"),jQuery("#arm_gift_id").removeAttr("required","required"))}),jQuery(document).on("change","#arm_pay_per_post_allow_fancy_url",function(e){var r=jQuery("#arm_pay_per_post_buynow_var").val();1==jQuery("#arm_pay_per_post_allow_fancy_url:checked").val()?jQuery("#armpay_per_post_buynow_url_example").text(__ARMSITEURL+"/"+r+"/{post_id}"):jQuery("#armpay_per_post_buynow_url_example").text(__ARMSITEURL+"/?"+r+"={post_id}")}),jQuery(document).on("click",".arm_member_paid_post_plans_modal_paging_container .arm_page_numbers",function(){var r=jQuery(this).parents(".arm_paid_post_plans_wrapper"),e=r.attr("data-user_id"),a=jQuery(this).attr("data-page"),_=jQuery(this).attr("data-per_page"),t=jQuery('input[name="arm_wp_nonce"]').val();return jQuery(this).hasClass("current")||jQuery(this).hasClass("dots")||jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_paid_post_plan_modal_paging_action&user_id="+e+"&page="+a+"&per_page="+_+"&_wpnonce="+t,beforeSend:function(){r.css("opacity","0.4")},success:function(e){return e=arm_convert_json_from_pattern(e),r.css("opacity","1"),jQuery(".arm_member_manage_post_detail_popup_text").empty(),jQuery(".arm_member_manage_post_detail_popup_text").html(e),arm_tooltip_init(),!1}}),!1}),jQuery(document).on("change","#arm_message_type",function(){var e=jQuery(this).val();-1<["on_new_subscription_post","on_renew_subscription_post","on_recurring_subscription_post","on_cancel_subscription_post","before_expire_post","on_expire_post","on_new_subscription_gift","on_invite_gift","on_redeem_gift"].indexOf(e)?(jQuery(".arm_membership_plan_selection_row").hide(),jQuery(".arm_membership_plan_selection_row").find("#arm_message_subscription").val("").trigger("chosen:updated")):(jQuery(".arm_membership_plan_selection_row").show(),"on_purchase_subscription_bank_transfer"==e?jQuery(".arm_no_bank_notification").hide():jQuery(".arm_no_bank_notification").show())}),jQuery(document).on("click","#smtp_debug_notices_link",function(e){jQuery("#arm_smtp_debug_notices").bPopup({closeClass:"popup_close_btn",opacity:.5,follow:[!1,!1]})}),jQuery(document).on("change","#arm_template_searchbox, #arm_temp_searchbox",function(e){1==jQuery(this).prop("checked")?(jQuery(".arm_search_field_div").show(0),jQuery(".arm_search_type_div").show(0)):(jQuery(".arm_search_field_div").hide(0),jQuery(".arm_search_type_div").hide(0))}),jQuery(document).on("change","#arm_api_security_key",function(){var r=jQuery(this).attr("data-old_value"),e=jQuery(this).val(),r="arm_api_key="+r,a="arm_api_key="+e;jQuery(".arm_api_key_data_text").each(function(){var e=jQuery(this).text();data_key=e.replace(r,a),jQuery(this).text(data_key)}),jQuery(".arm_api_key_data").each(function(){var e=jQuery(this).attr("data-code");data_key=e.replace(r,a),jQuery(this).attr("data-code",data_key)}),jQuery(this).attr("data-old_value",e)}),jQuery(document).on("click","#arm_api_service_feature_btn",function(){var e=jQuery("#arm_api_security_key_form").serialize(),r=jQuery("#arm_api_security_key_form").find('input[name="arm_wp_nonce"]').val(),a=jQuery(this);a.hasClass("arm_already_clicked")||(jQuery("#arm_loader_img").show(),a.addClass("arm_already_clicked"),a.attr("disabled","disabled"),jQuery.ajax({url:__ARMAJAXURL,type:"POST",data:"action=arm_update_api_service_feature&"+e+"&_wpnonce="+r,success:function(e){var r;e=arm_convert_json_from_pattern(e),"success"==(e=jQuery.parseJSON(e)).type?(r=""!=e.msg?e.msg:saveSettingsSuccess,armToast(r,"success"),"1"==jQuery("#is_reload_page").val()&&location.reload()):(r=""!=e.msg?e.msg:saveSettingsError,armToast(r,"error")),jQuery("#arm_loader_img").hide()}}))}),jQuery(document).on("change","#arm_list_membership_plans",function(){jQuery(this).is(":checked")?jQuery(".arm_list_membership_plans_hide").slideDown():jQuery(".arm_list_membership_plans_hide").slideUp()}),jQuery(document).on("change","#arm_membership_plan_details",function(){jQuery(this).is(":checked")?jQuery(".arm_membership_plan_details_hide").slideDown():jQuery(".arm_membership_plan_details_hide").slideUp()}),jQuery(document).on("change","#arm_member_details",function(){jQuery(this).is(":checked")?jQuery(".arm_member_details_hide").slideDown():jQuery(".arm_member_details_hide").slideUp()}),jQuery(document).on("change","#arm_member_memberships",function(){jQuery(this).is(":checked")?jQuery(".arm_member_memberships_hide").slideDown():jQuery(".arm_member_memberships_hide").slideUp()}),jQuery(document).on("change","#arm_member_paid_posts",function(){jQuery(this).is(":checked")?jQuery(".arm_member_paid_posts_hide").slideDown():jQuery(".arm_member_paid_posts_hide").slideUp()}),jQuery(document).on("change","#arm_member_payments",function(){jQuery(this).is(":checked")?jQuery(".arm_member_payments_hide").slideDown():jQuery(".arm_member_payments_hide").slideUp()}),jQuery(document).on("change","#arm_member_paid_post_payments",function(){jQuery(this).is(":checked")?jQuery(".arm_member_paid_post_payments_hide").slideDown():jQuery(".arm_member_paid_post_payments_hide").slideUp()}),jQuery(document).on("change","#arm_check_coupon_code",function(){jQuery(this).is(":checked")?jQuery(".arm_check_coupon_code_hide").slideDown():jQuery(".arm_check_coupon_code_hide").slideUp()}),jQuery(document).on("change","#arm_member_add_membership",function(){jQuery(this).is(":checked")?jQuery(".arm_member_add_membership_hide").slideDown():jQuery(".arm_member_add_membership_hide").slideUp()}),jQuery(document).on("change","#arm_create_transaction",function(){jQuery(this).is(":checked")?jQuery(".arm_create_transaction_hide").slideDown():jQuery(".arm_create_transaction_hide").slideUp()}),jQuery(document).on("change","#arm_member_cancel_membership",function(){jQuery(this).is(":checked")?jQuery(".arm_member_cancel_membership_hide").slideDown():jQuery(".arm_member_cancel_membership_hide").slideUp()}),jQuery(document).on("change","#arm_check_member_membership",function(){jQuery(this).is(":checked")?jQuery(".arm_check_member_membership_hide").slideDown():jQuery(".arm_check_member_membership_hide").slideUp()}),jQuery(document).on("click","#armember_stripe_webhook_close_notice_icon",function(e){var r=jQuery(this).data("arm_confirm"),a=jQuery(this).attr("data-nonce");confirm(r)&&jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_stripe_dismisss_admin_notice&_wpnonce="+a,success:function(){jQuery(".arm_dismiss_stripe_webhook_notice").fadeOut("slow")}})}),jQuery(document).on("click","#armember_google_social_login_close_notice_icon",function(e){var r=jQuery(this).data("arm_confirm"),a=jQuery(this).attr("data-nonce");confirm(r)&&jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_google_dismisss_admin_notice&_wpnonce="+a,success:function(){jQuery(".arm_dismiss_google_social_login_notice").fadeOut("slow")}})}),jQuery(document).on("click","#armember_linkedin_openid_close_notice_icon",function(e){var r=jQuery(this).data("arm_confirm"),a=jQuery(this).attr("data-nonce");confirm(r)&&jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_dismiss_linkedin_openid_admin_notice&_wpnonce="+a,success:function(){jQuery(".arm_dismiss_linkedin_openid_admin_notice").fadeOut("slow")}})}),jQuery(document).on("change",'input[name="payment_gateway_settings[stripe][stripe_payment_mode]"]',function(){jQuery("#arm_stripe_webhook_verified").val(""),jQuery("#arm_stripe_webhook_verify").css("display","none"),jQuery("#arm_stripe_webhook_error").css("display","none")}),jQuery(document).on("keyup","#arm_stripe_live_secrate_key, #arm_stripe_test_secrate_key",function(e){13!=(e.keyCode||e.which)&&(jQuery("#arm_stripe_webhook_verified").val(""),jQuery("#arm_stripe_webhook_verify").css("display","none"),jQuery("#arm_stripe_webhook_error").css("display","none"))}),jQuery(document).ready(function(){function e(e){e?jQuery(".arm_sync_drip_row").removeClass("hidden_section").show():(jQuery(".arm_sync_drip_row").addClass("hidden_section").hide(),jQuery("#arm_allow_drip_expired_plan_is_sync").val(0))}e(jQuery("#arm_allow_drip_expired_plan").is(":checked")),jQuery(document).on("change","#arm_allow_drip_expired_plan",function(){e(jQuery(this).is(":checked"))})}),jQuery(document).on("click",".arm_start_drip_data",function(e){e.preventDefault();var e=jQuery(".arm_drip_ids_sync").val(),r=jQuery(".arm_drip_ids_sync_total").val(),a=(hideConfirmBoxCallback_sync(),jQuery(".arm_drip_rule_sync_btn").attr("disabled","disabled"),jQuery("#arm_access_restriction_settings_btn").attr("disabled","disabled"),jQuery('input[name="arm_wp_nonce"]').val());return arm_import_drip_rule_progressbar(r),jQuery(".arm_drip_rule_sync_progressbar").show(),jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_drip_data_sync_import&drip_rules="+e+"&_wpnonce="+a,success:function(e){e=arm_convert_json_from_pattern(e);var r=(e=jQuery.parseJSON(e)).type,e=e.msg;"success"==r?(armToast(e,"success"),jQuery("#arm_allow_drip_expired_plan_is_sync").val(1),jQuery("#arm_access_restriction_settings_btn").removeAttr("disabled"),jQuery(".arm_drip_rule_sync_btn").removeAttr("disabled")):armToast(e,"error")},error:function(e){jQuery("#arm_access_restriction_settings_btn").removeAttr("disabled"),jQuery(".arm_drip_rule_sync_btn").removeAttr("disabled"),armToast("Sorry, something went wrong. Please try again.","error"),jQuery(".arm_drip_rule_sync_btn_div").show(0)}}),!1}),jQuery(document).on("click",".arm_member_plan_refund_btn",function(){var e=jQuery(this).parents("form.arm_refund_form").serialize(),r=(jQuery(this).attr("disabled","disabled"),jQuery('input[name="arm_wp_nonce"]').val());""!=e&&jQuery.ajax({type:"POST",url:__ARMAJAXURL,data:"action=arm_refund_subscription_ajax_action&"+e+"&_wpnonce="+r,success:function(e){var r;e=arm_convert_json_from_pattern(e),"success"==(e=jQuery.parseJSON(e)).type?(r=""!=e.msg?e.msg:cancelSubscriptionSuccess,armToast(r,"success"),setTimeout(function(){jQuery(this).parents("form.arm_refund_form").trigger("reset"),jQuery(this).removeAttr("disabled","disabled"),hideConfirmBoxCallback(),arm_reload_subscription_list()},200)):(armToast(e.msg,"error"),jQuery(this).removeAttr("disabled","disabled"))}})}),jQuery(document).on("change",".arm_refund_mode_radio",function(){"full"!=jQuery(this).val()?jQuery(this).parents(".arm_confirm_box").find(".arm_refund_amount_container").removeClass("hidden_section"):jQuery(this).parents(".arm_confirm_box").find(".arm_refund_amount_container").hasClass("hidden_section")||jQuery(this).parents(".arm_confirm_box").find(".arm_refund_amount_container").addClass("hidden_section")}),jQuery(document).on("change",".arm_payment_method_type_chk",function(){"automatic"==jQuery(this).val()?(jQuery("#arm_subscription_id").attr("required","required"),jQuery(".arm_subscription_ids_automatic").removeClass("hidden_section")):(jQuery("#arm_subscription_id").removeAttr("required","required"),jQuery(".arm_subscription_ids_automatic").addClass("hidden_section"))}),jQuery(document).on("change","#arm_pay_per_post_allow_fancy_url",function(e){var r=jQuery("#arm_pay_per_post_buynow_var").val();1==jQuery("#arm_pay_per_post_allow_fancy_url:checked").val()?jQuery("#armpay_per_post_buynow_url_example").text(__ARMSITEURL+"/"+r+"/{post_id}"):jQuery("#armpay_per_post_buynow_url_example").text(__ARMSITEURL+"/?"+r+"={post_id}")});